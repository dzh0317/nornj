{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///nornj.min.js","webpack:///webpack/bootstrap 43bde5819c919c883b01","webpack:///./src/core.js","webpack:///./src/utils/tools.js","webpack:///./src/utils/createTmplRule.js","webpack:///./src/transforms/transformData.js","webpack:///./src/helpers/extension.js","webpack:///./src/helpers/filter.js","webpack:///./src/utils/escape.js","webpack:///./src/transforms/transformParam.js","webpack:///./src/transforms/transformElement.js","webpack:///./src/parser/checkStringElem.js","webpack:///./src/base.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/utils/registerComponent.js","webpack:///./src/config.js","webpack:///./src/compiler/compile.js","webpack:///./src/parser/checkElem.js","webpack:///./src/compiler/buildRuntime.js","webpack:///./src/utils/taggedTmpl.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","global","nj","outputH","apply","arguments","createElement","components","preAsts","asts","templates","errorTitle","tmplRule","self","textTag","textMode","arrayPush","arr1","arr2","nativeArrayPush","arraySlice","arrLike","start","end","nativeArraySlice","isArray","obj","Array","isObject","type","_typeof","isNumber","toString","isString","isArrayLike","length","_getLength","each","func","context","isArr","ret","keys","k","trimRight","str","replace","REGEX_TRIM_RIGHT","all","s1","noop","throwIf","val","msg","Error","warn","console","error","create","clearQuot","value","clearDouble","regex","charF","REGEX_QUOT_S","REGEX_QUOT_D","toCamelCase","indexOf","letter","substr","toUpperCase","defineProp","defineProps","assign","__WEBPACK_IMPORTED_MODULE_0__core__","Symbol","iterator","constructor","push","slice","defineProperties","key","target","args","source","_createRegExp","reg","mode","RegExp","_clearRepeat","char","_replace$","_replaceMinus","createTmplRule","rules","undefined","isGlobal","_nj$tmplRule","_nj$tmplRule$startRul","startRule","_nj$tmplRule$endRule","endRule","_nj$tmplRule$extensio","extensionRule","_nj$tmplRule$propRule","propRule","_nj$tmplRule$strPropR","strPropRule","_nj$tmplRule$template","templateRule","_nj$tmplRule$tagSpRul","tagSpRule","_nj$tmplRule$commentR","commentRule","extension","prop","strProp","template","tagSp","comment","firstChar","lastChar","extensionRules","escapeExtensionRule","escapePropRule","escapeStrPropRule","braceParamStr","tmplRules","xmlOpenTag","openTagParams","braceParam","braceParamG","spreadProp","replaceSplit","replaceParam","checkElem","exAll","include","incompleteStart","incompleteEnd","__WEBPACK_IMPORTED_MODULE_1__tools__","styleProps","__WEBPACK_IMPORTED_MODULE_1__utils_tools__","pattern","matchArr","exec","test","toLowerCase","REGEX_NUM","getData","data","hasCtx","ctx","_getLevel","level","p2","getComputedData","fn","_njTmpl","_njData","_njParent","parent","_njIndex","index","_njLevel","_njIcp","icp","getElement","p1","nameO","subName","element","cp","getElementRefer","refer","getElementName","addArgs","props","dataRefer","unshift","newContext","p3","newData","extra","fallback","fixPropName","assignStrProps","paramsE","v","exRet","p4","p5","param","_getLocalComponents","localConfigs","initCtx","tmplWrap","configs","main","lc","lc2","_njParam","levelSpace","firstNewline","createElementApply","fns","us","useString","x","extensions","f","filters","np","tf","wn","sp","r","e","er","en","aa","an","g","ans","es","escape","ls","fl","h","H","tmplName","_njName","_defineProperty","writable","_config","params","onlyGlobal","exProps","isProp","subExProps","isSub","registerExtension","options","extensionConfig","__WEBPACK_IMPORTED_MODULE_2__transforms_transformData__","if","useUnless","result","elseFn","elseifs","elseif","else","switch","unless","list","item","len","lenObj","moreValues","_len","@first","@last","@length","retI","spread","show","style","display","for","_njOpts","loopLast","last","join","_arguments","paramNames","forEach","block","pre","with","originalData","as","arg","once","cacheObj","cacheKey","_njFnsNo","cache","useCache","reset","resetList","cacheValKey","_defaultCfg","strArg","_getArrayByNum","isContainEnd","val1","val2","map","hasOptions","registerFilter","filter","filterConfig",".","_","method","lastValue","#","==","===","!=","!==","<","<=",">",">=","+","-","*","/","%","**","Math","pow","//","floor","?","!","&&","or","int","parseInt","float","parseFloat","bool",":","flags","css","cssText","..","rLt","<=>","REGEX_ESCAPE","match","ESCAPE_LOOKUP","unescape","REGEX_UNESCAPE","UNESCAPE_LOOKUP","&","\"","'","nbsp","ensp","emsp","thinsp","zwnj","zwj","lt","gt","amp","_compiledProp","innerBrackets","innerQuotes","filtersTmp","split","trim","retF","_getFilterParam","filterObj","filterName","paramsF","REGEX_REPLACE_CHAR","g1","parentNum","REGEX_JS_PROP","hasComputed","isBasicType","isComputed","isEmpty","_getProp","REGEX_LT_GT","LT_GT_LOOKUP","REGEX_QUOTE","REGEX_PROP_FILTER","REGEX_ARRPROP_FILTER","g2","REGEX_ARR_OBJ_FILTER","ARR_OBJ_FILTER_LOOKUP","REGEX_OBJKEY_FILTER","REGEX_SP_FILTER","SP_FILTER_LOOKUP","REGEX_SPACE_S_FILTER","REGEX_FN_FILTER","FN_FILTER_LOOKUP","_getReplaceParam","hasColon","_fixOperator","_fixFilter","REGEX_FIX_OPERATOR","REGEX_SPACE_FILTER","REGEX_FIX_FILTER","g3","g4","g5","_replaceInnerBrackets","propR","REGEX_INNER_BRACKET","compiledParam","isStr","strs","isAll","retP","_njLt_","_njGt_","||","..<",")","]","[","{","}","getXmlOpenTag","isXmlSelfCloseTag","REGEX_XML_SELF_CLOSE_TAG","verifySelfCloseTag","tagName","OMITTED_CLOSE_TAGS","getOpenTagParams","tag","onlyBrace","isXmlCloseTag","getInsideBraceParam","isEx","noParams","ret1","isExAll","isTmpl","addTmpl","node","paramsP","tmpls","objT","_njLen","no","_objT","__WEBPACK_IMPORTED_MODULE_2__transformParam__","isParamsEx","addParamsEx","exPropsName","content","exPropsNode","ex","exCompileConfig","config","__WEBPACK_IMPORTED_MODULE_3__helpers_extension__","isPropS","elemName","isStrPropS","area","base","br","col","embed","hr","img","input","keygen","link","meta","track","wbr","compileStringTmpl","tmpl","tmplKey","onlyParse","xmls","fullXml","isInBrace","xml","lastChar3","isSpread","SPLIT_FLAG","_formatAll","_checkStringElem","paramCount","_njParamCount","tmplFn","_njTmplKey","tmplMainFn","_createCurrent","current","elem","_setTextAfter","textAfter","_setText","inTextContent","omittedCloseElem","textBefore","elemParams","_omittedCloseElem","_omittedCloseElem2","_slicedToArray","_elem","_elemName","_elemParams","_textAfter","__WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__","_setElem","_setSelfCloseElem","cName","elemNameL","TEXT_CONTENT","_omittedCloseElem3","_omittedCloseElem4","_transformToEx","elemArr","bySelfClose","paramsEx","substring","retS","_getSplitParams","retC","begin","text","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","TypeError","__WEBPACK_IMPORTED_MODULE_2__utils_registerComponent__","__WEBPACK_IMPORTED_MODULE_3__utils_createTmplRule__","__WEBPACK_IMPORTED_MODULE_4__config__","__WEBPACK_IMPORTED_MODULE_6__helpers_extension__","__WEBPACK_IMPORTED_MODULE_7__helpers_filter__","__WEBPACK_IMPORTED_MODULE_8__compiler_compile__","__WEBPACK_IMPORTED_MODULE_9__utils_taggedTmpl__","registerComponent","_global","NornJ","Function","eval","window","component","__WEBPACK_IMPORTED_MODULE_1__utils_createTmplRule__","delimiters","includeParser","_createCompile","fileName","tmplFns","isObj","__WEBPACK_IMPORTED_MODULE_6__utils_createTmplRule__","_createAstRoot","__WEBPACK_IMPORTED_MODULE_5__parser_checkStringElem__","__WEBPACK_IMPORTED_MODULE_2__parser_checkElem__","__WEBPACK_IMPORTED_MODULE_4__buildRuntime__","__WEBPACK_IMPORTED_MODULE_3__transforms_transformData__","precompile","_createRender","compileH","compile","render","renderH","_plainTextNode","parentContent","noSplitNewline","__WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__","allowNewline","hasExProps","isLast","first","isElemNode","exParams","openTagName","hasCloseTag","needAddToProps","__WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__","exName","exConfig","paramV","selfCloseTag","pushContent","typeRefer","tagParams","NO_SPLIT_NEWLINE","_checkContentElem","braceParams","REGEX_REPLACE_BP","_buildFn","useStringLocal","fnStr","isTmplEx","retType","counter","_type","_params","_paramsE","_compParam","_dataRefer","_ex","_value","_filter","_fnH","_tmp","_children","_buildContent","_buildOptions","exPropsStr","subExPropsStr","hashProps","valueL","hashStr","noConfig","_no","_buildPropData","dataValueStr","special","_obj$prop","specialP","CUSTOM_VAR","dataStr","_replaceBackslash","counterValue","valueStr","valueStrL","filterStr","_filterC","configF","__WEBPACK_IMPORTED_MODULE_5__helpers_filter__","filterVarStr","globalFilterStr","filterStrI","fnHVarStr","_filterStr","reduce","propStr","hasComma","_buildEscape","__WEBPACK_IMPORTED_MODULE_3__utils_escape__","_replaceStrs","_buildProps","str0","propData","strI","hasName","_noT","paramsEC","propsEx","_paramsSE","paramsStr","_buildParams","propsExS","useStringF","hasPropsEx","_paramsC","bothPropsEx","_paramsEC","_buildPropsEx","_paramsSEC","paramKeys","onlyKey","isFirst","_buildRender","textStr","dataReferStr","configE","exVarStr","_exC","globalExStr","__WEBPACK_IMPORTED_MODULE_4__helpers_extension__","_dataReferC","tools","_filterStr2","fnH","_typeC","valueStrT","_typeRefer","typeStr","_typeL","typeS","_retP","_compParamC","_childrenC","_paramsStr","_paramsC2","_selfClose","_firstNode","retStr","noLevel","nodeType","_buildLevelSpaceRt","_buildLevelSpace","noSpace","astContent","ast","createTaggedTmpl","opts","taggedTmpl","taggedTmplH","__WEBPACK_IMPORTED_MODULE_2__parser_checkStringElem__"],"mappings":"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","file":"nornj.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (immutable) */ __webpack_exports__[\"a\"] = nj;\nfunction nj() {\n  return nj['taggedTmpl' + (nj.outputH ? 'H' : '')].apply(null, arguments);\n}\n\nnj.createElement = null;\nnj.components = {};\nnj.preAsts = {};\nnj.asts = {};\nnj.templates = {};\nnj.errorTitle = '[NornJ]';\nnj.tmplRule = {};\nnj.outputH = false;\nnj.global = typeof self !== 'undefined' ? self : global;\nnj.textTag = 'nj-text';\nnj.textMode = false;\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(11)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return defineProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return defineProps; });\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = arrayPush;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = arraySlice;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = isArray;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = isObject;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = isNumber;\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = isString;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = isArrayLike;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = each;\n/* harmony export (immutable) */ __webpack_exports__[\"r\"] = trimRight;\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = noop;\n/* harmony export (immutable) */ __webpack_exports__[\"p\"] = throwIf;\n/* harmony export (immutable) */ __webpack_exports__[\"s\"] = warn;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = error;\n/* harmony export (immutable) */ __webpack_exports__[\"o\"] = obj;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = clearQuot;\n/* harmony export (immutable) */ __webpack_exports__[\"q\"] = toCamelCase;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return assign; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\nvar nativeArrayPush = Array.prototype.push,\n    nativeArraySlice = Array.prototype.slice,\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    toString = Object.prototype.toString;\nvar errorTitle = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].errorTitle;\n\n\nvar defineProp = Object.defineProperty;\nvar defineProps = Object.defineProperties;\n\n//Push one by one to array\nfunction arrayPush(arr1, arr2) {\n  nativeArrayPush.apply(arr1, arr2);\n  return arr1;\n}\n\nfunction arraySlice(arrLike, start, end) {\n  return nativeArraySlice.call(arrLike, start, end);\n}\n\n//判断是否为数组\nfunction isArray(obj) {\n  return Array.isArray(obj);\n}\n\n//判断是否为对象\nfunction isObject(obj) {\n  var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\n}\n\n//判断是否为数字\nfunction isNumber(obj) {\n  return toString.call(obj) === '[object Number]';\n}\n\n//判断是否为字符串\nfunction isString(obj) {\n  return toString.call(obj) === '[object String]';\n}\n\n//获取属性值\nfunction _getProperty(key) {\n  return function (obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n\n//是否为类数组\nvar _getLength = _getProperty('length');\n\nfunction isArrayLike(obj) {\n  var length = _getLength(obj);\n  return typeof length == 'number' && length >= 0;\n}\n\n//遍历数组或对象\nfunction each(obj, func, context, isArr) {\n  if (!obj) {\n    return;\n  }\n\n  if (isArr == null) {\n    isArr = isArrayLike(obj);\n  }\n\n  //设置回调函数上下文\n  context = context ? context : obj;\n\n  if (isArr) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      var ret = func.call(context, obj[i], i, l);\n\n      if (ret === false) {\n        break;\n      }\n    }\n  } else {\n    var keys = Object.keys(obj),\n        _l = keys.length;\n    for (var _i = 0; _i < _l; _i++) {\n      var k = keys[_i],\n          _ret = func.call(context, obj[k], k, _i, _l);\n\n      if (_ret === false) {\n        break;\n      }\n    }\n  }\n}\n\nvar REGEX_TRIM_RIGHT = /(\\n|\\r)?[\\s\\xA0]+$/;\nfunction trimRight(str) {\n  return str.replace(REGEX_TRIM_RIGHT, function (all, s1) {\n    return s1 ? '\\n' : '';\n  });\n}\n\n//Noop function\nfunction noop() {}\n\n//抛出异常\nfunction throwIf(val, msg, type) {\n  if (!val) {\n    switch (type) {\n      case 'ex':\n        throw Error(errorTitle + 'Extension tag \"' + msg + '\" is undefined, please check it has been registered.');\n      default:\n        throw Error(errorTitle + (msg || val));\n    }\n  }\n}\n\n//Print warn\nfunction warn(msg) {\n  console.warn(errorTitle + msg);\n}\n\n//Print error\nfunction error(msg) {\n  console.error(errorTitle + msg);\n}\n\n//create light weight object\nfunction obj() {\n  return Object.create(null);\n}\n\n//Clear quotation marks\nvar REGEX_QUOT_D = /[\"]+/g,\n    REGEX_QUOT_S = /[']+/g;\n\nfunction clearQuot(value, clearDouble) {\n  if (value == null) {\n    return;\n  }\n\n  var regex = void 0;\n  if (clearDouble == null) {\n    var charF = value[0];\n    if (charF === '\\'') {\n      regex = REGEX_QUOT_S;\n    } else if (charF === '\"') {\n      regex = REGEX_QUOT_D;\n    }\n  } else if (clearDouble) {\n    regex = REGEX_QUOT_D;\n  } else {\n    regex = REGEX_QUOT_S;\n  }\n\n  if (regex) {\n    value = value.replace(regex, '');\n  }\n  return value;\n}\n\n//Transform to camel-case\nfunction toCamelCase(str) {\n  if (str.indexOf('-') > -1) {\n    str = str.replace(/-\\w/g, function (letter) {\n      return letter.substr(1).toUpperCase();\n    });\n  }\n\n  return str;\n}\n\n//Reference by babel-external-helpers\nvar assign = Object.assign || function (target) {\n  for (var i = 1, args = arguments; i < args.length; i++) {\n    var source = args[i];\n\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nassign(__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  defineProp: defineProp,\n  defineProps: defineProps,\n  arrayPush: arrayPush,\n  arraySlice: arraySlice,\n  isArray: isArray,\n  isObject: isObject,\n  isNumber: isNumber,\n  isString: isString,\n  isArrayLike: isArrayLike,\n  each: each,\n  noop: noop,\n  throwIf: throwIf,\n  warn: warn,\n  obj: obj,\n  toCamelCase: toCamelCase,\n  assign: assign\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = createTmplRule;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tools__ = __webpack_require__(1);\n\n\n\nfunction _createRegExp(reg, mode) {\n  return new RegExp(reg, mode);\n}\n\n//Clear the repeated characters\nfunction _clearRepeat(str) {\n  var ret = '',\n      i = 0,\n      l = str.length,\n      char = void 0;\n\n  for (; i < l; i++) {\n    char = str[i];\n    if (ret.indexOf(char) < 0) {\n      ret += char;\n    }\n  }\n\n  return ret;\n}\n\nfunction _replace$(str) {\n  return str.replace(/\\$/g, '\\\\$');\n}\n\nfunction _replaceMinus(str) {\n  return str.replace(/\\-/g, '\\\\-');\n}\n\nfunction createTmplRule() {\n  var rules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var isGlobal = arguments[1];\n  var _nj$tmplRule = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].tmplRule,\n      _nj$tmplRule$startRul = _nj$tmplRule.startRule,\n      startRule = _nj$tmplRule$startRul === undefined ? '{{' : _nj$tmplRule$startRul,\n      _nj$tmplRule$endRule = _nj$tmplRule.endRule,\n      endRule = _nj$tmplRule$endRule === undefined ? '}}' : _nj$tmplRule$endRule,\n      _nj$tmplRule$extensio = _nj$tmplRule.extensionRule,\n      extensionRule = _nj$tmplRule$extensio === undefined ? '#' : _nj$tmplRule$extensio,\n      _nj$tmplRule$propRule = _nj$tmplRule.propRule,\n      propRule = _nj$tmplRule$propRule === undefined ? '@' : _nj$tmplRule$propRule,\n      _nj$tmplRule$strPropR = _nj$tmplRule.strPropRule,\n      strPropRule = _nj$tmplRule$strPropR === undefined ? '@' : _nj$tmplRule$strPropR,\n      _nj$tmplRule$template = _nj$tmplRule.templateRule,\n      templateRule = _nj$tmplRule$template === undefined ? 'template' : _nj$tmplRule$template,\n      _nj$tmplRule$tagSpRul = _nj$tmplRule.tagSpRule,\n      tagSpRule = _nj$tmplRule$tagSpRul === undefined ? '#$@' : _nj$tmplRule$tagSpRul,\n      _nj$tmplRule$commentR = _nj$tmplRule.commentRule,\n      commentRule = _nj$tmplRule$commentR === undefined ? '#' : _nj$tmplRule$commentR;\n  var start = rules.start,\n      end = rules.end,\n      extension = rules.extension,\n      prop = rules.prop,\n      strProp = rules.strProp,\n      template = rules.template,\n      tagSp = rules.tagSp,\n      comment = rules.comment;\n\n\n  if (start) {\n    startRule = start;\n  }\n  if (end) {\n    endRule = end;\n  }\n  if (extension) {\n    extensionRule = extension;\n  }\n  if (prop) {\n    propRule = prop;\n  }\n  if (strProp) {\n    strPropRule = strProp;\n  }\n  if (template) {\n    templateRule = template;\n  }\n  if (tagSp) {\n    tagSpRule = tagSp;\n  }\n  if (comment != null) {\n    commentRule = comment;\n  }\n\n  var firstChar = startRule[0],\n      lastChar = endRule[endRule.length - 1],\n      allRules = firstChar + lastChar,\n      extensionRules = _replaceMinus(_clearRepeat(extensionRule + propRule + strPropRule + tagSpRule)),\n      escapeExtensionRule = _replace$(extensionRule),\n      escapePropRule = _replace$(propRule),\n      escapeStrPropRule = _replace$(strPropRule),\n      braceParamStr = '([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?)';\n\n  var tmplRules = {\n    startRule: startRule,\n    endRule: endRule,\n    extensionRule: extensionRule,\n    propRule: propRule,\n    strPropRule: strPropRule,\n    templateRule: templateRule,\n    tagSpRule: tagSpRule,\n    commentRule: commentRule,\n    firstChar: firstChar,\n    lastChar: lastChar,\n    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + extensionRules + '][^\\\\s>]*)[^>]*>$', 'i'),\n    openTagParams: _createRegExp('[\\\\s]+((([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?))|[^\\\\s=>]+)(=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s]+)))?', 'g'),\n    braceParam: _createRegExp(braceParamStr, 'i'),\n    braceParamG: _createRegExp(braceParamStr, 'ig'),\n    spreadProp: _createRegExp('[\\\\s]+([' + firstChar + ']?' + startRule + ')[\\\\s]*(\\\\.\\\\.\\\\.(?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?)', 'g'),\n    replaceSplit: _createRegExp('(?:[' + firstChar + ']?' + startRule + ')(?!' + endRule + ')[\\\\s\\\\S]+?(?:' + endRule + '[' + lastChar + ']?)'),\n    replaceParam: _createRegExp('([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)' + endRule + '[' + lastChar + ']?', 'g'),\n    checkElem: _createRegExp('([^<>]+)|(<([a-z/!' + firstChar + extensionRules + '][^\\\\s<>]*)([^<>]*)>|<)([^<]*)', 'ig'),\n    extension: _createRegExp('^' + escapeExtensionRule + '([^\\\\s]+)', 'i'),\n    exAll: _createRegExp('^([/]?)(' + escapeExtensionRule + '|' + escapeStrPropRule + escapePropRule + '|' + escapePropRule + ')([^\\\\s]+)', 'i'),\n    include: _createRegExp('<' + escapeExtensionRule + 'include([^>]*)>', 'ig'),\n    incompleteStart: _createRegExp('[' + firstChar + ']?' + startRule + '((?!' + endRule + ')[\\\\s\\\\S])*$'),\n    incompleteEnd: _createRegExp('^(?!' + startRule + ')[\\\\s\\\\S]*?' + endRule + '[' + lastChar + ']?')\n  };\n\n  if (isGlobal) {\n    //Reset the regexs to global list\n    __WEBPACK_IMPORTED_MODULE_1__tools__[\"c\" /* assign */](__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].tmplRule, tmplRules);\n  } else {\n    return tmplRules;\n  }\n};\n\n//Set global template rules\ncreateTmplRule({}, true);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = styleProps;\n/* unused harmony export getData */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getComputedData;\n/* unused harmony export getElement */\n/* unused harmony export getElementRefer */\n/* unused harmony export getElementName */\n/* unused harmony export addArgs */\n/* unused harmony export newContext */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = fixPropName;\n/* unused harmony export assignStrProps */\n/* unused harmony export exRet */\n/* unused harmony export tmplWrap */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = template;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n\n\nvar errorTitle = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].errorTitle;\n\nvar REGEX_NUM = /^(-?([0-9]+[\\.]?[0-9]+)|[0-9])$/;\n\n//提取style内参数\nfunction styleProps(obj) {\n  //If the parameter is a style object,then direct return.\n  if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](obj) || __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"i\" /* isArray */](obj) || __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"k\" /* isNumber */](obj)) {\n    return obj;\n  }\n\n  //参数为字符串\n  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^;]+)[;]?/g,\n      matchArr = void 0,\n      ret = void 0;\n\n  while (matchArr = pattern.exec(obj)) {\n    var key = matchArr[1],\n        value = matchArr[2];\n\n    if (!ret) {\n      ret = {};\n    }\n\n    //Convert to lowercase when style name is all capital.\n    if (/^[A-Z-]+$/.test(key)) {\n      key = key.toLowerCase();\n    }\n\n    //将连字符转为驼峰命名\n    key = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"q\" /* toCamelCase */](key);\n\n    ret[key] = REGEX_NUM.test(value) ? Number(value) : value;\n  }\n\n  return ret;\n}\n\n//Get value from multiple datas\nfunction getData(prop, data, hasCtx) {\n  var ret = void 0,\n      obj = void 0;\n  if (!data) {\n    data = this.data;\n  }\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    obj = data[i];\n    if (obj) {\n      ret = obj[prop];\n      if (ret !== undefined) {\n        if (hasCtx) {\n          return {\n            ctx: obj,\n            val: ret\n          };\n        }\n\n        return ret;\n      }\n    }\n  }\n}\n\nfunction _getLevel(level, p2) {\n  if (level != null && p2.level != null) {\n    level += p2.level;\n  }\n  return level;\n}\n\nfunction getComputedData(fn, p2, level) {\n  if (fn == null) {\n    return fn;\n  }\n\n  if (fn.val._njTmpl) {\n    //模板函数\n    return fn.val.call({\n      _njData: p2.data,\n      _njParent: p2.parent,\n      _njIndex: p2.index,\n      _njLevel: _getLevel(level, p2),\n      _njIcp: p2.icp\n    });\n  } else {\n    //普通函数\n    return fn.val.call(fn.ctx, p2);\n  }\n}\n\nfunction getElement(name, p1, nameO, p2, subName) {\n  var element = void 0;\n  if (!p2.icp) {\n    element = p1.cp[name];\n  } else {\n    element = getData(nameO, p2.icp);\n    if (!element) {\n      element = p1.cp[name];\n    }\n  }\n\n  if (subName != null && element) {\n    element = element[subName];\n  }\n\n  return element ? element : name;\n}\n\nfunction getElementRefer(refer, name, p1, nameO, p2) {\n  return refer != null ? __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](refer) ? getElement(refer.toLowerCase(), p1, nameO, p2) : refer : getElement(name, p1, nameO, p2);\n}\n\nfunction getElementName(refer, name) {\n  return refer != null && refer !== '' ? refer : name;\n}\n\nfunction addArgs(props, dataRefer) {\n  var args = props.args;\n\n  if (args) {\n    for (var i = args.length; i--;) {\n      dataRefer.unshift(args[i]);\n    }\n  }\n}\n\n//Rebuild local variables in the new context\nfunction newContext(p2, p3) {\n  if (!p3) {\n    return p2;\n  }\n\n  var newData = [];\n  if ('data' in p3) {\n    newData.push(p3.data);\n  }\n  if ('extra' in p3) {\n    newData.push(p3.extra);\n  }\n\n  return {\n    data: newData.length ? __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"a\" /* arrayPush */](newData, p2.data) : p2.data,\n    parent: p3.fallback ? p2 : p2.parent,\n    index: 'index' in p3 ? p3.index : p2.index,\n    level: p2.level,\n    getData: getData,\n    d: getData,\n    icp: p2.icp\n  };\n}\n\n//修正属性名\nfunction fixPropName(name) {\n  switch (name) {\n    case 'class':\n      name = 'className';\n      break;\n    case 'for':\n      name = 'htmlFor';\n      break;\n  }\n\n  return name;\n}\n\n//合并字符串属性\nfunction assignStrProps(paramsE, keys) {\n  var ret = '';\n  for (var k in paramsE) {\n    if (!keys || !keys[k]) {\n      var v = paramsE[k];\n      ret += ' ' + k + (k !== v ? '=\"' + v + '\"' : ' ');\n    }\n  }\n  return ret;\n}\n\n//创建扩展标签子节点函数\nfunction exRet(p1, p2, fn, p4, p5) {\n  return function (param) {\n    return fn(p1, p2, param, p4, p5);\n  };\n}\n\nfunction _getLocalComponents(localConfigs, initCtx) {\n  var icp = void 0;\n  if (localConfigs && localConfigs.components) {\n    icp = localConfigs.components;\n    if (!__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"i\" /* isArray */](icp)) {\n      icp = [icp];\n    }\n  }\n  if (initCtx && initCtx._njIcp) {\n    icp = icp ? __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"a\" /* arrayPush */](icp, initCtx._njIcp) : initCtx._njIcp;\n  }\n  return icp;\n}\n\n//构建可运行的模板函数\nfunction tmplWrap(configs, main) {\n  return function (lc, lc2) {\n    var initCtx = this,\n        data = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"b\" /* arraySlice */](arguments);\n\n    return main(configs, {\n      data: initCtx && initCtx._njData ? __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"a\" /* arrayPush */](data, initCtx._njData) : data,\n      parent: initCtx ? initCtx._njParent : null,\n      index: initCtx ? initCtx._njIndex : null,\n      level: initCtx ? initCtx._njLevel : null,\n      getData: getData,\n      d: getData,\n      icp: _getLocalComponents(lc && lc._njParam ? lc2 : lc, initCtx)\n    });\n  };\n}\n\nfunction levelSpace(p2) {\n  if (p2.level == null) {\n    return '';\n  }\n\n  var ret = '';\n  for (var i = 0; i < p2.level; i++) {\n    ret += '  ';\n  }\n  return ret;\n}\n\nfunction firstNewline(p2) {\n  return p2.index == null ? '' : p2.index == 0 ? '' : '\\n';\n}\n\nfunction createElementApply(p) {\n  return __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].createElement.apply(null, p);\n}\n\n//创建模板函数\nfunction template(fns) {\n  var configs = {\n    us: fns.useString,\n    x: __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].extensions,\n    f: __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].filters,\n    np: __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"n\" /* noop */],\n    tf: __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"p\" /* throwIf */],\n    wn: __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"s\" /* warn */],\n    n: newContext,\n    c: getComputedData,\n    sp: styleProps,\n    r: exRet,\n    e: getElement,\n    er: getElementRefer,\n    en: getElementName,\n    aa: addArgs,\n    an: __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */],\n    g: __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].global,\n    l: _getLevel\n  };\n\n  if (!configs.us) {\n    configs.h = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].createElement;\n    configs.H = createElementApply;\n    configs.cp = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].components;\n  } else {\n    configs.ans = assignStrProps;\n    configs.es = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].escape;\n    configs.ls = levelSpace;\n    configs.fl = firstNewline;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](fns, function (v, k) {\n    if (k.indexOf('main') === 0) {\n      //将每个主函数构建为可运行的模板函数\n      configs[k] = tmplWrap(configs, v);\n      __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"f\" /* defineProps */](configs[k], {\n        _njTmpl: {\n          value: true\n        },\n        tmplName: { //设置函数名\n          value: v._njName\n        }\n      });\n      configs['_' + k] = v;\n    } else if (k.indexOf('fn') === 0) {\n      //扩展标签函数\n      configs[k] = v;\n    }\n  }, false, false);\n\n  return configs;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export extensions */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return extensionConfig; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = registerExtension;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transforms_transformData__ = __webpack_require__(3);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n//Global extension list\nvar extensions = {\n  'if': function _if(value, options) {\n    if (value === 'false') {\n      value = false;\n    }\n\n    var valueR = void 0,\n        ret = void 0;\n    if (!options.useUnless) {\n      valueR = !!value;\n    } else {\n      valueR = !!!value;\n    }\n    if (valueR) {\n      ret = options.result();\n    } else {\n      var props = options.props;\n      if (props) {\n        var elseFn = props['else'];\n\n        if (props.elseifs) {\n          var l = props.elseifs.length;\n          __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](props.elseifs, function (elseif, i) {\n            if (!!elseif.value) {\n              ret = elseif.fn();\n              return false;\n            } else if (i === l - 1) {\n              if (elseFn) {\n                ret = elseFn();\n              }\n            }\n          }, false, true);\n        } else {\n          if (elseFn) {\n            ret = elseFn();\n          }\n        }\n      }\n    }\n\n    if (options.useString && ret == null) {\n      return '';\n    }\n\n    return ret;\n  },\n\n  'else': function _else(options) {\n    return options.subExProps['else'] = options.result;\n  },\n\n  'elseif': function elseif(value, options) {\n    var exProps = options.subExProps;\n    if (!exProps.elseifs) {\n      exProps.elseifs = [];\n    }\n    exProps.elseifs.push({\n      value: value,\n      fn: options.result\n    });\n  },\n\n  'switch': function _switch(value, options) {\n    var ret = void 0,\n        props = options.props,\n        l = props.elseifs.length;\n\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](props.elseifs, function (elseif, i) {\n      if (value === elseif.value) {\n        ret = elseif.fn();\n        return false;\n      } else if (i === l - 1) {\n        if (props['else']) {\n          ret = props['else']();\n        }\n      }\n    }, false, true);\n\n    return ret;\n  },\n\n  unless: function unless(value, options) {\n    options.useUnless = true;\n    return extensions['if'](value, options);\n  },\n\n  each: function each(list, options) {\n    var useString = options.useString,\n        props = options.props,\n        ret = void 0;\n\n    if (list) {\n      if (useString) {\n        ret = '';\n      } else {\n        ret = [];\n      }\n\n      var isArrayLike = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"j\" /* isArrayLike */](list);\n      __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](list, function (item, index, len, lenObj) {\n        var param = {\n          data: item,\n          index: isArrayLike ? index : len,\n          fallback: true\n        };\n\n        if (props && props.moreValues) {\n          var _len = isArrayLike ? len : lenObj;\n          param.extra = {\n            '@first': param.index === 0,\n            '@last': param.index === _len - 1,\n            '@length': _len\n          };\n        }\n        if (!isArrayLike) {\n          if (!param.extra) {\n            param.extra = {};\n          }\n          param.extra['@key'] = index;\n        }\n\n        var retI = options.result(param);\n        if (useString) {\n          ret += retI;\n        } else {\n          ret.push(retI);\n        }\n      }, false, isArrayLike);\n\n      //Return null when not use string and result is empty.\n      if (!useString && !ret.length) {\n        ret = null;\n      }\n\n      if ((!ret || !ret.length) && props && props['else']) {\n        ret = props['else']();\n      }\n    } else {\n      if (props && props['else']) {\n        ret = props['else']();\n      }\n      if (useString && ret == null) {\n        ret = '';\n      }\n    }\n\n    return ret;\n  },\n\n  //Parameter\n  prop: function prop(name, options) {\n    var ret = options.result(),\n        //Get parameter value\n    value = void 0;\n\n    if (ret !== undefined) {\n      value = ret;\n    } else {\n      //Match to Similar to \"checked\" or \"disabled\" attribute.\n      value = !options.useString ? true : name;\n    }\n\n    options.exProps[options.outputH ? __WEBPACK_IMPORTED_MODULE_2__transforms_transformData__[\"a\" /* fixPropName */](name) : name] = value;\n  },\n\n  //Spread parameters\n  spread: function spread(props, options) {\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](props, function (v, k) {\n      options.exProps[k] = v;\n    }, false, false);\n  },\n\n  show: function show(options) {\n    if (!options.result()) {\n      options.exProps.style = options.useString ? 'display:none' : { display: 'none' };\n    }\n  },\n\n  'for': function _for(start, end, options) {\n    if (end._njOpts) {\n      options = end;\n      end = start;\n      start = 0;\n    }\n\n    var ret = void 0,\n        useString = options.useString,\n        props = options.props,\n        loopLast = props && props.loopLast;\n    if (useString) {\n      ret = '';\n    } else {\n      ret = [];\n    }\n\n    for (; start <= end; start++) {\n      if (!loopLast && start === end) {\n        break;\n      }\n\n      var retI = options.result({\n        index: start,\n        fallback: true\n      });\n\n      if (useString) {\n        ret += retI;\n      } else {\n        ret.push(retI);\n      }\n    }\n\n    return ret;\n  },\n\n  obj: function obj(options) {\n    return options.props;\n  },\n\n  list: function list() {\n    var args = arguments,\n        last = args.length - 1,\n        options = args[last];\n\n    if (last > 0) {\n      var ret = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"b\" /* arraySlice */](args, 0, last);\n      if (options.useString) {\n        ret = ret.join('');\n      }\n\n      return ret;\n    } else {\n      return [options.result()];\n    }\n  },\n\n  fn: function fn(options) {\n    var props = options.props;\n\n\n    return function () {\n      var _arguments = arguments;\n\n      var params = void 0;\n      if (props) {\n        params = {};\n\n        var paramNames = Object.keys(props);\n        paramNames.forEach(function (v, i) {\n          return params[paramNames[i]] = _arguments[i];\n        });\n      }\n\n      return options.result({ data: params });\n    };\n  },\n\n  block: function block(options) {\n    return options.result();\n  },\n\n  pre: function pre(options) {\n    return extensions.block(options);\n  },\n\n  'with': function _with(originalData, options) {\n    var props = options.props;\n\n\n    return options.result({\n      data: props && props.as ? _defineProperty({}, props.as, originalData) : originalData\n    });\n  },\n\n  arg: function arg(options) {\n    var exProps = options.exProps;\n\n    if (!exProps.args) {\n      exProps.args = [];\n    }\n\n    exProps.args.push(options.result());\n  },\n\n  once: function once(options) {\n    var props = options.props;\n\n    var cacheObj = options.global,\n        cacheKey = '_njOnceCache_' + (props && props.cacheKey != null ? props.cacheKey : options._njFnsNo),\n        cache = cacheObj[cacheKey],\n        useCache = void 0;\n\n    if (props && (props.reset !== undefined || props.resetList !== undefined)) {\n      var reset = props.reset,\n          resetList = props.resetList;\n\n      var cacheValKey = cacheKey + 'V';\n      useCache = true;\n\n      if (reset !== undefined) {\n        resetList = [reset];\n      }\n      resetList.forEach(function (r, i) {\n        var key = cacheValKey + i,\n            cacheVal = cacheObj[key];\n\n        if (cacheVal !== r) {\n          useCache = false;\n          cacheObj[key] = r;\n        }\n      });\n    } else {\n      useCache = cache !== undefined;\n    }\n\n    if (!useCache) {\n      cache = cacheObj[cacheKey] = options.result();\n    }\n    return cache;\n  }\n};\n\nfunction _config(params) {\n  var ret = {\n    onlyGlobal: false,\n    useString: false,\n    newContext: true,\n    exProps: false,\n    isProp: false,\n    subExProps: false,\n    isSub: false\n  };\n\n  if (params) {\n    ret = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](ret, params);\n  }\n  return ret;\n}\n\nvar _defaultCfg = { onlyGlobal: true, newContext: false };\n\n//Extension default config\nvar extensionConfig = {\n  'if': _config(_defaultCfg),\n  'else': _config({ onlyGlobal: true, newContext: false, subExProps: true, isSub: true }),\n  'switch': _config(_defaultCfg),\n  unless: _config(_defaultCfg),\n  each: _config({ onlyGlobal: true }),\n  prop: _config({ onlyGlobal: true, newContext: false, exProps: true, subExProps: true, isProp: true }),\n  spread: _config({ onlyGlobal: true, newContext: false, exProps: true, subExProps: true, isProp: true }),\n  obj: _config({ onlyGlobal: true, newContext: false }),\n  list: _config(_defaultCfg),\n  fn: _config({ onlyGlobal: true }),\n  'with': _config({ onlyGlobal: true })\n};\nextensionConfig.elseif = _config(extensionConfig['else']);\nextensionConfig['for'] = _config(extensionConfig.each);\nextensionConfig.block = _config(extensionConfig.obj);\nextensionConfig.pre = _config(extensionConfig.obj);\nextensionConfig.arg = _config(extensionConfig.prop);\nextensionConfig.once = _config(extensionConfig.obj);\nextensionConfig.show = _config(extensionConfig.prop);\n\n//Extension alias\nextensions['case'] = extensions.elseif;\nextensionConfig['case'] = extensionConfig.elseif;\nextensions['empty'] = extensions['default'] = extensions['else'];\nextensionConfig['empty'] = extensionConfig['default'] = extensionConfig['else'];\nextensions.strProp = extensions.prop;\nextensionConfig.strProp = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](_config(extensionConfig.prop), { useString: true });\nextensions.strArg = extensions.arg;\nextensionConfig.strArg = _config(extensionConfig.strProp);\n\n//Register extension and also can batch add\nfunction registerExtension(name, extension, options) {\n  var params = name;\n  if (!__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](name)) {\n    params = {};\n    params[name] = {\n      extension: extension,\n      options: options\n    };\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](params, function (v, name) {\n    if (v) {\n      var _extension = v.extension,\n          _options = v.options;\n\n\n      if (_extension) {\n        extensions[name] = _extension;\n      } else {\n        extensions[name] = v;\n      }\n      extensionConfig[name] = _config(_options);\n    }\n  }, false, false);\n}\n\n__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  extensions: extensions,\n  extensionConfig: extensionConfig,\n  registerExtension: registerExtension\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export filters */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return filterConfig; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = registerFilter;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transforms_transformData__ = __webpack_require__(3);\n\n\n\n\n//Global filter list\nvar filters = {\n  //Get properties\n  '.': function _(obj, prop) {\n    if (obj == null) {\n      return obj;\n    }\n\n    return obj[prop];\n  },\n\n  //Call method\n  _: function _(method) {\n    if (method == null) {\n      return method;\n    }\n\n    var args = arguments;\n    return method.apply(args[args.length - 1].lastValue, __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"b\" /* arraySlice */](args, 1, args.length - 1));\n  },\n\n  //Get computed properties\n  '#': function _(obj, prop, options) {\n    if (obj == null) {\n      return obj;\n    }\n\n    return Object(__WEBPACK_IMPORTED_MODULE_2__transforms_transformData__[\"b\" /* getComputedData */])({\n      val: obj[prop],\n      ctx: obj\n    }, options.context, options.level);\n  },\n\n  '==': function _(val1, val2) {\n    return val1 == val2;\n  },\n\n  '===': function _(val1, val2) {\n    return val1 === val2;\n  },\n\n  '!=': function _(val1, val2) {\n    return val1 != val2;\n  },\n\n  '!==': function _(val1, val2) {\n    return val1 !== val2;\n  },\n\n  //Less than\n  '<': function _(val1, val2) {\n    return val1 < val2;\n  },\n\n  '<=': function _(val1, val2) {\n    return val1 <= val2;\n  },\n\n  //Greater than\n  '>': function _(val1, val2) {\n    return val1 > val2;\n  },\n\n  '>=': function _(val1, val2) {\n    return val1 >= val2;\n  },\n\n  '+': function _(val1, val2) {\n    return val1 + val2;\n  },\n\n  '-': function _(val1, val2) {\n    return val1 - val2;\n  },\n\n  '*': function _(val1, val2) {\n    return val1 * val2;\n  },\n\n  '/': function _(val1, val2) {\n    return val1 / val2;\n  },\n\n  '%': function _(val1, val2) {\n    return val1 % val2;\n  },\n\n  '**': function _(val1, val2) {\n    return Math.pow(val1, val2);\n  },\n\n  '//': function _(val1, val2) {\n    return Math.floor(val1 / val2);\n  },\n\n  //Ternary operator\n  '?': function _(val, val1, val2) {\n    return val ? val1 : val2;\n  },\n\n  '!': function _(val) {\n    return !val;\n  },\n\n  '&&': function _(val1, val2) {\n    return val1 && val2;\n  },\n\n  or: function or(val1, val2) {\n    return val1 || val2;\n  },\n\n  //Convert to int \n  int: function int(val) {\n    return parseInt(val, 10);\n  },\n\n  //Convert to float \n  float: function float(val) {\n    return parseFloat(val);\n  },\n\n  //Convert to boolean \n  bool: function bool(val) {\n    if (val === 'false') {\n      return false;\n    }\n\n    return Boolean(val);\n  },\n\n  obj: function obj() {\n    var args = arguments,\n        ret = {};\n\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](args, function (v, i) {\n      ret[v.key] = v.val;\n    }, false, true);\n    return ret;\n  },\n\n  ':': function _(key, val) {\n    return { key: key, val: val };\n  },\n\n  list: function list() {\n    var args = arguments;\n    if (args.length === 0) {\n      return [];\n    } else {\n      return __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"b\" /* arraySlice */](args, 0, args.length);\n    }\n  },\n\n  reg: function reg(pattern, flags) {\n    return new RegExp(pattern, flags);\n  },\n\n  //Transform css string to object\n  css: function css(cssText) {\n    return Object(__WEBPACK_IMPORTED_MODULE_2__transforms_transformData__[\"c\" /* styleProps */])(cssText);\n  },\n\n  //Generate array by two positive integers,closed interval \n  '..': _getArrayByNum(1),\n\n  //Generate array by two positive integers,right open interval\n  rLt: _getArrayByNum(0),\n\n  //Compare two number or letter \n  '<=>': function _(val1, val2) {\n    if (val1 > val2) {\n      return 1;\n    } else if (val1 == val2) {\n      return 0;\n    } else {\n      return -1;\n    }\n  }\n};\n\nfunction _getArrayByNum(isContainEnd) {\n  return function (val1, val2) {\n    return Object.keys(Array.apply(null, { length: val2 - val1 + isContainEnd })).map(function (item) {\n      return +item + val1;\n    });\n  };\n}\n\nfunction _config(params) {\n  var ret = {\n    onlyGlobal: false,\n    hasOptions: true\n  };\n\n  if (params) {\n    ret = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](ret, params);\n  }\n  return ret;\n}\n\nvar _defaultCfg = { onlyGlobal: true, hasOptions: false };\n\n//Filter default config\nvar filterConfig = {\n  '.': _config(_defaultCfg),\n  '_': _config({ onlyGlobal: true }),\n  '#': _config({ onlyGlobal: true }),\n  '==': _config(_defaultCfg),\n  '===': _config(_defaultCfg),\n  '!=': _config(_defaultCfg),\n  '!==': _config(_defaultCfg),\n  '<': _config(_defaultCfg),\n  '<=': _config(_defaultCfg),\n  '>': _config(_defaultCfg),\n  '>=': _config(_defaultCfg),\n  '+': _config(_defaultCfg),\n  '-': _config(_defaultCfg),\n  '*': _config(_defaultCfg),\n  '/': _config(_defaultCfg),\n  '%': _config(_defaultCfg),\n  '**': _config(_defaultCfg),\n  '//': _config(_defaultCfg),\n  '?': _config(_defaultCfg),\n  '!': _config(_defaultCfg),\n  '&&': _config(_defaultCfg),\n  or: _config(_defaultCfg),\n  int: _config(_defaultCfg),\n  float: _config(_defaultCfg),\n  bool: _config(_defaultCfg),\n  obj: _config(_defaultCfg),\n  ':': _config(_defaultCfg),\n  list: _config(_defaultCfg),\n  reg: _config(_defaultCfg),\n  css: _config(_defaultCfg),\n  '..': _config(_defaultCfg),\n  rLt: _config(_defaultCfg),\n  '<=>': _config(_defaultCfg)\n};\n\n//Filter alias\nfilters.prop = filters['.'];\nfilterConfig.prop = filterConfig['.'];\n\n//Register filter and also can batch add\nfunction registerFilter(name, filter, options) {\n  var params = name;\n  if (!__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](name)) {\n    params = {};\n    params[name] = {\n      filter: filter,\n      options: options\n    };\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](params, function (v, name) {\n    if (v) {\n      var _filter = v.filter,\n          _options = v.options;\n\n\n      if (_filter) {\n        filters[name] = _filter;\n      } else {\n        filters[name] = v;\n      }\n      filterConfig[name] = _config(_options);\n    }\n  }, false, false);\n}\n\n__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  filters: filters,\n  filterConfig: filterConfig,\n  registerFilter: registerFilter\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export escape */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = unescape;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tools__ = __webpack_require__(1);\n\n\n\nvar ESCAPE_LOOKUP = {\n  '&': '&amp;',\n  '>': '&gt;',\n  '<': '&lt;',\n  '\"': '&quot;',\n  '\\'': '&#x27;'\n};\n\nvar REGEX_ESCAPE = /[&><\"']/g;\nfunction escape(str) {\n  if (str == null) {\n    return '';\n  } else if (!str.replace) {\n    return str;\n  }\n\n  return str.replace(REGEX_ESCAPE, function (match) {\n    return ESCAPE_LOOKUP[match];\n  });\n}\n\nvar UNESCAPE_LOOKUP = {\n  nbsp: '\\xA0',\n  ensp: '\\u2002',\n  emsp: '\\u2003',\n  thinsp: '\\u2009',\n  zwnj: '\\u200C',\n  zwj: '\\u200D',\n  lt: '<',\n  gt: '>',\n  amp: '&'\n};\n\nvar REGEX_UNESCAPE = new RegExp('&(' + Object.keys(UNESCAPE_LOOKUP).join('|') + ');', 'g');\nfunction unescape(str) {\n  if (str == null) {\n    return '';\n  } else if (!str.replace) {\n    return str;\n  }\n\n  return str.replace(REGEX_UNESCAPE, function (all, match) {\n    return UNESCAPE_LOOKUP[match];\n  });\n}\n\nObject(__WEBPACK_IMPORTED_MODULE_1__tools__[\"c\" /* assign */])(__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  escape: escape,\n  unescape: unescape\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = compiledParam;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_filter__ = __webpack_require__(5);\n\n\n\n\n//Get compiled property\nvar REGEX_JS_PROP = /('[^']*')|(\"[^\"]*\")|(-?[0-9][0-9]*(\\.\\d+)?)|true|false|null|undefined|Object|Array|Math|Date|JSON|([#]*)([^\\s.,[\\]()]+)/;\nvar REGEX_REPLACE_CHAR = /_njQs(\\d+)_/g;\n\nfunction _compiledProp(prop, innerBrackets, innerQuotes) {\n  var ret = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */]();\n\n  //If there are vertical lines in the property,then use filter\n  if (prop.indexOf('|') >= 0) {\n    var filters = [],\n        filtersTmp = void 0;\n    filtersTmp = prop.split('|');\n    prop = filtersTmp[0].trim(); //Extract property\n\n    filtersTmp = filtersTmp.slice(1);\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](filtersTmp, function (filter) {\n      filter = filter.trim();\n      if (filter === '') {\n        return;\n      }\n\n      var retF = _getFilterParam(filter),\n          filterObj = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */](),\n          filterName = retF[0].trim(); //Get filter name\n\n      if (filterName) {\n        var paramsF = retF[1]; //Get filter param\n\n        //Multiple params are separated by commas.\n        if (paramsF != null) {\n          var params = [];\n          __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](innerBrackets[paramsF].split(','), function (p) {\n            if (p !== '') {\n              params[params.length] = _compiledProp(p.trim(), innerBrackets, innerQuotes);\n            }\n          }, false, true);\n\n          filterObj.params = params;\n        }\n\n        filterObj.name = filterName;\n        filters.push(filterObj);\n      }\n    }, false, true);\n\n    ret.filters = filters;\n  }\n\n  //替换字符串值\n  prop = prop.replace(REGEX_REPLACE_CHAR, function (all, g1) {\n    return innerQuotes[g1];\n  });\n\n  //Extract the parent data path\n  if (prop.indexOf('../') === 0) {\n    var n = 0;\n    prop = prop.replace(/\\.\\.\\//g, function () {\n      n++;\n      return '';\n    });\n\n    ret.parentNum = n;\n  }\n\n  //Extract the js property\n  if (prop !== '') {\n    prop = REGEX_JS_PROP.exec(prop);\n    var hasComputed = prop[5];\n    ret.name = hasComputed ? prop[6] : prop[0];\n\n    if (!prop[6]) {\n      //Sign the parameter is a basic type value.\n      ret.isBasicType = true;\n    }\n    if (hasComputed) {\n      ret.isComputed = true;\n    }\n  } else {\n    ret.isEmpty = true;\n  }\n\n  return ret;\n}\n\n//Get filter param\nfunction _getFilterParam(obj) {\n  return obj.split('_njBracket_');\n}\n\n//Extract replace parameters\nvar REGEX_LT_GT = /_nj(L|G)t_/g;\nvar LT_GT_LOOKUP = {\n  '_njLt_': '<',\n  '_njGt_': '>'\n};\nvar REGEX_QUOTE = /\"[^\"]*\"|'[^']*'/g;\nvar SP_FILTER_LOOKUP = {\n  '||': 'or',\n  '..<': 'rLt'\n};\nvar REGEX_SP_FILTER = /[\\s]+((\\|\\||\\.\\.<)[\\s]*)/g;\nvar FN_FILTER_LOOKUP = {\n  ')': ')_(',\n  ']': ']_('\n};\nvar REGEX_FN_FILTER = /(\\)|\\]|\\.([^\\s'\"._#()|]+))[\\s]*\\(/g;\nvar REGEX_SPACE_S_FILTER = /([(,|])[\\s]+/g;\nvar REGEX_PROP_FILTER = /\\.([a-zA-Z_$][^\\s.\\/,[\\]()'\"|]*)/g;\nvar REGEX_ARRPROP_FILTER = /([^\\s([,])(\\[)/g;\nvar ARR_OBJ_FILTER_LOOKUP = {\n  '[': 'list(',\n  ']': ')',\n  '{': 'obj(',\n  '}': ')'\n};\nvar REGEX_ARR_OBJ_FILTER = /\\[|\\]|\\{|\\}/g;\nvar REGEX_OBJKEY_FILTER = /([^\\s:,'\"()|]+):/g;\n\nfunction _getProp(matchArr, innerQuotes, i) {\n  var prop = matchArr[2].trim(),\n      item = [matchArr[0], matchArr[1], null, true],\n      innerArrProp = [];\n\n  if (i > 0) {\n    item[3] = false; //Sign not contain all of placehorder\n  }\n\n  //替换特殊过滤器名称并且为简化过滤器补全\"|\"符\n  prop = prop.replace(REGEX_LT_GT, function (match) {\n    return LT_GT_LOOKUP[match];\n  }).replace(REGEX_QUOTE, function (match) {\n    innerQuotes.push(match);\n    return '_njQs' + (innerQuotes.length - 1) + '_';\n  }).replace(REGEX_PROP_FILTER, function (all, g1) {\n    return '.(\\'' + g1 + '\\')';\n  }).replace(REGEX_ARRPROP_FILTER, function (all, g1, g2) {\n    return g1 + '.(';\n  }).replace(REGEX_ARR_OBJ_FILTER, function (match) {\n    return ARR_OBJ_FILTER_LOOKUP[match];\n  }).replace(REGEX_OBJKEY_FILTER, function (all, g1) {\n    return ' \\'' + g1 + '\\' : ';\n  }).replace(REGEX_SP_FILTER, function (all, g1, match) {\n    return ' ' + SP_FILTER_LOOKUP[match] + ' ';\n  }).replace(REGEX_SPACE_S_FILTER, function (all, match) {\n    return match;\n  }).replace(REGEX_FN_FILTER, function (all, match, g1) {\n    return !g1 ? FN_FILTER_LOOKUP[match] : '.(\\'' + g1 + '\\')_(';\n  });\n\n  item[2] = prop.trim();\n  return item;\n}\n\nfunction _getReplaceParam(obj, tmplRule, innerQuotes, hasColon) {\n  var pattern = tmplRule.replaceParam,\n      matchArr = void 0,\n      ret = void 0,\n      i = 0;\n\n  if (!hasColon) {\n    while (matchArr = pattern.exec(obj)) {\n      if (!ret) {\n        ret = [];\n      }\n\n      ret.push(_getProp(matchArr, innerQuotes, i));\n      i++;\n    }\n  } else {\n    matchArr = [obj, tmplRule.startRule, obj];\n    ret = [_getProp(matchArr, innerQuotes, i)];\n  }\n\n  return ret;\n}\n\nvar REGEX_INNER_BRACKET = /\\(([^()]*)\\)/g;\nvar REGEX_FIX_OPERATOR = /[\\s]+((?!_njBracket_)[^\\s(),|\"\\']+)[\\s]+((-?[0-9][0-9]*(\\.\\d+)?|(?!_njBracket_)[^\\s,|]+)(_njBracket_\\d+)?([._#]_njBracket_\\d+)*)/g;\nvar REGEX_SPACE_FILTER = /[(,]/g;\nvar REGEX_FIX_FILTER = /(\\|)?(((\\.+|_|#+)_njBracket_)|[\\s]+([^\\s._#|]+[\\s]*_njBracket_))/g;\n\nfunction _fixOperator(prop, innerBrackets) {\n  return _fixFilter(prop.replace(REGEX_FIX_OPERATOR, function () {\n    var args = arguments;\n    innerBrackets.push(_fixFilter(args[2]));\n    return ' ' + args[1] + '_njBracket_' + (innerBrackets.length - 1);\n  }));\n}\n\nfunction _fixFilter(prop) {\n  return (' ' + prop).replace(REGEX_SPACE_FILTER, function (all) {\n    return all + ' ';\n  }).replace(REGEX_FIX_FILTER, function (all, g1, g2, g3, g4, g5) {\n    return g1 ? all : ' | ' + (g3 ? g3 : g5);\n  }).trim();\n}\n\nfunction _replaceInnerBrackets(prop, innerBrackets) {\n  var propR = prop.replace(REGEX_INNER_BRACKET, function (all, s1) {\n    innerBrackets.push(_fixOperator(s1, innerBrackets));\n    return '_njBracket_' + (innerBrackets.length - 1);\n  });\n\n  if (propR !== prop) {\n    return _replaceInnerBrackets(propR, innerBrackets);\n  } else {\n    return _fixOperator(propR, innerBrackets);\n  }\n}\n\n//Get compiled parameter\nfunction compiledParam(value, tmplRule, hasColon) {\n  var ret = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */](),\n      isStr = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](value),\n      strs = isStr ? !hasColon ? value.split(tmplRule.replaceSplit) : ['', ''] : [value],\n      props = null,\n      isAll = false; //此处指替换符是否占满整个属性值;若无替换符时为false\n\n  if (isStr) {\n    //替换插值变量以外的文本中的换行符\n    strs = strs.map(function (str) {\n      return str.replace(/\\n/g, '_njNl_').replace(/\\r/g, '');\n    });\n  }\n\n  //If have placehorder\n  if (strs.length > 1) {\n    var innerQuotes = [];\n    var params = _getReplaceParam(value, tmplRule, innerQuotes, hasColon);\n    props = [];\n\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](params, function (param) {\n      var retP = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */](),\n          innerBrackets = [];\n\n      isAll = param[3] ? param[0] === value : false; //If there are several curly braces in one property value, \"isAll\" must be false.\n      var prop = _replaceInnerBrackets(param[2], innerBrackets);\n      retP.prop = _compiledProp(prop, innerBrackets, innerQuotes);\n\n      //To determine whether it is necessary to escape\n      retP.escape = param[1] !== tmplRule.firstChar + tmplRule.startRule;\n      props.push(retP);\n    }, false, true);\n  }\n\n  ret.props = props;\n  ret.strs = strs;\n  ret.isAll = isAll;\n\n  return ret;\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = getXmlOpenTag;\n/* harmony export (immutable) */ __webpack_exports__[\"o\"] = isXmlSelfCloseTag;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OMITTED_CLOSE_TAGS; });\n/* harmony export (immutable) */ __webpack_exports__[\"p\"] = verifySelfCloseTag;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = getOpenTagParams;\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = isXmlCloseTag;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getInsideBraceParam;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = isEx;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = isExAll;\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = isTmpl;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = addTmpl;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = isParamsEx;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = addParamsEx;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = exCompileConfig;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = isPropS;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = isStrPropS;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transformParam__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_extension__ = __webpack_require__(4);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n//提取xml open tag\nfunction getXmlOpenTag(obj, tmplRule) {\n  return tmplRule.xmlOpenTag.exec(obj);\n}\n\n//验证xml self close tag\nvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\n\nfunction isXmlSelfCloseTag(obj) {\n  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\n}\n\n//Verify self close tag name\nvar OMITTED_CLOSE_TAGS = {\n  'area': true,\n  'base': true,\n  'br': true,\n  'col': true,\n  'embed': true,\n  'hr': true,\n  'img': true,\n  'input': true,\n  'keygen': true,\n  'link': true,\n  'meta': true,\n  'param': true,\n  'source': true,\n  'track': true,\n  'wbr': true\n};\n\nfunction verifySelfCloseTag(tagName) {\n  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\n}\n\n//Extract parameters inside the xml open tag\nfunction getOpenTagParams(tag, tmplRule) {\n  var pattern = tmplRule.openTagParams,\n      matchArr = void 0,\n      ret = void 0;\n\n  while (matchArr = pattern.exec(tag)) {\n    var key = matchArr[1];\n    if (key === '/') {\n      //If match to the last of \"/\", then continue the loop.\n      continue;\n    }\n\n    if (!ret) {\n      ret = [];\n    }\n\n    var value = matchArr[7],\n        onlyBrace = matchArr[4];\n    if (value != null) {\n      value = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"d\" /* clearQuot */](value); //Remove quotation marks\n    } else {\n      value = key; //Match to Similar to \"checked\" or \"disabled\" attribute.\n    }\n\n    //Removed at the end of \"/>\", \">\" or \"/\".\n    if (!matchArr[8] && !matchArr[9]) {\n      if (/\\/>$/.test(value)) {\n        value = value.substr(0, value.length - 2);\n      } else if (/>$/.test(value) || /\\/$/.test(value)) {\n        value = value.substr(0, value.length - 1);\n      }\n    }\n\n    //Transform special key\n    var hasColon = void 0;\n    if (key[0] === ':') {\n      key = key.substr(1);\n      hasColon = true;\n    }\n\n    ret.push({\n      key: key,\n      value: value,\n      onlyBrace: onlyBrace,\n      hasColon: hasColon\n    });\n  }\n\n  return ret;\n}\n\n//判断xml close tag\nfunction isXmlCloseTag(obj, tagName) {\n  return __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](obj) && obj.toLowerCase() === '</' + tagName + '>';\n}\n\n//get inside brace param\nfunction getInsideBraceParam(obj, tmplRule) {\n  return tmplRule.braceParam.exec(obj);\n}\n\n//判断扩展标签并返回参数\nfunction isEx(obj, tmplRule, noParams) {\n  var ret = void 0,\n      ret1 = tmplRule.extension.exec(obj);\n  if (ret1) {\n    ret = [ret1[1]];\n\n    if (!noParams) {\n      var params = getOpenTagParams(obj, tmplRule); //提取各参数\n      if (params) {\n        ret.push(params);\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction isExAll(obj, tmplRule) {\n  return obj.match(tmplRule.exAll);\n}\n\n//判断是否模板元素\nfunction isTmpl(obj) {\n  return obj === 'tmpl';\n}\n\n//加入到模板集合中\nfunction addTmpl(node, parent, name) {\n  var paramsP = parent.params;\n  if (!paramsP) {\n    paramsP = parent.params = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */]();\n  }\n\n  var tmpls = paramsP.tmpls;\n  if (!tmpls) {\n    var _objT;\n\n    var objT = (_objT = {}, _defineProperty(_objT, name != null ? name : '_njT0', { node: node, no: 0 }), _defineProperty(_objT, '_njLen', 1), _objT);\n\n    paramsP.tmpls = __WEBPACK_IMPORTED_MODULE_2__transformParam__[\"a\" /* compiledParam */](objT);\n  } else {\n    //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\n    var _objT2 = tmpls.strs[0],\n        len = _objT2._njLen;\n\n    _objT2[name != null ? name : '_njT' + len] = { node: node, no: len };\n    _objT2._njLen = ++len;\n  }\n}\n\n//Test whether as parameters extension\nfunction isParamsEx(name) {\n  return name === 'params' || name === 'props';\n}\n\n//Add to the \"paramsEx\" property of the parent node\nfunction addParamsEx(node, parent, isProp, isSub) {\n  var exPropsName = isSub ? 'propsExS' : 'paramsEx';\n  if (!parent[exPropsName]) {\n    var exPropsNode = void 0;\n    if (isProp || isSub) {\n      exPropsNode = {\n        type: 'nj_ex',\n        ex: 'props',\n        content: [node]\n      };\n    } else {\n      exPropsNode = node;\n    }\n\n    parent[exPropsName] = exPropsNode;\n  } else {\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"a\" /* arrayPush */](parent[exPropsName].content, isProp || isSub ? [node] : node.content);\n  }\n}\n\nfunction exCompileConfig(name) {\n  var config = __WEBPACK_IMPORTED_MODULE_3__helpers_extension__[\"a\" /* extensionConfig */][name];\n  return {\n    isSub: config ? config.isSub : false,\n    isProp: config ? config.isProp : false,\n    useString: config ? config.useString : false\n  };\n}\n\nfunction isPropS(elemName, tmplRule) {\n  return elemName.indexOf(tmplRule.propRule) === 0;\n}\n\nfunction isStrPropS(elemName, tmplRule) {\n  return elemName.indexOf(tmplRule.strPropRule + tmplRule.propRule) === 0;\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = compileStringTmpl;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__ = __webpack_require__(8);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\nvar preAsts = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].preAsts;\n\nvar SPLIT_FLAG = '_nj_split';\nvar TEXT_CONTENT = ['style', 'script', 'textarea', 'xmp', __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textTag];\nvar OMITTED_CLOSE_TAGS = __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"a\" /* OMITTED_CLOSE_TAGS */];\n\n//Compile string template\n\nfunction compileStringTmpl(tmpl) {\n  var tmplKey = tmpl.toString(),\n      //Get unique key\n  ret = preAsts[tmplKey];\n  var outputH = this.outputH,\n      tmplRule = this.tmplRule,\n      onlyParse = this.onlyParse;\n\n\n  if (!ret) {\n    //If the cache already has template data, direct return the template.\n    var isStr = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](tmpl),\n        xmls = isStr ? [tmpl] : tmpl,\n        l = xmls.length,\n        fullXml = '',\n        isInBrace = false;\n\n    //Connection xml string\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](xmls, function (xml, i) {\n      var split = '';\n      if (i < l - 1) {\n        var last = xml.length - 1,\n            lastChar = xml[last],\n            lastChar3 = xml.substr(last - 2),\n            isComputed = lastChar === '#',\n            isSpread = lastChar3 === '...';\n\n        if (isInBrace) {\n          isInBrace = !tmplRule.incompleteEnd.test(xml);\n        }\n        if (!isInBrace && tmplRule.incompleteStart.test(xml)) {\n          isInBrace = true;\n        }\n        if (isComputed) {\n          xml = xml.substr(0, last);\n        } else if (isSpread) {\n          xml = xml.substr(0, last - 2);\n        }\n\n        split = (isComputed ? '#' : isSpread ? '...' : '') + SPLIT_FLAG + i;\n        if (!isInBrace) {\n          split = tmplRule.startRule + split + tmplRule.endRule;\n        }\n      }\n\n      fullXml += xml + split;\n    }, false, true);\n\n    fullXml = _formatAll(fullXml, tmplRule);\n    if (__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textMode && !outputH) {\n      fullXml = '<' + __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textTag + '>' + fullXml + '</' + __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textTag + '>';\n    }\n\n    //Resolve string to element\n    ret = _checkStringElem(fullXml, tmplRule);\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"e\" /* defineProp */](ret, '_njParamCount', {\n      value: l - 1\n    });\n\n    //Save to the cache\n    preAsts[tmplKey] = ret;\n  }\n\n  var params = void 0,\n      args = arguments,\n      paramCount = ret._njParamCount;\n  if (paramCount > 0) {\n    params = {};\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"e\" /* defineProp */](params, '_njParam', {\n      value: true\n    });\n\n    for (var i = 0; i < paramCount; i++) {\n      params[SPLIT_FLAG + i] = args[i + 1];\n    }\n  }\n\n  var tmplFn = void 0;\n  if (!onlyParse) {\n    tmplFn = params ? function () {\n      return tmplMainFn.apply(this, __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"a\" /* arrayPush */]([params], arguments));\n    } : function () {\n      return tmplMainFn.apply(this, arguments);\n    };\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"f\" /* defineProps */](tmplFn, {\n      _njTmpl: {\n        value: ret\n      },\n      _njTmplKey: {\n        value: tmplKey\n      }\n    });\n\n    var tmplMainFn = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */]['compile' + (outputH ? 'H' : '')](tmplFn, tmplKey, null, null, tmplRule);\n  } else {\n    tmplFn = {\n      _njTmpl: ret,\n      _njTmplKey: tmplKey\n    };\n  }\n\n  return tmplFn;\n}\n\nfunction _createCurrent(elemName, parent) {\n  var current = {\n    elem: [],\n    elemName: elemName,\n    parent: parent\n  };\n\n  parent.elem.push(current.elem);\n  return current;\n}\n\nfunction _setTextAfter(textAfter, current) {\n  textAfter && textAfter !== '' && _setText(textAfter, current.elem);\n}\n\n//Resolve string to element\nfunction _checkStringElem(xml, tmplRule) {\n  var root = [],\n      current = {\n    elem: root,\n    elemName: 'root',\n    parent: null\n  },\n      parent = null,\n      pattern = tmplRule.checkElem,\n      matchArr = void 0,\n      inTextContent = void 0,\n      omittedCloseElem = null;\n\n  while (matchArr = pattern.exec(xml)) {\n    var textBefore = matchArr[1],\n        elem = matchArr[2],\n        elemName = matchArr[3],\n        elemParams = matchArr[4],\n        textAfter = matchArr[5];\n\n    //处理上一次循环中的可省略闭合标签\n    if (omittedCloseElem) {\n      var _omittedCloseElem = omittedCloseElem,\n          _omittedCloseElem2 = _slicedToArray(_omittedCloseElem, 4),\n          _elem = _omittedCloseElem2[0],\n          _elemName = _omittedCloseElem2[1],\n          _elemParams = _omittedCloseElem2[2],\n          _textAfter = _omittedCloseElem2[3];\n\n      var isEx = elem ? __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"i\" /* isExAll */](elemName, tmplRule) : false;\n\n      if (isEx && !isEx[1] && (__WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"k\" /* isPropS */](elemName, tmplRule) || __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"l\" /* isStrPropS */](elemName, tmplRule) || __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"j\" /* isParamsEx */](isEx[3]) || __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"d\" /* exCompileConfig */](isEx[3]).isProp)) {\n        parent = current;\n        current = _createCurrent(_elemName, parent);\n        _setElem(_elem, _elemName, _elemParams, current.elem, null, tmplRule);\n      } else {\n        _setSelfCloseElem(_elem, _elemName, _elemParams, current.elem, tmplRule);\n      }\n\n      _setTextAfter(_textAfter, current);\n      omittedCloseElem = null;\n    }\n\n    //Text before tag\n    if (textBefore && textBefore !== '') {\n      _setText(textBefore, current.elem);\n    }\n\n    //Element tag\n    if (elem) {\n      if (elem !== '<') {\n        if (elem.indexOf('<!') === 0) {\n          //一些特殊标签当做文本处理\n          _setText(elem, current.elem);\n        } else {\n          var _isEx = __WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"i\" /* isExAll */](elemName, tmplRule);\n          if (elemName[0] === '/') {\n            //Close tag\n            if (elemName.substr(1).toLowerCase() === inTextContent) {\n              //取消纯文本子节点标记\n              inTextContent = null;\n            }\n\n            if (_isEx || !inTextContent) {\n              var cName = current.elemName;\n              if (cName.indexOf(SPLIT_FLAG) < 0 ? elemName === '/' + cName : elemName.indexOf(SPLIT_FLAG) > -1) {\n                //如果开始标签包含SPLIT_FLAG，则只要结束标签包含SPLIT_FLAG就认为该标签已关闭\n                current = current.parent;\n              }\n            } else {\n              _setText(elem, current.elem);\n            }\n          } else if (elem[elem.length - 2] === '/') {\n            //Self close tag\n            if (_isEx || !inTextContent) {\n              _setSelfCloseElem(elem, elemName, elemParams, current.elem, tmplRule);\n            } else {\n              _setText(elem, current.elem);\n            }\n          } else {\n            //Open tag\n            if (_isEx || !inTextContent) {\n              if (!inTextContent && OMITTED_CLOSE_TAGS[elemName.toLowerCase()]) {\n                //img等可不闭合标签\n                omittedCloseElem = [elem, elemName, elemParams, textAfter];\n              } else {\n                var elemNameL = elemName.toLowerCase();\n                if (TEXT_CONTENT.indexOf(elemNameL) > -1) {\n                  //标记该标签为纯文本子节点\n                  inTextContent = elemNameL;\n                }\n\n                parent = current;\n                current = _createCurrent(elemName, parent);\n                _setElem(elem, elemName, elemParams, current.elem, null, tmplRule);\n              }\n            } else {\n              _setText(elem, current.elem);\n            }\n          }\n        }\n      } else {\n        //单独的\"<\"和后面的文本拼合在一起\n        if (textAfter == null) {\n          textAfter = '';\n        }\n        textAfter = elem + textAfter;\n      }\n    }\n\n    //Text after tag\n    !omittedCloseElem && _setTextAfter(textAfter, current);\n  }\n\n  //处理最后一次循环中遗留的可省略闭合标签\n  if (omittedCloseElem) {\n    var _omittedCloseElem3 = omittedCloseElem,\n        _omittedCloseElem4 = _slicedToArray(_omittedCloseElem3, 4),\n        _elem2 = _omittedCloseElem4[0],\n        _elemName2 = _omittedCloseElem4[1],\n        _elemParams2 = _omittedCloseElem4[2],\n        _textAfter2 = _omittedCloseElem4[3];\n\n    _setSelfCloseElem(_elem2, _elemName2, _elemParams2, current.elem, tmplRule);\n    _setTextAfter(_textAfter2, current);\n  }\n\n  return root;\n}\n\nvar LT_GT_LOOKUP = {\n  '<': '_njLt_',\n  '>': '_njGt_'\n};\nvar REGEX_LT_GT = />|</g;\n\nfunction _formatAll(str, tmplRule) {\n  var commentRule = tmplRule.commentRule;\n  return str.replace(new RegExp('<!--' + commentRule + '[\\\\s\\\\S]*?' + commentRule + '-->', 'g'), '').replace(new RegExp('([\\\\s]+:[^\\\\s=>]+=((\\'[^\\']+\\')|(\"[^\"]+\")))|(' + tmplRule.startRule + '(?!' + tmplRule.endRule + ')[\\\\s\\\\S]*?' + tmplRule.endRule + ')', 'g'), function (all, g1, g2, g3, g4, g5) {\n    return (g1 ? g1 : g5).replace(REGEX_LT_GT, function (match) {\n      return LT_GT_LOOKUP[match];\n    });\n  });\n}\n\nfunction _transformToEx(isStr, elemName, elemParams, tmplRule) {\n  return tmplRule.extensionRule + (isStr ? 'strProp' : 'prop') + ' ' + tmplRule.startRule + '\\'' + elemName.substr((isStr ? tmplRule.strPropRule.length : 0) + tmplRule.propRule.length) + '\\'' + tmplRule.endRule + elemParams;\n}\n\n//Set element node\nfunction _setElem(elem, elemName, elemParams, elemArr, bySelfClose, tmplRule) {\n  var ret = void 0,\n      paramsEx = void 0;\n  if (__WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"h\" /* isEx */](elemName, tmplRule, true)) {\n    ret = elem.substring(1, elem.length - 1);\n  } else if (__WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"l\" /* isStrPropS */](elemName, tmplRule)) {\n    ret = _transformToEx(true, elemName, elemParams, tmplRule);\n  } else if (__WEBPACK_IMPORTED_MODULE_2__transforms_transformElement__[\"k\" /* isPropS */](elemName, tmplRule)) {\n    ret = _transformToEx(false, elemName, elemParams, tmplRule);\n  } else {\n    var retS = _getSplitParams(elem, tmplRule);\n    ret = retS.elem;\n    paramsEx = retS.params;\n  }\n\n  if (bySelfClose) {\n    var retC = [ret];\n    if (paramsEx) {\n      retC.push(paramsEx);\n    }\n\n    elemArr.push(retC);\n  } else {\n    elemArr.push(ret);\n    if (paramsEx) {\n      elemArr.push(paramsEx);\n    }\n  }\n}\n\n//Extract split parameters\nfunction _getSplitParams(elem, tmplRule) {\n  var extensionRule = tmplRule.extensionRule,\n      startRule = tmplRule.startRule,\n      endRule = tmplRule.endRule,\n      spreadProp = tmplRule.spreadProp;\n\n  var paramsEx = void 0;\n\n  //Replace the parameter like \"{...props}\".\n  elem = elem.replace(spreadProp, function (all, begin, prop) {\n    prop = prop.trim();\n\n    if (!paramsEx) {\n      paramsEx = [extensionRule + 'props'];\n    }\n\n    paramsEx.push([extensionRule + 'spread ' + startRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\n    return ' ';\n  });\n\n  //Replace the parameter like \"#show={false}\".\n  elem = elem.replace(new RegExp('[\\\\s]+' + extensionRule + '([^\\\\s=>]+)=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s>]+))'), function (all, name, value) {\n    if (!paramsEx) {\n      paramsEx = [extensionRule + 'props'];\n    }\n\n    paramsEx.push([extensionRule + name, __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"d\" /* clearQuot */](value)]);\n    return ' ';\n  });\n\n  return {\n    elem: elem,\n    params: paramsEx\n  };\n}\n\n//Set self close element node\nfunction _setSelfCloseElem(elem, elemName, elemParams, elemArr, tmplRule) {\n  if (/\\/$/.test(elemName)) {\n    elemName = elemName.substr(0, elemName.length - 1);\n  }\n  _setElem(elem, elemName, elemParams, elemArr, true, tmplRule);\n}\n\n//Set text node\nfunction _setText(text, elemArr) {\n  elemArr.push(text);\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_registerComponent__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_createTmplRule__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_escape__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_extension__ = __webpack_require__(4);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"registerExtension\", function() { return __WEBPACK_IMPORTED_MODULE_6__helpers_extension__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_filter__ = __webpack_require__(5);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"registerFilter\", function() { return __WEBPACK_IMPORTED_MODULE_7__helpers_filter__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__compiler_compile__ = __webpack_require__(14);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"compile\", function() { return __WEBPACK_IMPORTED_MODULE_8__compiler_compile__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"compileH\", function() { return __WEBPACK_IMPORTED_MODULE_8__compiler_compile__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return __WEBPACK_IMPORTED_MODULE_8__compiler_compile__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"renderH\", function() { return __WEBPACK_IMPORTED_MODULE_8__compiler_compile__[\"d\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_taggedTmpl__ = __webpack_require__(17);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"taggedTmpl\", function() { return __WEBPACK_IMPORTED_MODULE_9__utils_taggedTmpl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"taggedTmplH\", function() { return __WEBPACK_IMPORTED_MODULE_9__utils_taggedTmpl__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"registerComponent\", function() { return __WEBPACK_IMPORTED_MODULE_2__utils_registerComponent__[\"a\"]; });\n\n\n\n\n\n\n\nObject(__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */])(__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  registerComponent: __WEBPACK_IMPORTED_MODULE_2__utils_registerComponent__[\"a\" /* default */],\n  createTmplRule: __WEBPACK_IMPORTED_MODULE_3__utils_createTmplRule__[\"a\" /* default */],\n  config: __WEBPACK_IMPORTED_MODULE_4__config__[\"a\" /* default */]\n});\n\nvar _global = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].global;\n\n_global.NornJ = _global.nj = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */];\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */]);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = registerComponent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tools__ = __webpack_require__(1);\n\n\n\n//注册组件\nfunction registerComponent(name, component) {\n  var params = name,\n      ret = void 0;\n  if (!__WEBPACK_IMPORTED_MODULE_1__tools__[\"l\" /* isObject */](name)) {\n    params = {};\n    params[name] = component;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__tools__[\"g\" /* each */](params, function (v, k, i) {\n    __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].components[k.toLowerCase()] = v;\n    if (i == 0) {\n      ret = v;\n    }\n  }, false, false);\n\n  return ret;\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_createTmplRule__ = __webpack_require__(2);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (configs) {\n  var delimiters = configs.delimiters,\n      includeParser = configs.includeParser,\n      createElement = configs.createElement,\n      outputH = configs.outputH,\n      textMode = configs.textMode;\n\n  if (delimiters) {\n    Object(__WEBPACK_IMPORTED_MODULE_1__utils_createTmplRule__[\"a\" /* default */])(delimiters, true);\n  }\n\n  if (includeParser) {\n    __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].includeParser = includeParser;\n  }\n\n  if (createElement) {\n    __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].createElement = createElement;\n  }\n\n  if (outputH != null) {\n    __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].outputH = outputH;\n  }\n\n  if (textMode != null) {\n    __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textMode = textMode;\n  }\n});;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return compile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return compileH; });\n/* unused harmony export precompile */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return renderH; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parser_checkElem__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__transforms_transformData__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__buildRuntime__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__parser_checkStringElem__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_createTmplRule__ = __webpack_require__(2);\n\n\n\n\n\n\n\n\n//编译模板并返回转换函数\nfunction _createCompile(outputH) {\n  return function (tmpl, tmplKey, fileName, delimiters, tmplRule) {\n    if (!tmpl) {\n      return;\n    }\n    if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](tmplKey)) {\n      var options = tmplKey;\n      tmplKey = options.tmplKey;\n      fileName = options.fileName;\n      delimiters = options.delimiters;\n      tmplRule = options.tmplRule;\n    }\n\n    //编译模板函数\n    var tmplFns = void 0;\n    if (tmplKey) {\n      tmplFns = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].templates[tmplKey];\n    }\n    if (!tmplFns) {\n      var isObj = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](tmpl),\n          fns = void 0;\n      if (isObj && tmpl.main) {\n        //直接传入预编译模板\n        fns = tmpl;\n      } else {\n        //编译AST\n        var root = void 0;\n        if (tmplKey) {\n          root = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].asts[tmplKey];\n        }\n        if (!root) {\n          //Can be directly introduced into the AST\n          if (isObj && tmpl.type === 'nj_root') {\n            root = tmpl;\n          } else {\n            if (!tmplRule) {\n              tmplRule = delimiters ? Object(__WEBPACK_IMPORTED_MODULE_6__utils_createTmplRule__[\"a\" /* default */])(delimiters) : __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].tmplRule;\n            }\n            root = _createAstRoot();\n\n            //Transform string template to preAst\n            if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](tmpl)) {\n              //Merge all include tags\n              var includeParser = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].includeParser;\n              if (includeParser) {\n                tmpl = includeParser(tmpl, fileName, tmplRule);\n              }\n\n              tmpl = __WEBPACK_IMPORTED_MODULE_5__parser_checkStringElem__[\"a\" /* default */].call({ tmplRule: tmplRule, outputH: outputH, onlyParse: true }, tmpl);\n            }\n\n            //分析传入参数并转换为节点树对象\n            Object(__WEBPACK_IMPORTED_MODULE_2__parser_checkElem__[\"a\" /* default */])(tmpl._njTmpl, root, tmplRule);\n          }\n\n          //保存模板AST编译结果到全局集合中\n          if (tmplKey) {\n            __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].asts[tmplKey] = root;\n          }\n        }\n\n        fns = Object(__WEBPACK_IMPORTED_MODULE_4__buildRuntime__[\"a\" /* default */])(root.content, root, !outputH);\n      }\n\n      tmplFns = __WEBPACK_IMPORTED_MODULE_3__transforms_transformData__[\"d\" /* template */](fns);\n\n      //保存模板函数编译结果到全局集合中\n      if (tmplKey) {\n        __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].templates[tmplKey] = tmplFns;\n      }\n    }\n\n    return tmplFns.main;\n  };\n}\n\nvar compile = _createCompile();\nvar compileH = _createCompile(true);\n\n//Create template root object\nfunction _createAstRoot() {\n  var root = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */]();\n  root.type = 'nj_root';\n  root.content = [];\n\n  return root;\n}\n\n//Precompile template\nfunction precompile(tmpl, outputH, tmplRule) {\n  var root = _createAstRoot();\n\n  if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](tmpl)) {\n    tmpl = __WEBPACK_IMPORTED_MODULE_5__parser_checkStringElem__[\"a\" /* default */].call({ tmplRule: tmplRule, outputH: outputH, onlyParse: true }, tmpl);\n  }\n  Object(__WEBPACK_IMPORTED_MODULE_2__parser_checkElem__[\"a\" /* default */])(tmpl._njTmpl, root, tmplRule);\n\n  return Object(__WEBPACK_IMPORTED_MODULE_4__buildRuntime__[\"a\" /* default */])(root.content, root, !outputH);\n}\n\nfunction _createRender(outputH) {\n  return function (tmpl, options) {\n    return (outputH ? compileH : compile)(tmpl, options ? {\n      tmplKey: options.tmplKey ? options.tmplKey : tmpl._njTmplKey,\n      fileName: options.fileName,\n      delimiters: options.delimiters\n    } : tmpl._njTmplKey).apply(null, __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"b\" /* arraySlice */](arguments, 1));\n  };\n}\n\nvar render = _createRender();\nvar renderH = _createRender(true);\n\n__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */](__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  compile: compile,\n  compileH: compileH,\n  precompile: precompile,\n  render: render,\n  renderH: renderH\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = checkElem;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__ = __webpack_require__(8);\n\n\n\n\nvar NO_SPLIT_NEWLINE = ['style', 'script', 'textarea', 'pre', 'xmp', 'template', 'noscript', __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textTag];\n\nfunction _plainTextNode(obj, parent, parentContent, noSplitNewline, tmplRule) {\n  var node = {};\n  node.type = 'nj_plaintext';\n  node.content = [__WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__[\"a\" /* compiledParam */](obj, tmplRule)];\n  node.allowNewline = noSplitNewline;\n  parent[parentContent].push(node);\n}\n\nvar REGEX_REPLACE_BP = /_njBp(\\d+)_/g;\n\n//检测元素节点\nfunction checkElem(obj, parent, tmplRule, hasExProps, noSplitNewline, isLast) {\n  var parentContent = 'content';\n\n  if (!__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"i\" /* isArray */](obj)) {\n    //判断是否为文本节点\n    if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](obj)) {\n      if (!noSplitNewline) {\n        var braceParams = [];\n        var strs = obj.replace(tmplRule.braceParamG, function (match) {\n          braceParams.push(match);\n          return '_njBp' + (braceParams.length - 1) + '_';\n        }).split(/\\n/g);\n\n        strs.forEach(function (str, i) {\n          str = str.trim();\n          str !== '' && _plainTextNode(str.replace(REGEX_REPLACE_BP, function (all, g1) {\n            return braceParams[g1];\n          }), parent, parentContent, noSplitNewline, tmplRule);\n        });\n      } else {\n        _plainTextNode(isLast && parent.allowNewline === 'nlElem' ? __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"r\" /* trimRight */](obj) : obj, parent, parentContent, noSplitNewline, tmplRule);\n      }\n    } else {\n      _plainTextNode(obj, parent, parentContent, noSplitNewline, tmplRule);\n    }\n\n    return;\n  }\n\n  var node = {},\n      first = obj[0];\n  if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](first)) {\n    //第一个子节点为字符串\n    var len = obj.length,\n        last = obj[len - 1],\n        isElemNode = false,\n        ex = void 0,\n        exParams = void 0;\n\n    //判断是否为xml标签\n    var openTagName = void 0,\n        hasCloseTag = false,\n        isTmpl = void 0,\n        isParamsEx = void 0,\n        isProp = void 0,\n        isSub = void 0,\n        needAddToProps = void 0;\n\n    ex = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"h\" /* isEx */](first, tmplRule);\n    if (!ex) {\n      var xmlOpenTag = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"g\" /* getXmlOpenTag */](first, tmplRule);\n      if (xmlOpenTag) {\n        //tagname为xml标签时,则认为是元素节点\n        openTagName = xmlOpenTag[1];\n        if (/\\/$/.test(openTagName)) {\n          openTagName = openTagName.substr(0, openTagName.length - 1);\n        }\n\n        if (!__WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"o\" /* isXmlSelfCloseTag */](first)) {\n          //非自闭合标签才验证是否存在关闭标签\n          hasCloseTag = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"n\" /* isXmlCloseTag */](last, openTagName);\n        } else {\n          //自闭合标签\n          node.selfCloseTag = true;\n        }\n        isElemNode = true;\n      }\n    } else {\n      //为扩展标签,也可视为一个元素节点\n      var exName = ex[0];\n      exParams = ex[1];\n      isTmpl = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"m\" /* isTmpl */](exName);\n      isParamsEx = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"j\" /* isParamsEx */](exName);\n      if (!isParamsEx) {\n        var exConfig = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"d\" /* exCompileConfig */](exName);\n        isProp = exConfig.isProp;\n        isSub = exConfig.isSub;\n        needAddToProps = isProp ? !hasExProps : isSub;\n\n        if (exConfig.useString) {\n          node.useString = exConfig.useString;\n        }\n      }\n\n      node.type = 'nj_ex';\n      node.ex = exName;\n      if (exParams != null && !isTmpl && !isParamsEx) {\n        if (!node.args) {\n          node.args = [];\n        }\n\n        __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](exParams, function (param) {\n          var key = param.key,\n              value = param.value;\n\n          if (key === 'useString') {\n            node.useString = !(value === 'false');\n            return;\n          }\n\n          var paramV = __WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__[\"a\" /* compiledParam */](value, tmplRule, param.hasColon);\n          if (param.onlyBrace) {\n            //提取匿名参数\n            node.args.push(paramV);\n          } else {\n            if (!node.params) {\n              node.params = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */]();\n            }\n            node.params[key] = paramV;\n          }\n        }, false, true);\n      }\n\n      isElemNode = true;\n    }\n\n    if (isElemNode) {\n      //判断是否为元素节点\n      var pushContent = true;\n      if (noSplitNewline) {\n        node.allowNewline = true;\n      }\n\n      if (!ex) {\n        node.type = openTagName;\n\n        //If open tag has a brace,add the typeRefer param.\n        var typeRefer = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"e\" /* getInsideBraceParam */](openTagName, tmplRule);\n        if (typeRefer) {\n          node.typeRefer = __WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__[\"a\" /* compiledParam */](typeRefer[0], tmplRule);\n        }\n\n        //获取openTag内参数\n        var tagParams = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"f\" /* getOpenTagParams */](first, tmplRule);\n        if (tagParams) {\n          if (!node.params) {\n            node.params = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"o\" /* obj */]();\n          }\n\n          __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](tagParams, function (param) {\n            //The parameter like \"{prop}\" needs to be replaced.\n            node.params[param.onlyBrace ? param.onlyBrace.replace(/\\.\\.\\//g, '') : param.key] = __WEBPACK_IMPORTED_MODULE_2__transforms_transformParam__[\"a\" /* compiledParam */](param.value, tmplRule, param.hasColon);\n          }, false, true);\n        }\n\n        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\n        if (!node.selfCloseTag) {\n          node.selfCloseTag = __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"p\" /* verifySelfCloseTag */](openTagName);\n        }\n\n        if (noSplitNewline == null && NO_SPLIT_NEWLINE.indexOf(openTagName.toLowerCase()) > -1) {\n          noSplitNewline = true;\n          node.allowNewline = 'nlElem';\n        }\n      } else {\n        if (isTmpl) {\n          //模板元素\n          pushContent = false;\n\n          //将模板添加到父节点的params中\n          __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"c\" /* addTmpl */](node, parent, exParams ? exParams[0].value : null);\n        } else if (isParamsEx || needAddToProps) {\n          pushContent = false;\n        }\n\n        if (noSplitNewline == null && node.ex === 'pre') {\n          noSplitNewline = true;\n          node.allowNewline = 'nlElem';\n        }\n      }\n\n      //放入父节点content内\n      if (pushContent) {\n        parent[parentContent].push(node);\n      }\n\n      //取出子节点集合\n      var end = len - (hasCloseTag ? 1 : 0),\n          content = obj.slice(1, end);\n      if (content && content.length) {\n        _checkContentElem(content, node, tmplRule, isParamsEx || hasExProps && !isProp, noSplitNewline, tmplRule);\n      }\n\n      //If this is params block, set on the \"paramsEx\" property of the parent node.\n      if (isParamsEx || needAddToProps) {\n        __WEBPACK_IMPORTED_MODULE_3__transforms_transformElement__[\"b\" /* addParamsEx */](node, parent, isProp, isSub);\n      }\n    } else {\n      //如果不是元素节点,则为节点集合\n      _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline);\n    }\n  } else if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"i\" /* isArray */](first)) {\n    //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\n    _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline);\n  }\n}\n\n//检测子元素节点\nfunction _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline) {\n  if (!parent.content) {\n    parent.content = [];\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](obj, function (item, i, l) {\n    checkElem(item, parent, tmplRule, hasExProps, noSplitNewline, i == l - 1);\n  }, false, true);\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__transforms_transformData__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_escape__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_extension__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_filter__ = __webpack_require__(5);\n\n\n\n\n\n\nvar errorTitle = __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].errorTitle;\n\n\nfunction _buildFn(content, node, fns, no, newContext, level, useStringLocal, name) {\n  var fnStr = '',\n      useString = useStringLocal != null ? useStringLocal : fns.useString,\n      isTmplEx = __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](no),\n      //如果no为字符串, 则本次将构建tmpl块模板函数\n  main = isTmplEx || no === 0,\n\n  /* retType\r\n   1: 只有单个子节点\r\n   2: 有多个子节点\r\n   object: 非构建函数时\r\n  */\n  retType = content.length === 1 ? '1' : '2',\n      counter = {\n    _type: 0,\n    _params: 0,\n    _paramsE: 0,\n    _compParam: 0,\n    _dataRefer: 0,\n    _ex: 0,\n    _value: 0,\n    _filter: 0,\n    _fnH: 0,\n    _tmp: 0,\n    newContext: newContext\n  };\n\n  if (!useString) {\n    counter._compParam = 0;\n  } else {\n    counter._children = 0;\n  }\n\n  if (!main && newContext) {\n    fnStr += 'p2 = p1.n(p2, p3);\\n';\n  }\n\n  if (retType === '2') {\n    if (!useString) {\n      fnStr += 'var ret = [];\\n';\n    } else {\n      fnStr += 'var ret = \\'\\';\\n';\n    }\n  }\n\n  fnStr += _buildContent(content, node, fns, counter, retType, level, useStringLocal);\n\n  if (retType === '2') {\n    fnStr += 'return ret;';\n  }\n\n  try {\n    /* 构建扩展标签函数\r\n     p1: 模板全局数据\r\n     p2: 节点上下文数据\r\n     p3: 扩展标签内调用result方法传递的参数\r\n     p4: #props变量\r\n     p5：子扩展标签#props变量\r\n    */\n    var fn = fns[main ? 'main' + (isTmplEx ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', 'p5', fnStr);\n    if (isTmplEx && name != null) {\n      //设置函数名\n      fn._njName = name;\n    }\n  } catch (err) {\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"h\" /* error */]('Failed to generate template function:\\n\\n' + err.toString() + ' in\\n\\n' + fnStr + '\\n');\n  }\n  return no;\n}\n\nfunction _buildOptions(config, useStringLocal, node, fns, exPropsStr, subExPropsStr, level, hashProps, valueL) {\n  var hashStr = ', useString: ' + (useStringLocal == null ? 'p1.us' : useStringLocal ? 'true' : 'false'),\n      noConfig = !config;\n\n  if (node) {\n    //扩展标签\n    var newContext = config ? config.newContext : true;\n    if (noConfig || config.exProps) {\n      hashStr += ', exProps: ' + exPropsStr;\n    }\n    if (noConfig || config.subExProps) {\n      hashStr += ', subExProps: ' + subExPropsStr;\n    }\n\n    hashStr += ', result: ' + (node.content ? 'p1.r(p1, p2, p1.fn' + _buildFn(node.content, node, fns, ++fns._no, newContext, level, useStringLocal) + ', ' + exPropsStr + ', ' + subExPropsStr + ')' : 'p1.np');\n\n    if (hashProps != null) {\n      hashStr += ', props: ' + hashProps;\n    }\n  }\n\n  return '{ _njOpts: true, _njFnsNo: ' + fns._no + ', global: p1, context: p2, outputH: ' + !fns.useString + hashStr + (valueL ? ', lastValue: ' + valueL : '') + (level != null ? ', level: ' + level : '') + ' }';\n}\n\nvar CUSTOM_VAR = 'nj_custom';\n\nfunction _buildPropData(obj, counter, fns, useStringLocal, level) {\n  var dataValueStr = void 0,\n      escape = obj.escape,\n      isEmpty = false,\n      special = false;\n  var isComputed = obj.prop.isComputed;\n\n  //先生成数据值\n\n  if (obj.prop.isBasicType) {\n    dataValueStr = obj.prop.name;\n  } else if (obj.prop.isEmpty) {\n    isEmpty = true;\n  } else {\n    var _obj$prop = obj.prop,\n        name = _obj$prop.name,\n        parentNum = _obj$prop.parentNum;\n\n    var data = '',\n        specialP = false;\n\n    switch (name) {\n      case '@index':\n        data = 'index';\n        special = true;\n        break;\n      case 'this':\n        data = 'data[0]';\n        special = true;\n        break;\n      case '@data':\n        data = 'data';\n        special = true;\n        break;\n      case '@g':\n        data = 'p1.g';\n        special = CUSTOM_VAR;\n        break;\n      case '@lt':\n        data = '\\'<\\'';\n        special = CUSTOM_VAR;\n        break;\n      case '@gt':\n        data = '\\'>\\'';\n        special = CUSTOM_VAR;\n        break;\n      case '@lb':\n        data = '\\'{\\'';\n        special = CUSTOM_VAR;\n        break;\n      case '@rb':\n        data = '\\'}\\'';\n        special = CUSTOM_VAR;\n        break;\n      case '@q':\n        data = '\\'\"\\'';\n        special = CUSTOM_VAR;\n        break;\n      case '@sq':\n        data = '\"\\'\"';\n        special = CUSTOM_VAR;\n        break;\n    }\n\n    if (parentNum) {\n      if (!data) {\n        data = 'data';\n      }\n      for (var i = 0; i < parentNum; i++) {\n        data = 'parent.' + data;\n      }\n\n      if (!special) {\n        specialP = true;\n      }\n    }\n\n    if (!special && !specialP) {\n      dataValueStr = (isComputed ? 'p1.c(' : '') + 'p2.d(\\'' + name + '\\'' + (isComputed ? ', 0, true' : '') + ')' + (isComputed ? ', p2, ' + level + ')' : '');\n    } else {\n      var dataStr = special === CUSTOM_VAR ? data : 'p2.' + data;\n      dataValueStr = special ? dataStr : (isComputed ? 'p1.c(' : '') + 'p2.d(\\'' + name + '\\', ' + dataStr + (isComputed ? ', true' : '') + ')' + (isComputed ? ', p2, ' + level + ')' : '');\n    }\n  }\n  if (dataValueStr) {\n    dataValueStr = _replaceBackslash(dataValueStr);\n  }\n\n  //有过滤器时需要生成\"_value\"值\n  var filters = obj.prop.filters;\n  if (filters) {\n    var counterValue = counter._value++;\n    var valueStr = '_value' + counterValue,\n        valueStrL = '_valueL' + counterValue,\n        filterStr = 'var ' + valueStr + ' = ' + (!isEmpty ? dataValueStr : 'null') + ', ' + valueStrL + ';\\n';\n\n    var tmpStr = '_tmp';\n    if (!counter._tmp) {\n      //在同一函数作用域内_tmp变量只创建一次\n      filterStr += 'var ' + tmpStr + ';\\n';\n      counter._tmp++;\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](filters, function (o, i) {\n      var _filterC = counter._filter++,\n          configF = __WEBPACK_IMPORTED_MODULE_5__helpers_filter__[\"a\" /* filterConfig */][o.name],\n          hasOptions = !configF || configF.hasOptions,\n          filterVarStr = '_filter' + _filterC,\n          globalFilterStr = 'p1.f[\\'' + o.name + '\\']',\n          filterStrI = '',\n          fnHVarStr = void 0;\n\n      if (isEmpty && i == 0 && (!configF || !configF.hasOptions)) {\n        hasOptions = false;\n      }\n\n      if (configF && configF.onlyGlobal) {\n        //只能从全局获取\n        filterStr += '\\nvar ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\n      } else {\n        //优先从p2.data中获取\n        fnHVarStr = '_fnH' + counter._fnH++;\n        filterStr += '\\nvar ' + filterVarStr + ';\\n';\n        filterStr += 'var ' + fnHVarStr + ' = p2.d(\\'' + o.name + '\\', 0, true);\\n';\n\n        filterStr += 'if (' + fnHVarStr + ') {\\n';\n        filterStr += '  ' + filterVarStr + ' = ' + fnHVarStr + '.val;\\n';\n        filterStr += '} else {\\n';\n        filterStr += '  ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\n        filterStr += '}\\n';\n      }\n      if (false) {\n        filterStr += 'if (!' + filterVarStr + ') {\\n';\n        filterStr += '  p1.wn(\\'A filter called \"' + o.name + '\" is undefined.\\');\\n';\n        filterStr += '} else {\\n';\n      }\n\n      var _filterStr = '  ' + tmpStr + ' = ' + filterVarStr + '.apply(' + (fnHVarStr ? fnHVarStr + ' ? ' + fnHVarStr + '.ctx : p2' : 'p2') + ', [' + (!isEmpty || i > 0 ? valueStr + ', ' : '') + (o.params && o.params.length ? o.params.reduce(function (p, c, i, arr) {\n        var propStr = _buildPropData({\n          prop: c,\n          escape: escape\n        }, counter, fns, useStringLocal, level),\n            hasComma = hasOptions || i < arr.length - 1;\n\n        if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](propStr)) {\n          return p + propStr + (hasComma ? ', ' : '');\n        } else {\n          filterStrI += propStr.filterStr;\n          return p + propStr.valueStr + (hasComma ? ', ' : '');\n        }\n      }, '') : '') + (hasOptions ? _buildOptions(configF, useStringLocal, null, fns, null, null, level, null, valueStrL) : '') + ']);\\n';\n      _filterStr += '  ' + valueStrL + ' = ' + valueStr + ';\\n';\n      _filterStr += '  ' + valueStr + ' = ' + tmpStr + ';\\n';\n\n      if (filterStrI !== '') {\n        filterStr += filterStrI;\n      }\n      filterStr += _filterStr;\n\n      if (false) {\n        filterStr += '}';\n      }\n      filterStr += '\\n';\n    }, false, true);\n\n    return {\n      valueStr: _buildEscape(valueStr, fns, isComputed ? false : escape, special),\n      filterStr: filterStr\n    };\n  } else {\n    return _buildEscape(dataValueStr, fns, isComputed ? false : escape, special);\n  }\n}\n\nfunction _buildEscape(valueStr, fns, escape, special) {\n  if (fns.useString) {\n    if (escape && special !== CUSTOM_VAR) {\n      return 'p1.es(' + valueStr + ')';\n    } else {\n      return valueStr;\n    }\n  } else {\n    //文本中的特殊字符需转义\n    return Object(__WEBPACK_IMPORTED_MODULE_3__utils_escape__[\"a\" /* unescape */])(valueStr);\n  }\n}\n\nfunction _replaceStrs(str) {\n  return _replaceBackslash(str).replace(/_njNl_/g, '\\\\n').replace(/'/g, \"\\\\'\");\n}\n\nfunction _replaceBackslash(str) {\n  return str = str.replace(/\\\\/g, '\\\\\\\\');\n}\n\nfunction _buildProps(obj, counter, fns, useStringLocal, level) {\n  var str0 = obj.strs[0],\n      valueStr = '',\n      filterStr = '';\n\n  if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](str0)) {\n    //常规属性\n    valueStr = !obj.isAll && str0 !== '' ? '\\'' + _replaceStrs(str0) + '\\'' : '';\n    filterStr = '';\n\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](obj.props, function (o, i) {\n      var propData = _buildPropData(o, counter, fns, useStringLocal, level),\n          dataValueStr = void 0;\n      if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"m\" /* isString */](propData)) {\n        dataValueStr = propData;\n      } else {\n        dataValueStr = propData.valueStr;\n        filterStr += propData.filterStr;\n      }\n\n      if (!obj.isAll) {\n        var strI = obj.strs[i + 1],\n            prefixStr = str0 === '' && i == 0 ? '' : ' + ';\n\n        // if (strI.trim() === '\\\\n') { //如果只包含换行符号则忽略\n        //   valueStr += prefixStr + dataValueStr;\n        //   return;\n        // }\n\n        dataValueStr = prefixStr + '(' + dataValueStr + ')' + (strI !== '' ? ' + \\'' + _replaceStrs(strI) + '\\'' : '');\n      }\n\n      valueStr += dataValueStr;\n      if (obj.isAll) {\n        return false;\n      }\n    }, false, true);\n  } else if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](str0) && str0._njLen != null) {\n    //tmpl标签\n    valueStr += '{\\n';\n    __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](str0, function (v, k, i, l) {\n      if (k !== '_njLen') {\n        var hasName = k.indexOf('_njT') !== 0,\n            fnStr = 'p1.main' + _buildFn(v.node.content, v.node, fns, 'T' + ++fns._noT, null, null, null, hasName ? k : null);\n\n        valueStr += '  \"' + v.no + '\": ' + fnStr;\n        if (hasName) {\n          valueStr += ',\\n  \"' + k + '\": ' + fnStr;\n        }\n      } else {\n        valueStr += '  length: ' + v;\n      }\n\n      valueStr += ',\\n';\n      if (i === l - 1) {\n        //传递上下文参数\n        valueStr += '  _njData: p2.data,\\n  \\\r\n                       _njParent: p2.parent,\\n  \\\r\n                       _njIndex: p2.index,\\n  \\\r\n                       _njLevel: p1.l(' + level + ', p2),\\n  \\\r\n                       _njIcp: p2.icp\\n';\n      }\n    }, false, false);\n    valueStr += '}';\n  }\n\n  if (filterStr === '') {\n    return valueStr;\n  } else {\n    //包含过滤器\n    return {\n      valueStr: valueStr,\n      filterStr: filterStr\n    };\n  }\n}\n\nfunction _buildPropsEx(isSub, paramsEC, propsEx, fns, counter, useString, exPropsStr, subExPropsStr) {\n  var paramsStr = 'var _paramsE' + paramsEC + ' = {};\\n';\n\n  var ret = {};\n  if (isSub) {\n    ret._paramsE = exPropsStr;\n    ret._paramsSE = '_paramsE' + paramsEC;\n  } else {\n    ret._paramsE = '_paramsE' + paramsEC;\n    ret._paramsSE = subExPropsStr;\n  }\n\n  //props标签的子节点\n  paramsStr += _buildContent(propsEx.content, propsEx, fns, counter, ret, null, useString);\n  return paramsStr;\n}\n\nfunction _buildParams(node, fns, counter, useString, level, exPropsStr, subExPropsStr) {\n  //节点参数\n  var params = node.params,\n      paramsEx = node.paramsEx,\n      propsExS = node.propsExS;\n\n  var useStringF = fns.useString,\n      hasPropsEx = paramsEx || propsExS;\n  var paramsStr = '',\n      _paramsC = void 0;\n\n  if (params || hasPropsEx) {\n    _paramsC = counter._params++;\n    paramsStr = 'var _params' + _paramsC + ' = ';\n\n    //props tag\n    if (hasPropsEx) {\n      var bothPropsEx = paramsEx && propsExS,\n          _paramsEC = void 0,\n          _paramsSEC = void 0;\n      paramsStr += (useString ? '\\'\\'' : bothPropsEx ? '{}' : 'null') + ';\\n';\n\n      if (paramsEx) {\n        _paramsEC = counter._paramsE++;\n        paramsStr += _buildPropsEx(false, _paramsEC, paramsEx, fns, counter, useString, exPropsStr, subExPropsStr);\n      }\n      if (propsExS) {\n        _paramsSEC = counter._paramsE++;\n        paramsStr += _buildPropsEx(true, _paramsSEC, propsExS, fns, counter, useString, exPropsStr, subExPropsStr);\n      }\n\n      //合并params块的值\n      if (!useString) {\n        if (bothPropsEx) {\n          paramsStr += '\\np1.an(_params' + _paramsC + ', _paramsE' + _paramsEC + ', _paramsE' + _paramsSEC + ');\\n';\n        } else {\n          paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + (_paramsEC != null ? _paramsEC : _paramsSEC) + ';\\n';\n        }\n      } else {\n        var keys = '';\n        __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](params, function (v, k, i, l) {\n          if (i == 0) {\n            keys += '{ ';\n          }\n          keys += '\\'' + k + '\\': 1';\n\n          if (i < l - 1) {\n            keys += ', ';\n          } else {\n            keys += ' }';\n          }\n        }, false, false);\n\n        paramsStr += '\\n_params' + _paramsC + ' += p1.ans(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\n      }\n    }\n\n    if (params) {\n      var paramKeys = Object.keys(params),\n          len = paramKeys.length,\n          filterStr = '';\n\n      if (!useString && !hasPropsEx) {\n        paramsStr += '{\\n';\n      }\n\n      __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](paramKeys, function (k, i) {\n        var valueStr = _buildProps(params[k], counter, fns, useString, level);\n        if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](valueStr)) {\n          filterStr += valueStr.filterStr;\n          valueStr = valueStr.valueStr;\n        }\n\n        if (!useStringF && k === 'style') {\n          //将style字符串转换为对象\n          valueStr = 'p1.sp(' + valueStr + ')';\n        }\n\n        var key = _replaceStrs(k),\n            onlyKey = '\\'' + key + '\\'' === valueStr;\n        if (!useStringF) {\n          key = __WEBPACK_IMPORTED_MODULE_2__transforms_transformData__[\"a\" /* fixPropName */](key);\n        }\n        if (!hasPropsEx) {\n          if (!useString) {\n            paramsStr += '  \\'' + key + '\\': ' + (!onlyKey ? valueStr : 'true') + (i < len - 1 ? ',\\n' : '');\n          } else {\n            paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + (i == len - 1 ? ';' : '') + '\\n';\n          }\n        } else {\n          if (!useString) {\n            paramsStr += '_params' + _paramsC + '[\\'' + key + '\\'] = ' + (!onlyKey ? valueStr : 'true') + ';\\n';\n          } else {\n            paramsStr += '_params' + _paramsC + ' += \\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + ';\\n';\n          }\n        }\n      }, false, false);\n\n      if (!useString && !hasPropsEx) {\n        paramsStr += '\\n};\\n';\n      }\n\n      if (filterStr !== '') {\n        paramsStr = filterStr + paramsStr;\n      }\n    }\n  }\n\n  return [paramsStr, _paramsC];\n}\n\nfunction _buildNode(node, parent, fns, counter, retType, level, useStringLocal, isFirst) {\n  var fnStr = '',\n      useStringF = fns.useString;\n\n  if (node.type === 'nj_plaintext') {\n    //文本节点\n    var valueStr = _buildProps(node.content[0], counter, fns, useStringLocal, level),\n        filterStr = void 0;\n    if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](valueStr)) {\n      filterStr = valueStr.filterStr;\n      valueStr = valueStr.valueStr;\n    }\n    if (valueStr === '') {\n      return fnStr;\n    }\n\n    var textStr = _buildRender(node, parent, 1, retType, { text: valueStr }, fns, level, useStringLocal, node.allowNewline, isFirst);\n    if (filterStr) {\n      textStr = filterStr + textStr;\n    }\n\n    if (useStringF) {\n      fnStr += textStr;\n    } else {\n      //文本中的特殊字符需转义\n      fnStr += Object(__WEBPACK_IMPORTED_MODULE_3__utils_escape__[\"a\" /* unescape */])(textStr);\n    }\n  } else if (node.type === 'nj_ex') {\n    //扩展标签节点\n    var _exC = counter._ex++,\n        _dataReferC = counter._dataRefer++,\n        dataReferStr = '',\n        _filterStr2 = '',\n        configE = __WEBPACK_IMPORTED_MODULE_4__helpers_extension__[\"a\" /* extensionConfig */][node.ex],\n        exVarStr = '_ex' + _exC,\n        globalExStr = 'p1.x[\\'' + node.ex + '\\']',\n        fnHVarStr = void 0;\n\n    if (configE && configE.onlyGlobal) {\n      //只能从全局获取\n      fnStr += '\\nvar ' + exVarStr + ' = ' + globalExStr + ';\\n';\n    } else {\n      //优先从p2.data中获取\n      fnHVarStr = '_fnH' + counter._fnH++;\n      fnStr += '\\nvar ' + exVarStr + ';\\n';\n      fnStr += 'var ' + fnHVarStr + ' = p2.d(\\'' + node.ex + '\\', 0, true);\\n';\n\n      fnStr += 'if (' + fnHVarStr + ') {\\n';\n      fnStr += '  ' + exVarStr + ' = ' + fnHVarStr + '.val;\\n';\n      fnStr += '} else {\\n';\n      fnStr += '  ' + exVarStr + ' = ' + globalExStr + ';\\n';\n      fnStr += '}\\n';\n    }\n\n    dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\n\n    if (node.args) {\n      //构建匿名参数\n      __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](node.args, function (arg, i) {\n        var valueStr = _buildProps(arg, counter, fns, useStringLocal, level);\n        if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](valueStr)) {\n          _filterStr2 += valueStr.filterStr;\n          valueStr = valueStr.valueStr;\n        }\n\n        dataReferStr += '  ' + valueStr + ',';\n      }, false, true);\n    }\n\n    //props块\n    var exPropsStr = 'p4',\n        subExPropsStr = 'p5';\n    if (retType) {\n      var _paramsE = retType._paramsE,\n          _paramsSE = retType._paramsSE;\n\n      if (_paramsE) {\n        exPropsStr = _paramsE;\n      }\n      if (_paramsSE) {\n        subExPropsStr = _paramsSE;\n      }\n    }\n\n    //hash参数\n    var retP = _buildParams(node, fns, counter, false, level, exPropsStr, subExPropsStr),\n        paramsStr = retP[0],\n        _paramsC = retP[1];\n\n    dataReferStr += _buildOptions(configE, useStringLocal, node, fns, exPropsStr, subExPropsStr, level, paramsStr !== '' ? '_params' + _paramsC : null);\n    dataReferStr += '\\n];\\n';\n\n    //添加匿名参数\n    if (paramsStr !== '') {\n      dataReferStr += 'p1.aa(_params' + _paramsC + ', _dataRefer' + _dataReferC + ');\\n';\n    }\n\n    if (_filterStr2 !== '') {\n      dataReferStr = _filterStr2 + dataReferStr;\n    }\n\n    fnStr += paramsStr + dataReferStr;\n\n    if (false) {\n      //如果扩展标签不存在则打印警告信息\n      fnStr += 'p1.tf(_ex' + _exC + ', \\'' + node.ex + '\\', \\'ex\\');\\n';\n    }\n\n    //渲染\n    fnStr += _buildRender(node, parent, 2, retType, {\n      _ex: _exC,\n      _dataRefer: _dataReferC,\n      fnH: fnHVarStr\n    }, fns, level, useStringLocal, node.allowNewline, isFirst);\n  } else {\n    //元素节点\n    //节点类型和typeRefer\n    var _typeC = counter._type++,\n        _type = void 0,\n        _typeRefer = void 0;\n\n    if (node.typeRefer) {\n      var valueStrT = _buildProps(node.typeRefer, counter, fns, level);\n      if (__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"l\" /* isObject */](valueStrT)) {\n        fnStr += valueStrT.filterStr;\n        valueStrT = valueStrT.valueStr;\n      }\n\n      _typeRefer = valueStrT;\n      _type = node.typeRefer.props[0].prop.name;\n    } else {\n      _type = node.type;\n    }\n\n    var typeStr = void 0;\n    if (!useStringF) {\n      var _typeL = _type.toLowerCase(),\n          subName = '';\n\n      if (!_typeRefer && _typeL.indexOf('.') > -1) {\n        var typeS = _type.split('.');\n        _typeL = _typeL.split('.')[0];\n        _type = typeS[0];\n        subName = ', \\'' + typeS[1] + '\\'';\n      }\n\n      typeStr = _typeRefer ? 'p1.er(' + _typeRefer + ', \\'' + _typeL + '\\', p1, \\'' + _type + '\\', p2)' : 'p1.e(\\'' + _typeL + '\\', p1, \\'' + _type + '\\', p2' + subName + ')';\n    } else {\n      typeStr = _typeRefer ? 'p1.en(' + _typeRefer + ', \\'' + _type + '\\')' : '\\'' + _type + '\\'';\n    }\n    fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\n\n    //节点参数\n    var _retP = _buildParams(node, fns, counter, useStringF, level),\n        _paramsStr = _retP[0],\n        _paramsC2 = _retP[1];\n    fnStr += _paramsStr;\n\n    var _compParamC = void 0,\n        _childrenC = void 0;\n    if (!useStringF) {\n      //组件参数\n      _compParamC = counter._compParam++;\n      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (_paramsStr !== '' ? '_params' + _paramsC2 : 'null') + '];\\n';\n    } else {\n      //子节点字符串\n      _childrenC = counter._children++;\n      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\n    }\n\n    //子节点\n    fnStr += _buildContent(node.content, node, fns, counter, !useStringF ? { _compParam: '_compParam' + _compParamC } : { _children: '_children' + _childrenC }, level != null ? level + 1 : level, useStringLocal);\n\n    //渲染\n    fnStr += _buildRender(node, parent, 3, retType, !useStringF ? { _compParam: _compParamC } : { _type: _typeC, _params: _paramsStr !== '' ? _paramsC2 : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns, level, useStringLocal, node.allowNewline, isFirst);\n  }\n\n  return fnStr;\n}\n\nfunction _buildContent(content, parent, fns, counter, retType, level, useStringLocal) {\n  var fnStr = '';\n  if (!content) {\n    return fnStr;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"g\" /* each */](content, function (node) {\n    var useString = node.useString;\n\n    fnStr += _buildNode(node, parent, fns, counter, retType, level, useString != null ? useString : useStringLocal, fns._firstNode && level == 0);\n\n    if (fns._firstNode) {\n      //输出字符串时模板第一个节点前面不加换行符\n      fns._firstNode = false;\n    }\n  }, false, true);\n\n  return fnStr;\n}\n\nfunction _buildRender(node, parent, nodeType, retType, params, fns, level, useStringLocal, allowNewline, isFirst) {\n  var retStr = void 0,\n      useStringF = fns.useString,\n      useString = useStringLocal != null ? useStringLocal : useStringF,\n      noLevel = level == null;\n\n  switch (nodeType) {\n    case 1:\n      //文本节点\n      retStr = (!useStringF || allowNewline || noLevel ? '' : isFirst ? parent.type !== 'nj_root' ? 'p1.fl(p2) + ' : '' : '\\'\\\\n\\' + ') + _buildLevelSpace(level, fns, allowNewline) + _buildLevelSpaceRt(useStringF, isFirst || noLevel) + params.text;\n      break;\n    case 2:\n      //扩展标签\n      retStr = '_ex' + params._ex + '.apply(' + (params.fnH ? params.fnH + ' ? ' + params.fnH + '.ctx : p2' : 'p2') + ', _dataRefer' + params._dataRefer + ')';\n      break;\n    case 3:\n      //元素节点\n      if (!useStringF) {\n        retStr = 'p1.H(_compParam' + params._compParam + ')';\n      } else {\n        var levelSpace = _buildLevelSpace(level, fns, allowNewline);\n        var content = node.content;\n\n        if (allowNewline && allowNewline !== 'nlElem' || noLevel) {\n          retStr = '';\n        } else if (isFirst) {\n          retStr = parent.type !== 'nj_root' ? 'p1.fl(p2) + ' : '';\n        } else {\n          retStr = '\\'\\\\n\\' + ';\n        }\n\n        if (node.type !== __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].textTag) {\n          retStr += levelSpace + _buildLevelSpaceRt(useStringF, isFirst || noLevel) + '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\n          if (!params._selfClose) {\n            retStr += '\\'>\\'';\n            retStr += ' + _children' + params._children + ' + ';\n            retStr += (!content || allowNewline || noLevel ? '' : '\\'\\\\n\\' + ') + (content ? levelSpace : '') + //如果子节点为空则不输出缩进空格和换行符\n            _buildLevelSpaceRt(useStringF, noLevel) + '\\'</\\' + _type' + params._type + ' + \\'>\\'';\n          } else {\n            retStr += '\\' />\\'';\n          }\n        } else {\n          retStr += '_children' + params._children;\n        }\n      }\n      break;\n  }\n\n  //保存方式\n  if (retType === '1') {\n    return '\\nreturn ' + retStr + ';';\n  } else if (retType === '2') {\n    if (!useString) {\n      return '\\nret.push(' + retStr + ');\\n';\n    } else {\n      return '\\nret += ' + retStr + ';\\n';\n    }\n  } else if (retType._paramsE || retType._paramsSE) {\n    return '\\n' + retStr + ';\\n';\n  } else {\n    if (!useStringF) {\n      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\n    } else {\n      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\n    }\n  }\n}\n\nfunction _buildLevelSpace(level, fns, allowNewline) {\n  var ret = '';\n  if (allowNewline && allowNewline !== 'nlElem') {\n    return ret;\n  }\n\n  if (fns.useString && level != null && level > 0) {\n    ret += '\\'';\n    for (var i = 0; i < level; i++) {\n      ret += '  ';\n    }\n    ret += '\\' + ';\n  }\n  return ret;\n}\n\nfunction _buildLevelSpaceRt(useString, noSpace) {\n  if (useString && !noSpace) {\n    return 'p1.ls(p2) + ';\n  }\n  return '';\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (astContent, ast, useString) {\n  var fns = {\n    useString: useString,\n    _no: 0, //扩展标签函数计数\n    _noT: 0, //tmpl块模板函数计数\n    _firstNode: true\n  };\n\n  _buildFn(astContent, ast, fns, fns._no, null, 0);\n  return fns;\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export createTaggedTmpl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return taggedTmpl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return taggedTmplH; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_tools__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parser_checkStringElem__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_createTmplRule__ = __webpack_require__(2);\n\n\n\n\n\nfunction createTaggedTmpl() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var outputH = opts.outputH,\n      delimiters = opts.delimiters;\n\n  var tmplRule = delimiters ? Object(__WEBPACK_IMPORTED_MODULE_3__utils_createTmplRule__[\"a\" /* default */])(delimiters) : __WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */].tmplRule;\n\n  return function () {\n    return __WEBPACK_IMPORTED_MODULE_2__parser_checkStringElem__[\"a\" /* default */].apply({ tmplRule: tmplRule, outputH: outputH }, arguments);\n  };\n}\n\nvar taggedTmpl = createTaggedTmpl({ outputH: false });\nvar taggedTmplH = createTaggedTmpl({ outputH: true });\n\nObject(__WEBPACK_IMPORTED_MODULE_1__utils_tools__[\"c\" /* assign */])(__WEBPACK_IMPORTED_MODULE_0__core__[\"a\" /* default */], {\n  createTaggedTmpl: createTaggedTmpl,\n  taggedTmpl: taggedTmpl,\n  taggedTmplH: taggedTmplH\n});\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// nornj.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 43bde5819c919c883b01","export default function nj() {\r\n  return nj['taggedTmpl' + (nj.outputH ? 'H' : '')].apply(null, arguments);\r\n}\r\n\r\nnj.createElement = null;\r\nnj.components = {};\r\nnj.preAsts = {};\r\nnj.asts = {};\r\nnj.templates = {};\r\nnj.errorTitle = '[NornJ]';\r\nnj.tmplRule = {};\r\nnj.outputH = false;\r\nnj.global = typeof self !== 'undefined' ? self : global;\r\nnj.textTag = 'nj-text';\r\nnj.textMode = false;\n\n\n// WEBPACK FOOTER //\n// ./src/core.js","import nj from '../core';\r\nconst nativeArrayPush = Array.prototype.push,\r\n  nativeArraySlice = Array.prototype.slice,\r\n  hasOwnProperty = Object.prototype.hasOwnProperty,\r\n  toString = Object.prototype.toString;\r\nconst { errorTitle } = nj;\r\n\r\nexport const defineProp = Object.defineProperty;\r\nexport const defineProps = Object.defineProperties;\r\n\r\n//Push one by one to array\r\nexport function arrayPush(arr1, arr2) {\r\n  nativeArrayPush.apply(arr1, arr2);\r\n  return arr1;\r\n}\r\n\r\nexport function arraySlice(arrLike, start, end) {\r\n  return nativeArraySlice.call(arrLike, start, end);\r\n}\r\n\r\n//判断是否为数组\r\nexport function isArray(obj) {\r\n  return Array.isArray(obj);\r\n}\r\n\r\n//判断是否为对象\r\nexport function isObject(obj) {\r\n  const type = typeof obj;\r\n  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n}\r\n\r\n//判断是否为数字\r\nexport function isNumber(obj) {\r\n  return toString.call(obj) === '[object Number]';\r\n}\r\n\r\n//判断是否为字符串\r\nexport function isString(obj) {\r\n  return toString.call(obj) === '[object String]';\r\n}\r\n\r\n//获取属性值\r\nfunction _getProperty(key) {\r\n  return function(obj) {\r\n    return obj == null ? void 0 : obj[key];\r\n  };\r\n}\r\n\r\n//是否为类数组\r\nconst _getLength = _getProperty('length');\r\n\r\nexport function isArrayLike(obj) {\r\n  const length = _getLength(obj);\r\n  return typeof length == 'number' && length >= 0;\r\n}\r\n\r\n//遍历数组或对象\r\nexport function each(obj, func, context, isArr) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  if (isArr == null) {\r\n    isArr = isArrayLike(obj);\r\n  }\r\n\r\n  //设置回调函数上下文\r\n  context = context ? context : obj;\r\n\r\n  if (isArr) {\r\n    for (let i = 0, l = obj.length; i < l; i++) {\r\n      let ret = func.call(context, obj[i], i, l);\r\n\r\n      if (ret === false) {\r\n        break;\r\n      }\r\n    }\r\n  } else {\r\n    let keys = Object.keys(obj),\r\n      l = keys.length;\r\n    for (let i = 0; i < l; i++) {\r\n      let k = keys[i],\r\n        ret = func.call(context, obj[k], k, i, l);\r\n\r\n      if (ret === false) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst REGEX_TRIM_RIGHT = /(\\n|\\r)?[\\s\\xA0]+$/;\r\nexport function trimRight(str) {\r\n  return str.replace(REGEX_TRIM_RIGHT, (all, s1) => s1 ? '\\n' : '');\r\n}\r\n\r\n//Noop function\r\nexport function noop() {}\r\n\r\n//抛出异常\r\nexport function throwIf(val, msg, type) {\r\n  if (!val) {\r\n    switch (type) {\r\n      case 'ex':\r\n        throw Error(errorTitle + 'Extension tag \"' + msg + '\" is undefined, please check it has been registered.');\r\n      default:\r\n        throw Error(errorTitle + (msg || val));\r\n    }\r\n  }\r\n}\r\n\r\n//Print warn\r\nexport function warn(msg) {\r\n  console.warn(errorTitle + msg);\r\n}\r\n\r\n//Print error\r\nexport function error(msg) {\r\n  console.error(errorTitle + msg);\r\n}\r\n\r\n//create light weight object\r\nexport function obj() {\r\n  return Object.create(null);\r\n}\r\n\r\n//Clear quotation marks\r\nconst REGEX_QUOT_D = /[\"]+/g,\r\n  REGEX_QUOT_S = /[']+/g;\r\n\r\nexport function clearQuot(value, clearDouble) {\r\n  if (value == null) {\r\n    return;\r\n  }\r\n\r\n  let regex;\r\n  if (clearDouble == null) {\r\n    const charF = value[0];\r\n    if (charF === '\\'') {\r\n      regex = REGEX_QUOT_S;\r\n    } else if (charF === '\"') {\r\n      regex = REGEX_QUOT_D;\r\n    }\r\n  } else if (clearDouble) {\r\n    regex = REGEX_QUOT_D;\r\n  } else {\r\n    regex = REGEX_QUOT_S;\r\n  }\r\n\r\n  if (regex) {\r\n    value = value.replace(regex, '');\r\n  }\r\n  return value;\r\n}\r\n\r\n//Transform to camel-case\r\nexport function toCamelCase(str) {\r\n  if (str.indexOf('-') > -1) {\r\n    str = str.replace(/-\\w/g, function(letter) {\r\n      return letter.substr(1).toUpperCase();\r\n    });\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n//Reference by babel-external-helpers\r\nexport const assign = Object.assign || function(target) {\r\n  for (let i = 1, args = arguments; i < args.length; i++) {\r\n    let source = args[i];\r\n\r\n    for (let key in source) {\r\n      if (hasOwnProperty.call(source, key)) {\r\n        target[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\nassign(nj, {\r\n  defineProp,\r\n  defineProps,\r\n  arrayPush,\r\n  arraySlice,\r\n  isArray,\r\n  isObject,\r\n  isNumber,\r\n  isString,\r\n  isArrayLike,\r\n  each,\r\n  noop,\r\n  throwIf,\r\n  warn,\r\n  obj,\r\n  toCamelCase,\r\n  assign\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/utils/tools.js","import nj from '../core';\r\nimport * as tools from './tools';\r\n\r\nfunction _createRegExp(reg, mode) {\r\n  return new RegExp(reg, mode);\r\n}\r\n\r\n//Clear the repeated characters\r\nfunction _clearRepeat(str) {\r\n  let ret = '',\r\n    i = 0,\r\n    l = str.length,\r\n    char;\r\n\r\n  for (; i < l; i++) {\r\n    char = str[i];\r\n    if (ret.indexOf(char) < 0) {\r\n      ret += char;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction _replace$(str) {\r\n  return str.replace(/\\$/g, '\\\\$');\r\n}\r\n\r\nfunction _replaceMinus(str) {\r\n  return str.replace(/\\-/g, '\\\\-');\r\n}\r\n\r\nexport default function createTmplRule(rules = {}, isGlobal) {\r\n  let {\r\n    startRule = '{{',\r\n      endRule = '}}',\r\n      extensionRule = '#',\r\n      propRule = '@',\r\n      strPropRule = '@',\r\n      templateRule = 'template',\r\n      tagSpRule = '#$@',\r\n      commentRule = '#'\r\n  } = nj.tmplRule;\r\n\r\n  let {\r\n    start,\r\n    end,\r\n    extension,\r\n    prop,\r\n    strProp,\r\n    template,\r\n    tagSp,\r\n    comment\r\n  } = rules;\r\n\r\n  if (start) {\r\n    startRule = start;\r\n  }\r\n  if (end) {\r\n    endRule = end;\r\n  }\r\n  if (extension) {\r\n    extensionRule = extension;\r\n  }\r\n  if (prop) {\r\n    propRule = prop;\r\n  }\r\n  if (strProp) {\r\n    strPropRule = strProp;\r\n  }\r\n  if (template) {\r\n    templateRule = template;\r\n  }\r\n  if (tagSp) {\r\n    tagSpRule = tagSp;\r\n  }\r\n  if (comment != null) {\r\n    commentRule = comment;\r\n  }\r\n\r\n  const firstChar = startRule[0],\r\n    lastChar = endRule[endRule.length - 1],\r\n    allRules = firstChar + lastChar,\r\n    extensionRules = _replaceMinus(_clearRepeat(extensionRule + propRule + strPropRule + tagSpRule)),\r\n    escapeExtensionRule = _replace$(extensionRule),\r\n    escapePropRule = _replace$(propRule),\r\n    escapeStrPropRule = _replace$(strPropRule),\r\n    braceParamStr = '([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?)';\r\n\r\n  const tmplRules = {\r\n    startRule,\r\n    endRule,\r\n    extensionRule,\r\n    propRule,\r\n    strPropRule,\r\n    templateRule,\r\n    tagSpRule,\r\n    commentRule,\r\n    firstChar,\r\n    lastChar,\r\n    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + extensionRules + '][^\\\\s>]*)[^>]*>$', 'i'),\r\n    openTagParams: _createRegExp('[\\\\s]+((([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?))|[^\\\\s=>]+)(=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s]+)))?', 'g'),\r\n    braceParam: _createRegExp(braceParamStr, 'i'),\r\n    braceParamG: _createRegExp(braceParamStr, 'ig'),\r\n    spreadProp: _createRegExp('[\\\\s]+([' + firstChar + ']?' + startRule + ')[\\\\s]*(\\\\.\\\\.\\\\.(?!' + endRule + ')[\\\\s\\\\S]+?)(' + endRule + '[' + lastChar + ']?)', 'g'),\r\n    replaceSplit: _createRegExp('(?:[' + firstChar + ']?' + startRule + ')(?!' + endRule + ')[\\\\s\\\\S]+?(?:' + endRule + '[' + lastChar + ']?)'),\r\n    replaceParam: _createRegExp('([' + firstChar + ']?' + startRule + ')((?!' + endRule + ')[\\\\s\\\\S]+?)' + endRule + '[' + lastChar + ']?', 'g'),\r\n    checkElem: _createRegExp('([^<>]+)|(<([a-z/!' + firstChar + extensionRules + '][^\\\\s<>]*)([^<>]*)>|<)([^<]*)', 'ig'),\r\n    extension: _createRegExp('^' + escapeExtensionRule + '([^\\\\s]+)', 'i'),\r\n    exAll: _createRegExp('^([/]?)(' + escapeExtensionRule + '|' + escapeStrPropRule + escapePropRule + '|' + escapePropRule + ')([^\\\\s]+)', 'i'),\r\n    include: _createRegExp('<' + escapeExtensionRule + 'include([^>]*)>', 'ig'),\r\n    incompleteStart: _createRegExp('[' + firstChar + ']?' + startRule + '((?!' + endRule + ')[\\\\s\\\\S])*$'),\r\n    incompleteEnd: _createRegExp('^(?!' + startRule + ')[\\\\s\\\\S]*?' + endRule + '[' + lastChar + ']?')\r\n  };\r\n\r\n  if (isGlobal) { //Reset the regexs to global list\r\n    tools.assign(nj.tmplRule, tmplRules);\r\n  } else {\r\n    return tmplRules;\r\n  }\r\n};\r\n\r\n//Set global template rules\r\ncreateTmplRule({}, true);\n\n\n// WEBPACK FOOTER //\n// ./src/utils/createTmplRule.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nconst { errorTitle } = nj;\r\nconst REGEX_NUM = /^(-?([0-9]+[\\.]?[0-9]+)|[0-9])$/;\r\n\r\n//提取style内参数\r\nexport function styleProps(obj) {\r\n  //If the parameter is a style object,then direct return.\r\n  if (tools.isObject(obj) || tools.isArray(obj) || tools.isNumber(obj)) {\r\n    return obj;\r\n  }\r\n\r\n  //参数为字符串\r\n  let pattern = /([^\\s:]+)[\\s]?:[\\s]?([^;]+)[;]?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    let key = matchArr[1],\r\n      value = matchArr[2];\r\n\r\n    if (!ret) {\r\n      ret = {};\r\n    }\r\n\r\n    //Convert to lowercase when style name is all capital.\r\n    if (/^[A-Z-]+$/.test(key)) {\r\n      key = key.toLowerCase();\r\n    }\r\n\r\n    //将连字符转为驼峰命名\r\n    key = tools.toCamelCase(key);\r\n\r\n    ret[key] = REGEX_NUM.test(value) ? Number(value) : value;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get value from multiple datas\r\nexport function getData(prop, data, hasCtx) {\r\n  let ret, obj;\r\n  if (!data) {\r\n    data = this.data;\r\n  }\r\n\r\n  for (let i = 0, l = data.length; i < l; i++) {\r\n    obj = data[i];\r\n    if (obj) {\r\n      ret = obj[prop];\r\n      if (ret !== undefined) {\r\n        if (hasCtx) {\r\n          return {\r\n            ctx: obj,\r\n            val: ret\r\n          };\r\n        }\r\n\r\n        return ret;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction _getLevel(level, p2) {\r\n  if (level != null && p2.level != null) {\r\n    level += p2.level;\r\n  }\r\n  return level;\r\n}\r\n\r\nexport function getComputedData(fn, p2, level) {\r\n  if (fn == null) {\r\n    return fn;\r\n  }\r\n\r\n  if (fn.val._njTmpl) { //模板函数\r\n    return fn.val.call({\r\n      _njData: p2.data,\r\n      _njParent: p2.parent,\r\n      _njIndex: p2.index,\r\n      _njLevel: _getLevel(level, p2),\r\n      _njIcp: p2.icp\r\n    });\r\n  } else { //普通函数\r\n    return fn.val.call(fn.ctx, p2);\r\n  }\r\n}\r\n\r\nexport function getElement(name, p1, nameO, p2, subName) {\r\n  let element;\r\n  if (!p2.icp) {\r\n    element = p1.cp[name];\r\n  } else {\r\n    element = getData(nameO, p2.icp);\r\n    if (!element) {\r\n      element = p1.cp[name];\r\n    }\r\n  }\r\n\r\n  if(subName != null && element) {\r\n    element = element[subName];\r\n  }\r\n\r\n  return element ? element : name;\r\n}\r\n\r\nexport function getElementRefer(refer, name, p1, nameO, p2) {\r\n  return refer != null ? (tools.isString(refer) ? getElement(refer.toLowerCase(), p1, nameO, p2) : refer) : getElement(name, p1, nameO, p2);\r\n}\r\n\r\nexport function getElementName(refer, name) {\r\n  return (refer != null && refer !== '') ? refer : name;\r\n}\r\n\r\nexport function addArgs(props, dataRefer) {\r\n  const { args } = props;\r\n  if (args) {\r\n    for (let i = args.length; i--;) {\r\n      dataRefer.unshift(args[i]);\r\n    }\r\n  }\r\n}\r\n\r\n//Rebuild local variables in the new context\r\nexport function newContext(p2, p3) {\r\n  if (!p3) {\r\n    return p2;\r\n  }\r\n\r\n  const newData = [];\r\n  if ('data' in p3) {\r\n    newData.push(p3.data);\r\n  }\r\n  if ('extra' in p3) {\r\n    newData.push(p3.extra);\r\n  }\r\n\r\n  return {\r\n    data: newData.length ? tools.arrayPush(newData, p2.data) : p2.data,\r\n    parent: p3.fallback ? p2 : p2.parent,\r\n    index: 'index' in p3 ? p3.index : p2.index,\r\n    level: p2.level,\r\n    getData,\r\n    d: getData,\r\n    icp: p2.icp\r\n  };\r\n}\r\n\r\n//修正属性名\r\nexport function fixPropName(name) {\r\n  switch (name) {\r\n    case 'class':\r\n      name = 'className';\r\n      break;\r\n    case 'for':\r\n      name = 'htmlFor';\r\n      break;\r\n  }\r\n\r\n  return name;\r\n}\r\n\r\n//合并字符串属性\r\nexport function assignStrProps(paramsE, keys) {\r\n  let ret = '';\r\n  for (let k in paramsE) {\r\n    if (!keys || !keys[k]) {\r\n      const v = paramsE[k];\r\n      ret += ' ' + k + (k !== v ? '=\"' + v + '\"' : ' ');\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\n//创建扩展标签子节点函数\r\nexport function exRet(p1, p2, fn, p4, p5) {\r\n  return function(param) {\r\n    return fn(p1, p2, param, p4, p5);\r\n  };\r\n}\r\n\r\nfunction _getLocalComponents(localConfigs, initCtx) {\r\n  let icp;\r\n  if (localConfigs && localConfigs.components) {\r\n    icp = localConfigs.components;\r\n    if (!tools.isArray(icp)) {\r\n      icp = [icp];\r\n    }\r\n  }\r\n  if (initCtx && initCtx._njIcp) {\r\n    icp = icp ? tools.arrayPush(icp, initCtx._njIcp) : initCtx._njIcp;\r\n  }\r\n  return icp;\r\n}\r\n\r\n//构建可运行的模板函数\r\nexport function tmplWrap(configs, main) {\r\n  return function(lc, lc2) {\r\n    const initCtx = this,\r\n      data = tools.arraySlice(arguments);\r\n\r\n    return main(configs, {\r\n      data: initCtx && initCtx._njData ? tools.arrayPush(data, initCtx._njData) : data,\r\n      parent: initCtx ? initCtx._njParent : null,\r\n      index: initCtx ? initCtx._njIndex : null,\r\n      level: initCtx ? initCtx._njLevel : null,\r\n      getData,\r\n      d: getData,\r\n      icp: _getLocalComponents(lc && lc._njParam ? lc2 : lc, initCtx)\r\n    });\r\n  };\r\n}\r\n\r\nfunction levelSpace(p2) {\r\n  if (p2.level == null) {\r\n    return '';\r\n  }\r\n\r\n  let ret = '';\r\n  for (let i = 0; i < p2.level; i++) {\r\n    ret += '  ';\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction firstNewline(p2) {\r\n  return p2.index == null ? '' : (p2.index == 0 ? '' : '\\n');\r\n}\r\n\r\nfunction createElementApply(p) {\r\n  return nj.createElement.apply(null, p);\r\n}\r\n\r\n//创建模板函数\r\nexport function template(fns) {\r\n  const configs = {\r\n    us: fns.useString,\r\n    x: nj.extensions,\r\n    f: nj.filters,\r\n    np: tools.noop,\r\n    tf: tools.throwIf,\r\n    wn: tools.warn,\r\n    n: newContext,\r\n    c: getComputedData,\r\n    sp: styleProps,\r\n    r: exRet,\r\n    e: getElement,\r\n    er: getElementRefer,\r\n    en: getElementName,\r\n    aa: addArgs,\r\n    an: tools.assign,\r\n    g: nj.global,\r\n    l: _getLevel\r\n  };\r\n\r\n  if (!configs.us) {\r\n    configs.h = nj.createElement;\r\n    configs.H = createElementApply;\r\n    configs.cp = nj.components;\r\n  } else {\r\n    configs.ans = assignStrProps;\r\n    configs.es = nj.escape;\r\n    configs.ls = levelSpace;\r\n    configs.fl = firstNewline;\r\n  }\r\n\r\n  tools.each(fns, (v, k) => {\r\n    if (k.indexOf('main') === 0) { //将每个主函数构建为可运行的模板函数\r\n      configs[k] = tmplWrap(configs, v);\r\n      tools.defineProps(configs[k], {\r\n        _njTmpl: {\r\n          value: true\r\n        },\r\n        tmplName: { //设置函数名\r\n          value: v._njName\r\n        }\r\n      });\r\n      configs['_' + k] = v;\r\n    } else if (k.indexOf('fn') === 0) { //扩展标签函数\r\n      configs[k] = v;\r\n    }\r\n  }, false, false);\r\n\r\n  return configs;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformData.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport * as tranData from '../transforms/transformData';\r\n\r\n//Global extension list\r\nexport const extensions = {\r\n  'if': (value, options) => {\r\n    if (value === 'false') {\r\n      value = false;\r\n    }\r\n\r\n    let valueR, ret;\r\n    if (!options.useUnless) {\r\n      valueR = !!value;\r\n    } else {\r\n      valueR = !!!value;\r\n    }\r\n    if (valueR) {\r\n      ret = options.result();\r\n    } else {\r\n      let props = options.props;\r\n      if (props) {\r\n        let elseFn = props['else'];\r\n\r\n        if (props.elseifs) {\r\n          let l = props.elseifs.length;\r\n          tools.each(props.elseifs, (elseif, i) => {\r\n            if (!!elseif.value) {\r\n              ret = elseif.fn();\r\n              return false;\r\n            } else if (i === l - 1) {\r\n              if (elseFn) {\r\n                ret = elseFn();\r\n              }\r\n            }\r\n          }, false, true);\r\n        } else {\r\n          if (elseFn) {\r\n            ret = elseFn();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (options.useString && ret == null) {\r\n      return '';\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  'else': options => options.subExProps['else'] = options.result,\r\n\r\n  'elseif': (value, options) => {\r\n    const exProps = options.subExProps;\r\n    if (!exProps.elseifs) {\r\n      exProps.elseifs = [];\r\n    }\r\n    exProps.elseifs.push({\r\n      value,\r\n      fn: options.result\r\n    });\r\n  },\r\n\r\n  'switch': (value, options) => {\r\n    let ret,\r\n      props = options.props,\r\n      l = props.elseifs.length;\r\n\r\n    tools.each(props.elseifs, (elseif, i) => {\r\n      if (value === elseif.value) {\r\n        ret = elseif.fn();\r\n        return false;\r\n      } else if (i === l - 1) {\r\n        if (props['else']) {\r\n          ret = props['else']();\r\n        }\r\n      }\r\n    }, false, true);\r\n\r\n    return ret;\r\n  },\r\n\r\n  unless: (value, options) => {\r\n    options.useUnless = true;\r\n    return extensions['if'](value, options);\r\n  },\r\n\r\n  each: (list, options) => {\r\n    let useString = options.useString,\r\n      props = options.props,\r\n      ret;\r\n\r\n    if (list) {\r\n      if (useString) {\r\n        ret = '';\r\n      } else {\r\n        ret = [];\r\n      }\r\n\r\n      const isArrayLike = tools.isArrayLike(list);\r\n      tools.each(list, (item, index, len, lenObj) => {\r\n        let param = {\r\n          data: item,\r\n          index: isArrayLike ? index : len,\r\n          fallback: true\r\n        };\r\n\r\n        if (props && props.moreValues) {\r\n          const _len = isArrayLike ? len : lenObj;\r\n          param.extra = {\r\n            '@first': param.index === 0,\r\n            '@last': param.index === _len - 1,\r\n            '@length': _len\r\n          };\r\n        }\r\n        if (!isArrayLike) {\r\n          if (!param.extra) {\r\n            param.extra = {};\r\n          }\r\n          param.extra['@key'] = index;\r\n        }\r\n\r\n        let retI = options.result(param);\r\n        if (useString) {\r\n          ret += retI;\r\n        } else {\r\n          ret.push(retI);\r\n        }\r\n      }, false, isArrayLike);\r\n\r\n      //Return null when not use string and result is empty.\r\n      if (!useString && !ret.length) {\r\n        ret = null;\r\n      }\r\n\r\n      if ((!ret || !ret.length) && props && props['else']) {\r\n        ret = props['else']();\r\n      }\r\n    } else {\r\n      if (props && props['else']) {\r\n        ret = props['else']();\r\n      }\r\n      if (useString && ret == null) {\r\n        ret = '';\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Parameter\r\n  prop: (name, options) => {\r\n    let ret = options.result(), //Get parameter value\r\n      value;\r\n\r\n    if (ret !== undefined) {\r\n      value = ret;\r\n    } else { //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n      value = !options.useString ? true : name;\r\n    }\r\n\r\n    options.exProps[options.outputH ? tranData.fixPropName(name) : name] = value;\r\n  },\r\n\r\n  //Spread parameters\r\n  spread: (props, options) => {\r\n    tools.each(props, (v, k) => {\r\n      options.exProps[k] = v;\r\n    }, false, false);\r\n  },\r\n\r\n  show: options => {\r\n    if (!options.result()) {\r\n      options.exProps.style = options.useString ? 'display:none' : { display: 'none' };\r\n    }\r\n  },\r\n\r\n  'for': (start, end, options) => {\r\n    if (end._njOpts) {\r\n      options = end;\r\n      end = start;\r\n      start = 0;\r\n    }\r\n\r\n    let ret, useString = options.useString,\r\n      props = options.props,\r\n      loopLast = props && props.loopLast;\r\n    if (useString) {\r\n      ret = '';\r\n    } else {\r\n      ret = [];\r\n    }\r\n\r\n    for (; start <= end; start++) {\r\n      if (!loopLast && start === end) {\r\n        break;\r\n      }\r\n\r\n      let retI = options.result({\r\n        index: start,\r\n        fallback: true\r\n      });\r\n\r\n      if (useString) {\r\n        ret += retI;\r\n      } else {\r\n        ret.push(retI);\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  obj: options => options.props,\r\n\r\n  list: function() {\r\n    let args = arguments,\r\n      last = args.length - 1,\r\n      options = args[last];\r\n\r\n    if (last > 0) {\r\n      let ret = tools.arraySlice(args, 0, last);\r\n      if (options.useString) {\r\n        ret = ret.join('');\r\n      }\r\n\r\n      return ret;\r\n    } else {\r\n      return [options.result()];\r\n    }\r\n  },\r\n\r\n  fn: options => {\r\n    const { props } = options;\r\n\r\n    return function() {\r\n      let params;\r\n      if (props) {\r\n        params = {};\r\n\r\n        const paramNames = Object.keys(props);\r\n        paramNames.forEach((v, i) => params[paramNames[i]] = arguments[i]);\r\n      }\r\n\r\n      return options.result({ data: params });\r\n    };\r\n  },\r\n\r\n  block: options => options.result(),\r\n\r\n  pre: options => extensions.block(options),\r\n\r\n  'with': function(originalData, options) {\r\n    const { props } = options;\r\n\r\n    return options.result({\r\n      data: props && props.as ? {\r\n        [props.as]: originalData\r\n      } : originalData\r\n    });\r\n  },\r\n\r\n  arg: options => {\r\n    const { exProps } = options;\r\n    if (!exProps.args) {\r\n      exProps.args = [];\r\n    }\r\n\r\n    exProps.args.push(options.result());\r\n  },\r\n\r\n  once: options => {\r\n    const { props } = options;\r\n    let cacheObj = options.global,\r\n      cacheKey = '_njOnceCache_' + (props && props.cacheKey != null ? props.cacheKey : options._njFnsNo),\r\n      cache = cacheObj[cacheKey],\r\n      useCache;\r\n\r\n    if (props && (props.reset !== undefined || props.resetList !== undefined)) {\r\n      let { reset, resetList } = props;\r\n      let cacheValKey = cacheKey + 'V';\r\n      useCache = true;\r\n\r\n      if (reset !== undefined) {\r\n        resetList = [reset];\r\n      }\r\n      resetList.forEach((r, i) => {\r\n        let key = cacheValKey + i,\r\n          cacheVal = cacheObj[key];\r\n\r\n        if (cacheVal !== r) {\r\n          useCache = false;\r\n          cacheObj[key] = r;\r\n        }\r\n      });\r\n    } else {\r\n      useCache = cache !== undefined;\r\n    }\r\n\r\n    if (!useCache) {\r\n      cache = cacheObj[cacheKey] = options.result();\r\n    }\r\n    return cache;\r\n  }\r\n};\r\n\r\nfunction _config(params) {\r\n  let ret = {\r\n    onlyGlobal: false,\r\n    useString: false,\r\n    newContext: true,\r\n    exProps: false,\r\n    isProp: false,\r\n    subExProps: false,\r\n    isSub: false\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\nconst _defaultCfg = { onlyGlobal: true, newContext: false };\r\n\r\n//Extension default config\r\nexport const extensionConfig = {\r\n  'if': _config(_defaultCfg),\r\n  'else': _config({ onlyGlobal: true, newContext: false, subExProps: true, isSub: true }),\r\n  'switch': _config(_defaultCfg),\r\n  unless: _config(_defaultCfg),\r\n  each: _config({ onlyGlobal: true }),\r\n  prop: _config({ onlyGlobal: true, newContext: false, exProps: true, subExProps: true, isProp: true }),\r\n  spread: _config({ onlyGlobal: true, newContext: false, exProps: true, subExProps: true, isProp: true }),\r\n  obj: _config({ onlyGlobal: true, newContext: false }),\r\n  list: _config(_defaultCfg),\r\n  fn: _config({ onlyGlobal: true }),\r\n  'with': _config({ onlyGlobal: true })\r\n};\r\nextensionConfig.elseif = _config(extensionConfig['else']);\r\nextensionConfig['for'] = _config(extensionConfig.each);\r\nextensionConfig.block = _config(extensionConfig.obj);\r\nextensionConfig.pre = _config(extensionConfig.obj);\r\nextensionConfig.arg = _config(extensionConfig.prop);\r\nextensionConfig.once = _config(extensionConfig.obj);\r\nextensionConfig.show = _config(extensionConfig.prop);\r\n\r\n//Extension alias\r\nextensions['case'] = extensions.elseif;\r\nextensionConfig['case'] = extensionConfig.elseif;\r\nextensions['empty'] = extensions['default'] = extensions['else'];\r\nextensionConfig['empty'] = extensionConfig['default'] = extensionConfig['else'];\r\nextensions.strProp = extensions.prop;\r\nextensionConfig.strProp = tools.assign(_config(extensionConfig.prop), { useString: true });\r\nextensions.strArg = extensions.arg;\r\nextensionConfig.strArg = _config(extensionConfig.strProp);\r\n\r\n//Register extension and also can batch add\r\nexport function registerExtension(name, extension, options) {\r\n  let params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      extension,\r\n      options\r\n    };\r\n  }\r\n\r\n  tools.each(params, function(v, name) {\r\n    if (v) {\r\n      const { extension, options } = v;\r\n\r\n      if (extension) {\r\n        extensions[name] = extension;\r\n      } else {\r\n        extensions[name] = v;\r\n      }\r\n      extensionConfig[name] = _config(options);\r\n    }\r\n  }, false, false);\r\n}\r\n\r\ntools.assign(nj, {\r\n  extensions,\r\n  extensionConfig,\r\n  registerExtension\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/extension.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport { getComputedData, styleProps } from '../transforms/transformData';\r\n\r\n//Global filter list\r\nexport const filters = {\r\n  //Get properties\r\n  '.': (obj, prop) => {\r\n    if (obj == null) {\r\n      return obj;\r\n    }\r\n\r\n    return obj[prop];\r\n  },\r\n\r\n  //Call method\r\n  _: function(method) {\r\n    if (method == null) {\r\n      return method;\r\n    }\r\n\r\n    const args = arguments;\r\n    return method.apply(args[args.length - 1].lastValue, tools.arraySlice(args, 1, args.length - 1));\r\n  },\r\n\r\n  //Get computed properties\r\n  '#': (obj, prop, options) => {\r\n    if (obj == null) {\r\n      return obj;\r\n    }\r\n\r\n    return getComputedData({\r\n      val: obj[prop],\r\n      ctx: obj\r\n    }, options.context, options.level);\r\n  },\r\n\r\n  '==': (val1, val2) => val1 == val2,\r\n\r\n  '===': (val1, val2) => val1 === val2,\r\n\r\n  '!=': (val1, val2) => val1 != val2,\r\n\r\n  '!==': (val1, val2) => val1 !== val2,\r\n\r\n  //Less than\r\n  '<': (val1, val2) => val1 < val2,\r\n\r\n  '<=': (val1, val2) => val1 <= val2,\r\n\r\n  //Greater than\r\n  '>': (val1, val2) => val1 > val2,\r\n\r\n  '>=': (val1, val2) => val1 >= val2,\r\n\r\n  '+': (val1, val2) => val1 + val2,\r\n\r\n  '-': (val1, val2) => val1 - val2,\r\n\r\n  '*': (val1, val2) => val1 * val2,\r\n\r\n  '/': (val1, val2) => val1 / val2,\r\n\r\n  '%': (val1, val2) => val1 % val2,\r\n\r\n  '**': (val1, val2) => Math.pow(val1, val2),\r\n\r\n  '//': (val1, val2) => Math.floor(val1 / val2),\r\n\r\n  //Ternary operator\r\n  '?': (val, val1, val2) => val ? val1 : val2,\r\n\r\n  '!': val => !val,\r\n\r\n  '&&': (val1, val2) => val1 && val2,\r\n\r\n  or: (val1, val2) => val1 || val2,\r\n\r\n  //Convert to int \r\n  int: val => parseInt(val, 10),\r\n\r\n  //Convert to float \r\n  float: val => parseFloat(val),\r\n\r\n  //Convert to boolean \r\n  bool: val => {\r\n    if (val === 'false') {\r\n      return false;\r\n    }\r\n\r\n    return Boolean(val);\r\n  },\r\n\r\n  obj: function() {\r\n    let args = arguments,\r\n      ret = {};\r\n\r\n    tools.each(args, (v, i) => {\r\n      ret[v.key] = v.val;\r\n    }, false, true);\r\n    return ret;\r\n  },\r\n\r\n  ':': (key, val) => {\r\n    return { key, val };\r\n  },\r\n\r\n  list: function() {\r\n    let args = arguments;\r\n    if (args.length === 0) {\r\n      return [];\r\n    } else {\r\n      return tools.arraySlice(args, 0, args.length);\r\n    }\r\n  },\r\n\r\n  reg: (pattern, flags) => new RegExp(pattern, flags),\r\n\r\n  //Transform css string to object\r\n  css: cssText => styleProps(cssText),\r\n\r\n  //Generate array by two positive integers,closed interval \r\n  '..': _getArrayByNum(1),\r\n\r\n  //Generate array by two positive integers,right open interval\r\n  rLt: _getArrayByNum(0),\r\n\r\n  //Compare two number or letter \r\n  '<=>': (val1, val2) => {\r\n    if (val1 > val2) {\r\n      return 1;\r\n    } else if (val1 == val2) {\r\n      return 0;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n};\r\n\r\nfunction _getArrayByNum(isContainEnd) {\r\n  return function(val1, val2) {\r\n    return Object.keys(Array.apply(null, { length: val2 - val1 + isContainEnd })).map(item => +item + val1);\r\n  };\r\n}\r\n\r\nfunction _config(params) {\r\n  let ret = {\r\n    onlyGlobal: false,\r\n    hasOptions: true\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\nconst _defaultCfg = { onlyGlobal: true, hasOptions: false };\r\n\r\n//Filter default config\r\nexport const filterConfig = {\r\n  '.': _config(_defaultCfg),\r\n  '_': _config({ onlyGlobal: true }),\r\n  '#': _config({ onlyGlobal: true }),\r\n  '==': _config(_defaultCfg),\r\n  '===': _config(_defaultCfg),\r\n  '!=': _config(_defaultCfg),\r\n  '!==': _config(_defaultCfg),\r\n  '<': _config(_defaultCfg),\r\n  '<=': _config(_defaultCfg),\r\n  '>': _config(_defaultCfg),\r\n  '>=': _config(_defaultCfg),\r\n  '+': _config(_defaultCfg),\r\n  '-': _config(_defaultCfg),\r\n  '*': _config(_defaultCfg),\r\n  '/': _config(_defaultCfg),\r\n  '%': _config(_defaultCfg),\r\n  '**': _config(_defaultCfg),\r\n  '//': _config(_defaultCfg),\r\n  '?': _config(_defaultCfg),\r\n  '!': _config(_defaultCfg),\r\n  '&&': _config(_defaultCfg),\r\n  or: _config(_defaultCfg),\r\n  int: _config(_defaultCfg),\r\n  float: _config(_defaultCfg),\r\n  bool: _config(_defaultCfg),\r\n  obj: _config(_defaultCfg),\r\n  ':': _config(_defaultCfg),\r\n  list: _config(_defaultCfg),\r\n  reg: _config(_defaultCfg),\r\n  css: _config(_defaultCfg),\r\n  '..': _config(_defaultCfg),\r\n  rLt: _config(_defaultCfg),\r\n  '<=>': _config(_defaultCfg)\r\n};\r\n\r\n//Filter alias\r\nfilters.prop = filters['.'];\r\nfilterConfig.prop = filterConfig['.'];\r\n\r\n//Register filter and also can batch add\r\nexport function registerFilter(name, filter, options) {\r\n  let params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      filter,\r\n      options\r\n    };\r\n  }\r\n\r\n  tools.each(params, (v, name) => {\r\n    if (v) {\r\n      const { filter, options } = v;\r\n\r\n      if (filter) {\r\n        filters[name] = filter;\r\n      } else {\r\n        filters[name] = v;\r\n      }\r\n      filterConfig[name] = _config(options);\r\n    }\r\n  }, false, false);\r\n}\r\n\r\ntools.assign(nj, {\r\n  filters,\r\n  filterConfig,\r\n  registerFilter\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/filter.js","import nj from '../core';\r\nimport { assign } from './tools';\r\n\r\nconst ESCAPE_LOOKUP = {\r\n  '&': '&amp;',\r\n  '>': '&gt;',\r\n  '<': '&lt;',\r\n  '\"': '&quot;',\r\n  '\\'': '&#x27;'\r\n};\r\n\r\nconst REGEX_ESCAPE = /[&><\"']/g;\r\nexport function escape(str) {\r\n  if (str == null) {\r\n    return '';\r\n  } else if (!str.replace) {\r\n    return str;\r\n  }\r\n\r\n  return str.replace(REGEX_ESCAPE, match => ESCAPE_LOOKUP[match]);\r\n}\r\n\r\nconst UNESCAPE_LOOKUP = {\r\n  nbsp: '\\u00A0',\r\n  ensp: '\\u2002',\r\n  emsp: '\\u2003',\r\n  thinsp: '\\u2009',\r\n  zwnj: '\\u200C',\r\n  zwj: '\\u200D',\r\n  lt: '<',\r\n  gt: '>',\r\n  amp: '&'\r\n};\r\n\r\nconst REGEX_UNESCAPE = new RegExp('&(' + Object.keys(UNESCAPE_LOOKUP).join('|') + ');', 'g');\r\nexport function unescape(str) {\r\n  if (str == null) {\r\n    return '';\r\n  } else if (!str.replace) {\r\n    return str;\r\n  }\r\n\r\n  return str.replace(REGEX_UNESCAPE, (all, match) => UNESCAPE_LOOKUP[match]);\r\n}\r\n\r\nassign(nj, {\r\n  escape,\r\n  unescape\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/utils/escape.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport '../helpers/filter';\r\n\r\n//Get compiled property\r\nconst REGEX_JS_PROP = /('[^']*')|(\"[^\"]*\")|(-?[0-9][0-9]*(\\.\\d+)?)|true|false|null|undefined|Object|Array|Math|Date|JSON|([#]*)([^\\s.,[\\]()]+)/;\r\nconst REGEX_REPLACE_CHAR = /_njQs(\\d+)_/g;\r\n\r\nfunction _compiledProp(prop, innerBrackets, innerQuotes) {\r\n  let ret = tools.obj();\r\n\r\n  //If there are vertical lines in the property,then use filter\r\n  if (prop.indexOf('|') >= 0) {\r\n    let filters = [],\r\n      filtersTmp;\r\n    filtersTmp = prop.split('|');\r\n    prop = filtersTmp[0].trim(); //Extract property\r\n\r\n    filtersTmp = filtersTmp.slice(1);\r\n    tools.each(filtersTmp, (filter) => {\r\n      filter = filter.trim();\r\n      if (filter === '') {\r\n        return;\r\n      }\r\n\r\n      let retF = _getFilterParam(filter),\r\n        filterObj = tools.obj(),\r\n        filterName = retF[0].trim(); //Get filter name\r\n\r\n      if (filterName) {\r\n        const paramsF = retF[1]; //Get filter param\r\n\r\n        //Multiple params are separated by commas.\r\n        if (paramsF != null) {\r\n          let params = [];\r\n          tools.each(innerBrackets[paramsF].split(','), p => {\r\n            if (p !== '') {\r\n              params[params.length] = _compiledProp(p.trim(), innerBrackets, innerQuotes);\r\n            }\r\n          }, false, true);\r\n\r\n          filterObj.params = params;\r\n        }\r\n\r\n        filterObj.name = filterName;\r\n        filters.push(filterObj);\r\n      }\r\n    }, false, true);\r\n\r\n    ret.filters = filters;\r\n  }\r\n\r\n  //替换字符串值\r\n  prop = prop.replace(REGEX_REPLACE_CHAR, (all, g1) => innerQuotes[g1]);\r\n\r\n  //Extract the parent data path\r\n  if (prop.indexOf('../') === 0) {\r\n    let n = 0;\r\n    prop = prop.replace(/\\.\\.\\//g, function() {\r\n      n++;\r\n      return '';\r\n    });\r\n\r\n    ret.parentNum = n;\r\n  }\r\n\r\n  //Extract the js property\r\n  if (prop !== '') {\r\n    prop = REGEX_JS_PROP.exec(prop);\r\n    const hasComputed = prop[5];\r\n    ret.name = hasComputed ? prop[6] : prop[0];\r\n\r\n    if (!prop[6]) { //Sign the parameter is a basic type value.\r\n      ret.isBasicType = true;\r\n    }\r\n    if (hasComputed) {\r\n      ret.isComputed = true;\r\n    }\r\n  } else {\r\n    ret.isEmpty = true;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get filter param\r\nfunction _getFilterParam(obj) {\r\n  return obj.split('_njBracket_');\r\n}\r\n\r\n//Extract replace parameters\r\nconst REGEX_LT_GT = /_nj(L|G)t_/g;\r\nconst LT_GT_LOOKUP = {\r\n  '_njLt_': '<',\r\n  '_njGt_': '>'\r\n};\r\nconst REGEX_QUOTE = /\"[^\"]*\"|'[^']*'/g;\r\nconst SP_FILTER_LOOKUP = {\r\n  '||': 'or',\r\n  '..<': 'rLt'\r\n};\r\nconst REGEX_SP_FILTER = /[\\s]+((\\|\\||\\.\\.<)[\\s]*)/g;\r\nconst FN_FILTER_LOOKUP = {\r\n  ')': ')_(',\r\n  ']': ']_('\r\n};\r\nconst REGEX_FN_FILTER = /(\\)|\\]|\\.([^\\s'\"._#()|]+))[\\s]*\\(/g;\r\nconst REGEX_SPACE_S_FILTER = /([(,|])[\\s]+/g;\r\nconst REGEX_PROP_FILTER = /\\.([a-zA-Z_$][^\\s.\\/,[\\]()'\"|]*)/g;\r\nconst REGEX_ARRPROP_FILTER = /([^\\s([,])(\\[)/g;\r\nconst ARR_OBJ_FILTER_LOOKUP = {\r\n  '[': 'list(',\r\n  ']': ')',\r\n  '{': 'obj(',\r\n  '}': ')'\r\n};\r\nconst REGEX_ARR_OBJ_FILTER = /\\[|\\]|\\{|\\}/g;\r\nconst REGEX_OBJKEY_FILTER = /([^\\s:,'\"()|]+):/g;\r\n\r\nfunction _getProp(matchArr, innerQuotes, i) {\r\n  let prop = matchArr[2].trim(),\r\n    item = [matchArr[0], matchArr[1], null, true],\r\n    innerArrProp = [];\r\n\r\n  if (i > 0) {\r\n    item[3] = false; //Sign not contain all of placehorder\r\n  }\r\n\r\n  //替换特殊过滤器名称并且为简化过滤器补全\"|\"符\r\n  prop = prop.replace(REGEX_LT_GT, match => LT_GT_LOOKUP[match])\r\n    .replace(REGEX_QUOTE, match => {\r\n      innerQuotes.push(match);\r\n      return '_njQs' + (innerQuotes.length - 1) + '_';\r\n    })\r\n    .replace(REGEX_PROP_FILTER, (all, g1) => '.(\\'' + g1 + '\\')')\r\n    .replace(REGEX_ARRPROP_FILTER, (all, g1, g2) => g1 + '.(')\r\n    .replace(REGEX_ARR_OBJ_FILTER, match => ARR_OBJ_FILTER_LOOKUP[match])\r\n    .replace(REGEX_OBJKEY_FILTER, (all, g1) => ' \\'' + g1 + '\\' : ')\r\n    .replace(REGEX_SP_FILTER, (all, g1, match) => ' ' + SP_FILTER_LOOKUP[match] + ' ')\r\n    .replace(REGEX_SPACE_S_FILTER, (all, match) => match)\r\n    .replace(REGEX_FN_FILTER, (all, match, g1) => !g1 ? FN_FILTER_LOOKUP[match] : '.(\\'' + g1 + '\\')_(');\r\n\r\n  item[2] = prop.trim();\r\n  return item;\r\n}\r\n\r\nfunction _getReplaceParam(obj, tmplRule, innerQuotes, hasColon) {\r\n  let pattern = tmplRule.replaceParam,\r\n    matchArr, ret, i = 0;\r\n\r\n  if (!hasColon) {\r\n    while ((matchArr = pattern.exec(obj))) {\r\n      if (!ret) {\r\n        ret = [];\r\n      }\r\n\r\n      ret.push(_getProp(matchArr, innerQuotes, i));\r\n      i++;\r\n    }\r\n  } else {\r\n    matchArr = [obj, tmplRule.startRule, obj];\r\n    ret = [_getProp(matchArr, innerQuotes, i)];\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nconst REGEX_INNER_BRACKET = /\\(([^()]*)\\)/g;\r\nconst REGEX_FIX_OPERATOR = /[\\s]+((?!_njBracket_)[^\\s(),|\"\\']+)[\\s]+((-?[0-9][0-9]*(\\.\\d+)?|(?!_njBracket_)[^\\s,|]+)(_njBracket_\\d+)?([._#]_njBracket_\\d+)*)/g;\r\nconst REGEX_SPACE_FILTER = /[(,]/g;\r\nconst REGEX_FIX_FILTER = /(\\|)?(((\\.+|_|#+)_njBracket_)|[\\s]+([^\\s._#|]+[\\s]*_njBracket_))/g;\r\n\r\nfunction _fixOperator(prop, innerBrackets) {\r\n  return _fixFilter(prop.replace(REGEX_FIX_OPERATOR, function() {\r\n    const args = arguments;\r\n    innerBrackets.push(_fixFilter(args[2]));\r\n    return ' ' + args[1] + '_njBracket_' + (innerBrackets.length - 1);\r\n  }));\r\n}\r\n\r\nfunction _fixFilter(prop) {\r\n  return (' ' + prop).replace(REGEX_SPACE_FILTER, all => all + ' ')\r\n    .replace(REGEX_FIX_FILTER, (all, g1, g2, g3, g4, g5) => g1 ? all : ' | ' + (g3 ? g3 : g5)).trim();\r\n}\r\n\r\nfunction _replaceInnerBrackets(prop, innerBrackets) {\r\n  let propR = prop.replace(REGEX_INNER_BRACKET, (all, s1) => {\r\n    innerBrackets.push(_fixOperator(s1, innerBrackets));\r\n    return '_njBracket_' + (innerBrackets.length - 1);\r\n  });\r\n\r\n  if (propR !== prop) {\r\n    return _replaceInnerBrackets(propR, innerBrackets);\r\n  } else {\r\n    return _fixOperator(propR, innerBrackets);\r\n  }\r\n}\r\n\r\n//Get compiled parameter\r\nexport function compiledParam(value, tmplRule, hasColon) {\r\n  let ret = tools.obj(),\r\n    isStr = tools.isString(value),\r\n    strs = isStr ? (!hasColon ? value.split(tmplRule.replaceSplit) : ['', '']) : [value],\r\n    props = null,\r\n    isAll = false; //此处指替换符是否占满整个属性值;若无替换符时为false\r\n\r\n  if (isStr) { //替换插值变量以外的文本中的换行符\r\n    strs = strs.map(str => str.replace(/\\n/g, '_njNl_').replace(/\\r/g, ''));\r\n  }\r\n\r\n  //If have placehorder\r\n  if (strs.length > 1) {\r\n    const innerQuotes = [];\r\n    const params = _getReplaceParam(value, tmplRule, innerQuotes, hasColon);\r\n    props = [];\r\n\r\n    tools.each(params, param => {\r\n      let retP = tools.obj(),\r\n        innerBrackets = [];\r\n\r\n      isAll = param[3] ? param[0] === value : false; //If there are several curly braces in one property value, \"isAll\" must be false.\r\n      const prop = _replaceInnerBrackets(param[2], innerBrackets);\r\n      retP.prop = _compiledProp(prop, innerBrackets, innerQuotes);\r\n\r\n      //To determine whether it is necessary to escape\r\n      retP.escape = param[1] !== tmplRule.firstChar + tmplRule.startRule;\r\n      props.push(retP);\r\n    }, false, true);\r\n  }\r\n\r\n  ret.props = props;\r\n  ret.strs = strs;\r\n  ret.isAll = isAll;\r\n\r\n  return ret;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformParam.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport * as tranParam from './transformParam';\r\nimport { extensionConfig } from '../helpers/extension';\r\n\r\n//提取xml open tag\r\nexport function getXmlOpenTag(obj, tmplRule) {\r\n  return tmplRule.xmlOpenTag.exec(obj);\r\n}\r\n\r\n//验证xml self close tag\r\nconst REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\n\r\nexport function isXmlSelfCloseTag(obj) {\r\n  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//Verify self close tag name\r\nexport const OMITTED_CLOSE_TAGS = {\r\n  'area': true,\r\n  'base': true,\r\n  'br': true,\r\n  'col': true,\r\n  'embed': true,\r\n  'hr': true,\r\n  'img': true,\r\n  'input': true,\r\n  'keygen': true,\r\n  'link': true,\r\n  'meta': true,\r\n  'param': true,\r\n  'source': true,\r\n  'track': true,\r\n  'wbr': true\r\n};\r\n\r\nexport function verifySelfCloseTag(tagName) {\r\n  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n}\r\n\r\n//Extract parameters inside the xml open tag\r\nexport function getOpenTagParams(tag, tmplRule) {\r\n  let pattern = tmplRule.openTagParams,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(tag))) {\r\n    let key = matchArr[1];\r\n    if (key === '/') { //If match to the last of \"/\", then continue the loop.\r\n      continue;\r\n    }\r\n\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    let value = matchArr[7],\r\n      onlyBrace = matchArr[4];\r\n    if (value != null) {\r\n      value = tools.clearQuot(value); //Remove quotation marks\r\n    } else {\r\n      value = key; //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n    }\r\n\r\n    //Removed at the end of \"/>\", \">\" or \"/\".\r\n    if (!matchArr[8] && !matchArr[9]) {\r\n      if (/\\/>$/.test(value)) {\r\n        value = value.substr(0, value.length - 2);\r\n      } else if (/>$/.test(value) || /\\/$/.test(value)) {\r\n        value = value.substr(0, value.length - 1);\r\n      }\r\n    }\r\n\r\n    //Transform special key\r\n    let hasColon;\r\n    if(key[0] === ':') {\r\n      key = key.substr(1);\r\n      hasColon = true;\r\n    }\r\n\r\n    ret.push({\r\n      key,\r\n      value,\r\n      onlyBrace,\r\n      hasColon\r\n    });\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断xml close tag\r\nexport function isXmlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n}\r\n\r\n//get inside brace param\r\nexport function getInsideBraceParam(obj, tmplRule) {\r\n  return tmplRule.braceParam.exec(obj);\r\n}\r\n\r\n//判断扩展标签并返回参数\r\nexport function isEx(obj, tmplRule, noParams) {\r\n  let ret, ret1 = tmplRule.extension.exec(obj);\r\n  if (ret1) {\r\n    ret = [ret1[1]];\r\n\r\n    if (!noParams) {\r\n      const params = getOpenTagParams(obj, tmplRule); //提取各参数\r\n      if (params) {\r\n        ret.push(params);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nexport function isExAll(obj, tmplRule) {\r\n  return obj.match(tmplRule.exAll);\r\n}\r\n\r\n//判断是否模板元素\r\nexport function isTmpl(obj) {\r\n  return obj === 'tmpl';\r\n}\r\n\r\n//加入到模板集合中\r\nexport function addTmpl(node, parent, name) {\r\n  let paramsP = parent.params;\r\n  if (!paramsP) {\r\n    paramsP = parent.params = tools.obj();\r\n  }\r\n\r\n  const tmpls = paramsP.tmpls;\r\n  if (!tmpls) {\r\n    const objT = {\r\n      [name != null ? name : '_njT0']: { node, no: 0 },\r\n      _njLen: 1\r\n    };\r\n\r\n    paramsP.tmpls = tranParam.compiledParam(objT);\r\n  } else { //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n    let objT = tmpls.strs[0],\r\n      len = objT._njLen;\r\n\r\n    objT[name != null ? name : ('_njT' + len)] = { node, no: len };\r\n    objT._njLen = ++len;\r\n  }\r\n}\r\n\r\n//Test whether as parameters extension\r\nexport function isParamsEx(name) {\r\n  return name === 'params' || name === 'props';\r\n}\r\n\r\n//Add to the \"paramsEx\" property of the parent node\r\nexport function addParamsEx(node, parent, isProp, isSub) {\r\n  const exPropsName = isSub ? 'propsExS' : 'paramsEx';\r\n  if (!parent[exPropsName]) {\r\n    let exPropsNode;\r\n    if (isProp || isSub) {\r\n      exPropsNode = {\r\n        type: 'nj_ex',\r\n        ex: 'props',\r\n        content: [node]\r\n      };\r\n    } else {\r\n      exPropsNode = node;\r\n    }\r\n\r\n    parent[exPropsName] = exPropsNode;\r\n  } else {\r\n    tools.arrayPush(parent[exPropsName].content, isProp || isSub ? [node] : node.content);\r\n  }\r\n}\r\n\r\nexport function exCompileConfig(name) {\r\n  const config = extensionConfig[name];\r\n  return {\r\n    isSub: config ? config.isSub : false,\r\n    isProp: config ? config.isProp : false,\r\n    useString: config ? config.useString : false\r\n  };\r\n}\r\n\r\nexport function isPropS(elemName, tmplRule) {\r\n  return elemName.indexOf(tmplRule.propRule) === 0;\r\n}\r\n\r\nexport function isStrPropS(elemName, tmplRule) {\r\n  return elemName.indexOf(tmplRule.strPropRule + tmplRule.propRule) === 0;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformElement.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport * as tranElem from '../transforms/transformElement';\r\nconst { preAsts } = nj;\r\nconst SPLIT_FLAG = '_nj_split';\r\nconst TEXT_CONTENT = [\r\n  'style',\r\n  'script',\r\n  'textarea',\r\n  'xmp',\r\n  nj.textTag\r\n];\r\nconst { OMITTED_CLOSE_TAGS } = tranElem;\r\n\r\n//Compile string template\r\nexport default function compileStringTmpl(tmpl) {\r\n  let tmplKey = tmpl.toString(), //Get unique key\r\n    ret = preAsts[tmplKey];\r\n  const { outputH, tmplRule, onlyParse } = this;\r\n\r\n  if (!ret) { //If the cache already has template data, direct return the template.\r\n    let isStr = tools.isString(tmpl),\r\n      xmls = isStr ? [tmpl] : tmpl,\r\n      l = xmls.length,\r\n      fullXml = '',\r\n      isInBrace = false;\r\n\r\n    //Connection xml string\r\n    tools.each(xmls, (xml, i) => {\r\n      let split = '';\r\n      if (i < l - 1) {\r\n        const last = xml.length - 1,\r\n          lastChar = xml[last],\r\n          lastChar3 = xml.substr(last - 2),\r\n          isComputed = lastChar === '#',\r\n          isSpread = lastChar3 === '...';\r\n\r\n        if (isInBrace) {\r\n          isInBrace = !tmplRule.incompleteEnd.test(xml);\r\n        }\r\n        if (!isInBrace && tmplRule.incompleteStart.test(xml)) {\r\n          isInBrace = true;\r\n        }\r\n        if (isComputed) {\r\n          xml = xml.substr(0, last);\r\n        } else if (isSpread) {\r\n          xml = xml.substr(0, last - 2);\r\n        }\r\n\r\n        split = (isComputed ? '#' : (isSpread ? '...' : '')) + SPLIT_FLAG + i;\r\n        if (!isInBrace) {\r\n          split = tmplRule.startRule + split + tmplRule.endRule;\r\n        }\r\n      }\r\n\r\n      fullXml += xml + split;\r\n    }, false, true);\r\n\r\n    fullXml = _formatAll(fullXml, tmplRule);\r\n    if (nj.textMode && !outputH) {\r\n      fullXml = '<' + nj.textTag + '>' + fullXml + '</' + nj.textTag + '>';\r\n    }\r\n\r\n    //Resolve string to element\r\n    ret = _checkStringElem(fullXml, tmplRule);\r\n    tools.defineProp(ret, '_njParamCount', {\r\n      value: l - 1\r\n    });\r\n\r\n    //Save to the cache\r\n    preAsts[tmplKey] = ret;\r\n  }\r\n\r\n  let params,\r\n    args = arguments,\r\n    paramCount = ret._njParamCount;\r\n  if (paramCount > 0) {\r\n    params = {};\r\n    tools.defineProp(params, '_njParam', {\r\n      value: true\r\n    });\r\n\r\n    for (let i = 0; i < paramCount; i++) {\r\n      params[SPLIT_FLAG + i] = args[i + 1];\r\n    }\r\n  }\r\n\r\n  let tmplFn;\r\n  if (!onlyParse) {\r\n    tmplFn = params ? function() {\r\n      return tmplMainFn.apply(this, tools.arrayPush([params], arguments));\r\n    } : function() {\r\n      return tmplMainFn.apply(this, arguments);\r\n    };\r\n    tools.defineProps(tmplFn, {\r\n      _njTmpl: {\r\n        value: ret\r\n      },\r\n      _njTmplKey: {\r\n        value: tmplKey\r\n      }\r\n    });\r\n\r\n    const tmplMainFn = nj['compile' + (outputH ? 'H' : '')](tmplFn, tmplKey, null, null, tmplRule);\r\n  } else {\r\n    tmplFn = {\r\n      _njTmpl: ret,\r\n      _njTmplKey: tmplKey\r\n    };\r\n  }\r\n\r\n  return tmplFn;\r\n}\r\n\r\nfunction _createCurrent(elemName, parent) {\r\n  const current = {\r\n    elem: [],\r\n    elemName,\r\n    parent\r\n  };\r\n\r\n  parent.elem.push(current.elem);\r\n  return current;\r\n}\r\n\r\nfunction _setTextAfter(textAfter, current) {\r\n  textAfter && textAfter !== '' && _setText(textAfter, current.elem);\r\n}\r\n\r\n//Resolve string to element\r\nfunction _checkStringElem(xml, tmplRule) {\r\n  let root = [],\r\n    current = {\r\n      elem: root,\r\n      elemName: 'root',\r\n      parent: null\r\n    },\r\n    parent = null,\r\n    pattern = tmplRule.checkElem,\r\n    matchArr,\r\n    inTextContent,\r\n    omittedCloseElem = null;\r\n\r\n  while (matchArr = pattern.exec(xml)) {\r\n    let textBefore = matchArr[1],\r\n      elem = matchArr[2],\r\n      elemName = matchArr[3],\r\n      elemParams = matchArr[4],\r\n      textAfter = matchArr[5];\r\n\r\n    //处理上一次循环中的可省略闭合标签\r\n    if (omittedCloseElem) {\r\n      const [_elem, _elemName, _elemParams, _textAfter] = omittedCloseElem;\r\n      let isEx = elem ? tranElem.isExAll(elemName, tmplRule) : false;\r\n\r\n      if (isEx && !isEx[1] && (tranElem.isPropS(elemName, tmplRule) ||\r\n          tranElem.isStrPropS(elemName, tmplRule) ||\r\n          tranElem.isParamsEx(isEx[3]) ||\r\n          tranElem.exCompileConfig(isEx[3]).isProp)) {\r\n        parent = current;\r\n        current = _createCurrent(_elemName, parent);\r\n        _setElem(_elem, _elemName, _elemParams, current.elem, null, tmplRule);\r\n      } else {\r\n        _setSelfCloseElem(_elem, _elemName, _elemParams, current.elem, tmplRule);\r\n      }\r\n\r\n      _setTextAfter(_textAfter, current);\r\n      omittedCloseElem = null;\r\n    }\r\n\r\n    //Text before tag\r\n    if (textBefore && textBefore !== '') {\r\n      _setText(textBefore, current.elem);\r\n    }\r\n\r\n    //Element tag\r\n    if (elem) {\r\n      if (elem !== '<') {\r\n        if (elem.indexOf('<!') === 0) { //一些特殊标签当做文本处理\r\n          _setText(elem, current.elem);\r\n        } else {\r\n          const isEx = tranElem.isExAll(elemName, tmplRule);\r\n          if (elemName[0] === '/') { //Close tag\r\n            if (elemName.substr(1).toLowerCase() === inTextContent) { //取消纯文本子节点标记\r\n              inTextContent = null;\r\n            }\r\n\r\n            if (isEx || !inTextContent) {\r\n              const cName = current.elemName;\r\n              if (cName.indexOf(SPLIT_FLAG) < 0 ? (elemName === '/' + cName) : (elemName.indexOf(SPLIT_FLAG) > -1)) { //如果开始标签包含SPLIT_FLAG，则只要结束标签包含SPLIT_FLAG就认为该标签已关闭\r\n                current = current.parent;\r\n              }\r\n            } else {\r\n              _setText(elem, current.elem);\r\n            }\r\n          } else if (elem[elem.length - 2] === '/') { //Self close tag\r\n            if (isEx || !inTextContent) {\r\n              _setSelfCloseElem(elem, elemName, elemParams, current.elem, tmplRule);\r\n            } else {\r\n              _setText(elem, current.elem);\r\n            }\r\n          } else { //Open tag\r\n            if (isEx || !inTextContent) {\r\n              if (!inTextContent && OMITTED_CLOSE_TAGS[elemName.toLowerCase()]) { //img等可不闭合标签\r\n                omittedCloseElem = [elem, elemName, elemParams, textAfter];\r\n              } else {\r\n                const elemNameL = elemName.toLowerCase();\r\n                if (TEXT_CONTENT.indexOf(elemNameL) > -1) { //标记该标签为纯文本子节点\r\n                  inTextContent = elemNameL;\r\n                }\r\n\r\n                parent = current;\r\n                current = _createCurrent(elemName, parent);\r\n                _setElem(elem, elemName, elemParams, current.elem, null, tmplRule);\r\n              }\r\n            } else {\r\n              _setText(elem, current.elem);\r\n            }\r\n          }\r\n        }\r\n      } else { //单独的\"<\"和后面的文本拼合在一起\r\n        if (textAfter == null) {\r\n          textAfter = '';\r\n        }\r\n        textAfter = elem + textAfter;\r\n      }\r\n    }\r\n\r\n    //Text after tag\r\n    !omittedCloseElem && _setTextAfter(textAfter, current);\r\n  }\r\n\r\n  //处理最后一次循环中遗留的可省略闭合标签\r\n  if (omittedCloseElem) {\r\n    const [_elem, _elemName, _elemParams, _textAfter] = omittedCloseElem;\r\n\r\n    _setSelfCloseElem(_elem, _elemName, _elemParams, current.elem, tmplRule);\r\n    _setTextAfter(_textAfter, current);\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nconst LT_GT_LOOKUP = {\r\n  '<': '_njLt_',\r\n  '>': '_njGt_'\r\n};\r\nconst REGEX_LT_GT = />|</g;\r\n\r\nfunction _formatAll(str, tmplRule) {\r\n  const commentRule = tmplRule.commentRule;\r\n  return str.replace(new RegExp('<!--' + commentRule + '[\\\\s\\\\S]*?' + commentRule + '-->', 'g'), '')\r\n    .replace(new RegExp('([\\\\s]+:[^\\\\s=>]+=((\\'[^\\']+\\')|(\"[^\"]+\")))|(' + tmplRule.startRule + '(?!' + tmplRule.endRule + ')[\\\\s\\\\S]*?' + tmplRule.endRule + ')', 'g'), (all, g1, g2, g3, g4, g5) => (g1 ? g1 : g5).replace(REGEX_LT_GT, match => LT_GT_LOOKUP[match]));\r\n}\r\n\r\nfunction _transformToEx(isStr, elemName, elemParams, tmplRule) {\r\n  return tmplRule.extensionRule + (isStr ? 'strProp' : 'prop') + ' ' + tmplRule.startRule + '\\'' + elemName.substr((isStr ? tmplRule.strPropRule.length : 0) + tmplRule.propRule.length) + '\\'' + tmplRule.endRule + elemParams;\r\n}\r\n\r\n//Set element node\r\nfunction _setElem(elem, elemName, elemParams, elemArr, bySelfClose, tmplRule) {\r\n  let ret, paramsEx;\r\n  if (tranElem.isEx(elemName, tmplRule, true)) {\r\n    ret = elem.substring(1, elem.length - 1);\r\n  } else if (tranElem.isStrPropS(elemName, tmplRule)) {\r\n    ret = _transformToEx(true, elemName, elemParams, tmplRule);\r\n  } else if (tranElem.isPropS(elemName, tmplRule)) {\r\n    ret = _transformToEx(false, elemName, elemParams, tmplRule);\r\n  } else {\r\n    const retS = _getSplitParams(elem, tmplRule);\r\n    ret = retS.elem;\r\n    paramsEx = retS.params;\r\n  }\r\n\r\n  if (bySelfClose) {\r\n    const retC = [ret];\r\n    if (paramsEx) {\r\n      retC.push(paramsEx);\r\n    }\r\n\r\n    elemArr.push(retC);\r\n  } else {\r\n    elemArr.push(ret);\r\n    if (paramsEx) {\r\n      elemArr.push(paramsEx);\r\n    }\r\n  }\r\n}\r\n\r\n//Extract split parameters\r\nfunction _getSplitParams(elem, tmplRule) {\r\n  const { extensionRule, startRule, endRule, spreadProp } = tmplRule;\r\n  let paramsEx;\r\n\r\n  //Replace the parameter like \"{...props}\".\r\n  elem = elem.replace(spreadProp, (all, begin, prop) => {\r\n    prop = prop.trim();\r\n\r\n    if (!paramsEx) {\r\n      paramsEx = [extensionRule + 'props'];\r\n    }\r\n\r\n    paramsEx.push([extensionRule + 'spread ' + startRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n    return ' ';\r\n  });\r\n\r\n  //Replace the parameter like \"#show={false}\".\r\n  elem = elem.replace(new RegExp('[\\\\s]+' + extensionRule + '([^\\\\s=>]+)=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s>]+))'), (all, name, value) => {\r\n    if (!paramsEx) {\r\n      paramsEx = [extensionRule + 'props'];\r\n    }\r\n\r\n    paramsEx.push([extensionRule + name, tools.clearQuot(value)]);\r\n    return ' ';\r\n  });\r\n\r\n  return {\r\n    elem,\r\n    params: paramsEx\r\n  };\r\n}\r\n\r\n//Set self close element node\r\nfunction _setSelfCloseElem(elem, elemName, elemParams, elemArr, tmplRule) {\r\n  if (/\\/$/.test(elemName)) {\r\n    elemName = elemName.substr(0, elemName.length - 1);\r\n  }\r\n  _setElem(elem, elemName, elemParams, elemArr, true, tmplRule);\r\n}\r\n\r\n//Set text node\r\nfunction _setText(text, elemArr) {\r\n  elemArr.push(text);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/parser/checkStringElem.js","import nj from './core';\r\nimport { assign } from './utils/tools';\r\nimport registerComponent from './utils/registerComponent';\r\nimport createTmplRule from './utils/createTmplRule';\r\nimport config from './config';\r\nimport './utils/escape';\r\n\r\nassign(nj, {\r\n  registerComponent,\r\n  createTmplRule,\r\n  config\r\n});\r\n\r\nconst { global: _global } = nj;\r\n_global.NornJ = _global.nj = nj;\r\n\r\nexport {\r\n  registerExtension\r\n} from './helpers/extension';\r\nexport {\r\n  registerFilter\r\n} from './helpers/filter';\r\nexport {\r\n  compile,\r\n  compileH,\r\n  render,\r\n  renderH\r\n} from './compiler/compile';\r\nexport {\r\n  taggedTmpl,\r\n  taggedTmplH\r\n} from './utils/taggedTmpl';\r\nexport {\r\n  registerComponent\r\n};\r\nexport default nj;\n\n\n// WEBPACK FOOTER //\n// ./src/base.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 11\n// module chunks = 0","import nj from '../core';\r\nimport * as tools from './tools';\r\n\r\n//注册组件\r\nexport default function registerComponent(name, component) {\r\n  let params = name, ret;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = component;\r\n  }\r\n\r\n  tools.each(params, (v, k, i) => {\r\n    nj.components[k.toLowerCase()] = v;\r\n    if(i == 0) {\r\n      ret = v;\r\n    }\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/registerComponent.js","import nj from './core';\r\nimport createTmplRule from './utils/createTmplRule';\r\n\r\nexport default function (configs) {\r\n  const delimiters = configs.delimiters,\r\n    includeParser = configs.includeParser,\r\n    createElement = configs.createElement,\r\n    outputH = configs.outputH,\r\n    textMode = configs.textMode;\r\n\r\n  if(delimiters) {\r\n    createTmplRule(delimiters, true);\r\n  }\r\n\r\n  if(includeParser) {\r\n    nj.includeParser = includeParser;\r\n  }\r\n\r\n  if(createElement) {\r\n    nj.createElement = createElement;\r\n  }\r\n\r\n  if(outputH != null) {\r\n    nj.outputH = outputH;\r\n  }\r\n\r\n  if(textMode != null) {\r\n    nj.textMode = textMode;\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport checkElem from '../parser/checkElem';\r\nimport * as tranData from '../transforms/transformData';\r\nimport buildRuntime from './buildRuntime';\r\nimport compileStringTmpl from '../parser/checkStringElem';\r\nimport createTmplRule from '../utils/createTmplRule';\r\n\r\n//编译模板并返回转换函数\r\nfunction _createCompile(outputH) {\r\n  return (tmpl, tmplKey, fileName, delimiters, tmplRule) => {\r\n    if (!tmpl) {\r\n      return;\r\n    }\r\n    if (tools.isObject(tmplKey)) {\r\n      const options = tmplKey;\r\n      tmplKey = options.tmplKey;\r\n      fileName = options.fileName;\r\n      delimiters = options.delimiters;\r\n      tmplRule = options.tmplRule;\r\n    }\r\n\r\n    //编译模板函数\r\n    let tmplFns;\r\n    if (tmplKey) {\r\n      tmplFns = nj.templates[tmplKey];\r\n    }\r\n    if (!tmplFns) {\r\n      let isObj = tools.isObject(tmpl),\r\n        fns;\r\n      if (isObj && tmpl.main) { //直接传入预编译模板\r\n        fns = tmpl;\r\n      } else { //编译AST\r\n        let root;\r\n        if (tmplKey) {\r\n          root = nj.asts[tmplKey];\r\n        }\r\n        if (!root) {\r\n          //Can be directly introduced into the AST\r\n          if (isObj && tmpl.type === 'nj_root') {\r\n            root = tmpl;\r\n          } else {\r\n            if (!tmplRule) {\r\n              tmplRule = delimiters ? createTmplRule(delimiters) : nj.tmplRule;\r\n            }\r\n            root = _createAstRoot();\r\n\r\n            //Transform string template to preAst\r\n            if (tools.isString(tmpl)) {\r\n              //Merge all include tags\r\n              const includeParser = nj.includeParser;\r\n              if (includeParser) {\r\n                tmpl = includeParser(tmpl, fileName, tmplRule);\r\n              }\r\n\r\n              tmpl = compileStringTmpl.call({ tmplRule, outputH, onlyParse: true }, tmpl);\r\n            }\r\n\r\n            //分析传入参数并转换为节点树对象\r\n            checkElem(tmpl._njTmpl, root, tmplRule);\r\n          }\r\n\r\n          //保存模板AST编译结果到全局集合中\r\n          if (tmplKey) {\r\n            nj.asts[tmplKey] = root;\r\n          }\r\n        }\r\n\r\n        fns = buildRuntime(root.content, root, !outputH);\r\n      }\r\n\r\n      tmplFns = tranData.template(fns);\r\n\r\n      //保存模板函数编译结果到全局集合中\r\n      if (tmplKey) {\r\n        nj.templates[tmplKey] = tmplFns;\r\n      }\r\n    }\r\n\r\n    return tmplFns.main;\r\n  };\r\n}\r\n\r\nexport const compile = _createCompile();\r\nexport const compileH = _createCompile(true);\r\n\r\n//Create template root object\r\nfunction _createAstRoot() {\r\n  const root = tools.obj();\r\n  root.type = 'nj_root';\r\n  root.content = [];\r\n\r\n  return root;\r\n}\r\n\r\n//Precompile template\r\nexport function precompile(tmpl, outputH, tmplRule) {\r\n  const root = _createAstRoot();\r\n\r\n  if (tools.isString(tmpl)) {\r\n    tmpl = compileStringTmpl.call({ tmplRule, outputH, onlyParse: true }, tmpl);\r\n  }\r\n  checkElem(tmpl._njTmpl, root, tmplRule);\r\n\r\n  return buildRuntime(root.content, root, !outputH);\r\n}\r\n\r\nfunction _createRender(outputH) {\r\n  return function(tmpl, options) {\r\n    return (outputH ? compileH : compile)(tmpl, options ? {\r\n      tmplKey: options.tmplKey ? options.tmplKey : tmpl._njTmplKey,\r\n      fileName: options.fileName,\r\n      delimiters: options.delimiters\r\n    } : tmpl._njTmplKey).apply(null, tools.arraySlice(arguments, 1));\r\n  };\r\n}\r\n\r\nexport const render = _createRender();\r\nexport const renderH = _createRender(true);\r\n\r\ntools.assign(nj, {\r\n  compile,\r\n  compileH,\r\n  precompile,\r\n  render,\r\n  renderH\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/compiler/compile.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport * as tranParam from '../transforms/transformParam';\r\nimport * as tranElem from '../transforms/transformElement';\r\nconst NO_SPLIT_NEWLINE = [\r\n  'style',\r\n  'script',\r\n  'textarea',\r\n  'pre',\r\n  'xmp',\r\n  'template',\r\n  'noscript',\r\n  nj.textTag\r\n];\r\n\r\nfunction _plainTextNode(obj, parent, parentContent, noSplitNewline, tmplRule) {\r\n  const node = {};\r\n  node.type = 'nj_plaintext';\r\n  node.content = [tranParam.compiledParam(obj, tmplRule)];\r\n  node.allowNewline = noSplitNewline;\r\n  parent[parentContent].push(node);\r\n}\r\n\r\nconst REGEX_REPLACE_BP = /_njBp(\\d+)_/g;\r\n\r\n//检测元素节点\r\nexport default function checkElem(obj, parent, tmplRule, hasExProps, noSplitNewline, isLast) {\r\n  const parentContent = 'content';\r\n\r\n  if (!tools.isArray(obj)) { //判断是否为文本节点\r\n    if (tools.isString(obj)) {\r\n      if (!noSplitNewline) {\r\n        const braceParams = [];\r\n        let strs = obj.replace(tmplRule.braceParamG, match => {\r\n          braceParams.push(match);\r\n          return '_njBp' + (braceParams.length - 1) + '_';\r\n        }).split(/\\n/g);\r\n\r\n        strs.forEach((str, i) => {\r\n          str = str.trim();\r\n          str !== '' && _plainTextNode(str.replace(REGEX_REPLACE_BP, (all, g1) => braceParams[g1]), parent, parentContent, noSplitNewline, tmplRule);\r\n        });\r\n      } else {\r\n        _plainTextNode(isLast && parent.allowNewline === 'nlElem' ? tools.trimRight(obj) : obj, parent, parentContent, noSplitNewline, tmplRule);\r\n      }\r\n    } else {\r\n      _plainTextNode(obj, parent, parentContent, noSplitNewline, tmplRule);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  const node = {},\r\n    first = obj[0];\r\n  if (tools.isString(first)) { //第一个子节点为字符串\r\n    let len = obj.length,\r\n      last = obj[len - 1],\r\n      isElemNode = false,\r\n      ex,\r\n      exParams;\r\n\r\n    //判断是否为xml标签\r\n    let openTagName,\r\n      hasCloseTag = false,\r\n      isTmpl,\r\n      isParamsEx,\r\n      isProp,\r\n      isSub,\r\n      needAddToProps;\r\n\r\n    ex = tranElem.isEx(first, tmplRule);\r\n    if (!ex) {\r\n      const xmlOpenTag = tranElem.getXmlOpenTag(first, tmplRule);\r\n      if (xmlOpenTag) { //tagname为xml标签时,则认为是元素节点\r\n        openTagName = xmlOpenTag[1];\r\n        if (/\\/$/.test(openTagName)) {\r\n          openTagName = openTagName.substr(0, openTagName.length - 1);\r\n        }\r\n\r\n        if (!tranElem.isXmlSelfCloseTag(first)) { //非自闭合标签才验证是否存在关闭标签\r\n          hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n        } else { //自闭合标签\r\n          node.selfCloseTag = true;\r\n        }\r\n        isElemNode = true;\r\n      }\r\n    } else { //为扩展标签,也可视为一个元素节点\r\n      const exName = ex[0];\r\n      exParams = ex[1];\r\n      isTmpl = tranElem.isTmpl(exName);\r\n      isParamsEx = tranElem.isParamsEx(exName);\r\n      if (!isParamsEx) {\r\n        let exConfig = tranElem.exCompileConfig(exName);\r\n        isProp = exConfig.isProp;\r\n        isSub = exConfig.isSub;\r\n        needAddToProps = isProp ? !hasExProps : isSub;\r\n\r\n        if (exConfig.useString) {\r\n          node.useString = exConfig.useString;\r\n        }\r\n      }\r\n\r\n      node.type = 'nj_ex';\r\n      node.ex = exName;\r\n      if (exParams != null && !isTmpl && !isParamsEx) {\r\n        if (!node.args) {\r\n          node.args = [];\r\n        }\r\n\r\n        tools.each(exParams, param => {\r\n          const { key, value } = param;\r\n          if (key === 'useString') {\r\n            node.useString = !(value === 'false');\r\n            return;\r\n          }\r\n\r\n          let paramV = tranParam.compiledParam(value, tmplRule, param.hasColon);\r\n          if (param.onlyBrace) { //提取匿名参数\r\n            node.args.push(paramV);\r\n          } else {\r\n            if (!node.params) {\r\n              node.params = tools.obj();\r\n            }\r\n            node.params[key] = paramV;\r\n          }\r\n        }, false, true);\r\n      }\r\n\r\n      isElemNode = true;\r\n    }\r\n\r\n    if (isElemNode) { //判断是否为元素节点\r\n      let pushContent = true;\r\n      if (noSplitNewline) {\r\n        node.allowNewline = true;\r\n      }\r\n\r\n      if (!ex) {\r\n        node.type = openTagName;\r\n\r\n        //If open tag has a brace,add the typeRefer param.\r\n        const typeRefer = tranElem.getInsideBraceParam(openTagName, tmplRule);\r\n        if (typeRefer) {\r\n          node.typeRefer = tranParam.compiledParam(typeRefer[0], tmplRule);\r\n        }\r\n\r\n        //获取openTag内参数\r\n        const tagParams = tranElem.getOpenTagParams(first, tmplRule);\r\n        if (tagParams) {\r\n          if (!node.params) {\r\n            node.params = tools.obj();\r\n          }\r\n\r\n          tools.each(tagParams, param => { //The parameter like \"{prop}\" needs to be replaced.\r\n            node.params[param.onlyBrace ? param.onlyBrace.replace(/\\.\\.\\//g, '') : param.key] = tranParam.compiledParam(param.value, tmplRule, param.hasColon);\r\n          }, false, true);\r\n        }\r\n\r\n        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n        if (!node.selfCloseTag) {\r\n          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n        }\r\n\r\n        if (noSplitNewline == null && NO_SPLIT_NEWLINE.indexOf(openTagName.toLowerCase()) > -1) {\r\n          noSplitNewline = true;\r\n          node.allowNewline = 'nlElem';\r\n        }\r\n      } else {\r\n        if (isTmpl) { //模板元素\r\n          pushContent = false;\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, exParams ? exParams[0].value : null);\r\n        } else if (isParamsEx || needAddToProps) {\r\n          pushContent = false;\r\n        }\r\n\r\n        if (noSplitNewline == null && node.ex === 'pre') {\r\n          noSplitNewline = true;\r\n          node.allowNewline = 'nlElem';\r\n        }\r\n      }\r\n\r\n      //放入父节点content内\r\n      if (pushContent) {\r\n        parent[parentContent].push(node);\r\n      }\r\n\r\n      //取出子节点集合\r\n      const end = len - (hasCloseTag ? 1 : 0),\r\n        content = obj.slice(1, end);\r\n      if (content && content.length) {\r\n        _checkContentElem(content, node, tmplRule, isParamsEx || (hasExProps && !isProp), noSplitNewline, tmplRule);\r\n      }\r\n\r\n      //If this is params block, set on the \"paramsEx\" property of the parent node.\r\n      if (isParamsEx || needAddToProps) {\r\n        tranElem.addParamsEx(node, parent, isProp, isSub);\r\n      }\r\n    } else { //如果不是元素节点,则为节点集合\r\n      _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline);\r\n    }\r\n  } else if (tools.isArray(first)) { //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n    _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline);\r\n  }\r\n}\r\n\r\n//检测子元素节点\r\nfunction _checkContentElem(obj, parent, tmplRule, hasExProps, noSplitNewline) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n\r\n  tools.each(obj, (item, i, l) => {\r\n    checkElem(item, parent, tmplRule, hasExProps, noSplitNewline, i == l - 1);\r\n  }, false, true);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/parser/checkElem.js","import nj from '../core';\r\nimport * as tools from '../utils/tools';\r\nimport * as tranData from '../transforms/transformData';\r\nimport { unescape } from '../utils/escape';\r\nimport { extensionConfig } from '../helpers/extension';\r\nimport { filterConfig } from '../helpers/filter';\r\nconst { errorTitle } = nj;\r\n\r\nfunction _buildFn(content, node, fns, no, newContext, level, useStringLocal, name) {\r\n  let fnStr = '',\r\n    useString = useStringLocal != null ? useStringLocal : fns.useString,\r\n    isTmplEx = tools.isString(no), //如果no为字符串, 则本次将构建tmpl块模板函数\r\n    main = isTmplEx || no === 0,\r\n    /* retType\r\n     1: 只有单个子节点\r\n     2: 有多个子节点\r\n     object: 非构建函数时\r\n    */\r\n    retType = content.length === 1 ? '1' : '2',\r\n    counter = {\r\n      _type: 0,\r\n      _params: 0,\r\n      _paramsE: 0,\r\n      _compParam: 0,\r\n      _dataRefer: 0,\r\n      _ex: 0,\r\n      _value: 0,\r\n      _filter: 0,\r\n      _fnH: 0,\r\n      _tmp: 0,\r\n      newContext\r\n    };\r\n\r\n  if (!useString) {\r\n    counter._compParam = 0;\r\n  } else {\r\n    counter._children = 0;\r\n  }\r\n\r\n  if (!main && newContext) {\r\n    fnStr += 'p2 = p1.n(p2, p3);\\n';\r\n  }\r\n\r\n  if (retType === '2') {\r\n    if (!useString) {\r\n      fnStr += 'var ret = [];\\n';\r\n    } else {\r\n      fnStr += 'var ret = \\'\\';\\n';\r\n    }\r\n  }\r\n\r\n  fnStr += _buildContent(content, node, fns, counter, retType, level, useStringLocal);\r\n\r\n  if (retType === '2') {\r\n    fnStr += 'return ret;';\r\n  }\r\n\r\n  try {\r\n    /* 构建扩展标签函数\r\n     p1: 模板全局数据\r\n     p2: 节点上下文数据\r\n     p3: 扩展标签内调用result方法传递的参数\r\n     p4: #props变量\r\n     p5：子扩展标签#props变量\r\n    */\r\n    const fn = fns[main ? 'main' + (isTmplEx ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', 'p5', fnStr);\r\n    if (isTmplEx && name != null) { //设置函数名\r\n      fn._njName = name;\r\n    }\r\n  } catch (err) {\r\n    tools.error(`Failed to generate template function:\\n\\n` + err.toString() + ' in\\n\\n' + fnStr + '\\n');\r\n  }\r\n  return no;\r\n}\r\n\r\nfunction _buildOptions(config, useStringLocal, node, fns, exPropsStr, subExPropsStr, level, hashProps, valueL) {\r\n  let hashStr = ', useString: ' + (useStringLocal == null ? 'p1.us' : (useStringLocal ? 'true' : 'false')),\r\n    noConfig = !config;\r\n\r\n  if (node) { //扩展标签\r\n    let newContext = config ? config.newContext : true;\r\n    if (noConfig || config.exProps) {\r\n      hashStr += ', exProps: ' + exPropsStr;\r\n    }\r\n    if (noConfig || config.subExProps) {\r\n      hashStr += ', subExProps: ' + subExPropsStr;\r\n    }\r\n\r\n    hashStr += ', result: ' + (node.content ? 'p1.r(p1, p2, p1.fn' + _buildFn(node.content, node, fns, ++fns._no, newContext, level, useStringLocal) + ', ' + exPropsStr + ', ' + subExPropsStr + ')' : 'p1.np');\r\n\r\n    if (hashProps != null) {\r\n      hashStr += ', props: ' + hashProps;\r\n    }\r\n  }\r\n\r\n  return '{ _njOpts: true, _njFnsNo: ' + fns._no + ', global: p1, context: p2, outputH: ' + !fns.useString + hashStr + (valueL ? ', lastValue: ' + valueL : '') + (level != null ? ', level: ' + level : '') + ' }';\r\n}\r\n\r\nconst CUSTOM_VAR = 'nj_custom';\r\n\r\nfunction _buildPropData(obj, counter, fns, useStringLocal, level) {\r\n  let dataValueStr,\r\n    escape = obj.escape,\r\n    isEmpty = false,\r\n    special = false;\r\n  const { isComputed } = obj.prop;\r\n\r\n  //先生成数据值\r\n  if (obj.prop.isBasicType) {\r\n    dataValueStr = obj.prop.name;\r\n  } else if (obj.prop.isEmpty) {\r\n    isEmpty = true;\r\n  } else {\r\n    const { name, parentNum } = obj.prop;\r\n    let data = '',\r\n      specialP = false;\r\n\r\n    switch (name) {\r\n      case '@index':\r\n        data = 'index';\r\n        special = true;\r\n        break;\r\n      case 'this':\r\n        data = 'data[0]';\r\n        special = true;\r\n        break;\r\n      case '@data':\r\n        data = 'data';\r\n        special = true;\r\n        break;\r\n      case '@g':\r\n        data = 'p1.g';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@lt':\r\n        data = '\\'<\\'';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@gt':\r\n        data = '\\'>\\'';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@lb':\r\n        data = '\\'{\\'';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@rb':\r\n        data = '\\'}\\'';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@q':\r\n        data = '\\'\"\\'';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n      case '@sq':\r\n        data = '\"\\'\"';\r\n        special = CUSTOM_VAR;\r\n        break;\r\n    }\r\n\r\n    if (parentNum) {\r\n      if (!data) {\r\n        data = 'data';\r\n      }\r\n      for (let i = 0; i < parentNum; i++) {\r\n        data = 'parent.' + data;\r\n      }\r\n\r\n      if (!special) {\r\n        specialP = true;\r\n      }\r\n    }\r\n\r\n    if (!special && !specialP) {\r\n      dataValueStr = (isComputed ? 'p1.c(' : '') + 'p2.d(\\'' + name + '\\'' + (isComputed ? ', 0, true' : '') + ')' + (isComputed ? ', p2, ' + level + ')' : '');\r\n    } else {\r\n      let dataStr = special === CUSTOM_VAR ? data : 'p2.' + data;\r\n      dataValueStr = (special ? dataStr : (isComputed ? 'p1.c(' : '') + 'p2.d(\\'' + name + '\\', ' + dataStr + (isComputed ? ', true' : '') + ')' + (isComputed ? ', p2, ' + level + ')' : ''));\r\n    }\r\n  }\r\n  if (dataValueStr) {\r\n    dataValueStr = _replaceBackslash(dataValueStr);\r\n  }\r\n\r\n  //有过滤器时需要生成\"_value\"值\r\n  let filters = obj.prop.filters;\r\n  if (filters) {\r\n    const counterValue = counter._value++;\r\n    let valueStr = '_value' + counterValue,\r\n      valueStrL = '_valueL' + counterValue,\r\n      filterStr = 'var ' + valueStr + ' = ' + (!isEmpty ? dataValueStr : 'null') + ', ' + valueStrL + ';\\n';\r\n\r\n    const tmpStr = '_tmp';\r\n    if (!counter._tmp) { //在同一函数作用域内_tmp变量只创建一次\r\n      filterStr += 'var ' + tmpStr + ';\\n';\r\n      counter._tmp++;\r\n    }\r\n\r\n    tools.each(filters, (o, i) => {\r\n      let _filterC = counter._filter++,\r\n        configF = filterConfig[o.name],\r\n        hasOptions = !configF || configF.hasOptions,\r\n        filterVarStr = '_filter' + _filterC,\r\n        globalFilterStr = 'p1.f[\\'' + o.name + '\\']',\r\n        filterStrI = '',\r\n        fnHVarStr;\r\n\r\n      if (isEmpty && i == 0 && (!configF || !configF.hasOptions)) {\r\n        hasOptions = false;\r\n      }\r\n\r\n      if (configF && configF.onlyGlobal) { //只能从全局获取\r\n        filterStr += '\\nvar ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\r\n      } else { //优先从p2.data中获取\r\n        fnHVarStr = '_fnH' + counter._fnH++;\r\n        filterStr += '\\nvar ' + filterVarStr + ';\\n';\r\n        filterStr += 'var ' + fnHVarStr + ' = p2.d(\\'' + o.name + '\\', 0, true);\\n';\r\n\r\n        filterStr += 'if (' + fnHVarStr + ') {\\n';\r\n        filterStr += '  ' + filterVarStr + ' = ' + fnHVarStr + '.val;\\n';\r\n        filterStr += '} else {\\n';\r\n        filterStr += '  ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\r\n        filterStr += '}\\n';\r\n      }\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        filterStr += 'if (!' + filterVarStr + ') {\\n';\r\n        filterStr += '  p1.wn(\\'A filter called \"' + o.name + '\" is undefined.\\');\\n';\r\n        filterStr += '} else {\\n';\r\n      }\r\n\r\n      let _filterStr = '  ' + tmpStr + ' = ' + filterVarStr + '.apply(' + (fnHVarStr ? fnHVarStr + ' ? ' + fnHVarStr + '.ctx : p2' : 'p2') + ', [' + ((!isEmpty || i > 0) ? valueStr + ', ' : '') +\r\n        ((o.params && o.params.length) ? o.params.reduce((p, c, i, arr) => {\r\n          const propStr = _buildPropData({\r\n              prop: c,\r\n              escape\r\n            }, counter, fns, useStringLocal, level),\r\n            hasComma = hasOptions || i < arr.length - 1;\r\n\r\n          if (tools.isString(propStr)) {\r\n            return p + propStr + (hasComma ? ', ' : '');\r\n          } else {\r\n            filterStrI += propStr.filterStr;\r\n            return p + propStr.valueStr + (hasComma ? ', ' : '');\r\n          }\r\n        }, '') : '') +\r\n        (hasOptions ? _buildOptions(configF, useStringLocal, null, fns, null, null, level, null, valueStrL) : '') +\r\n        ']);\\n';\r\n      _filterStr += '  ' + valueStrL + ' = ' + valueStr + ';\\n';\r\n      _filterStr += '  ' + valueStr + ' = ' + tmpStr + ';\\n';\r\n\r\n      if (filterStrI !== '') {\r\n        filterStr += filterStrI;\r\n      }\r\n      filterStr += _filterStr;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        filterStr += '}';\r\n      }\r\n      filterStr += '\\n';\r\n    }, false, true);\r\n\r\n    return {\r\n      valueStr: _buildEscape(valueStr, fns, isComputed ? false : escape, special),\r\n      filterStr\r\n    };\r\n  } else {\r\n    return _buildEscape(dataValueStr, fns, isComputed ? false : escape, special);\r\n  }\r\n}\r\n\r\nfunction _buildEscape(valueStr, fns, escape, special) {\r\n  if (fns.useString) {\r\n    if (escape && special !== CUSTOM_VAR) {\r\n      return 'p1.es(' + valueStr + ')';\r\n    } else {\r\n      return valueStr;\r\n    }\r\n  } else { //文本中的特殊字符需转义\r\n    return unescape(valueStr);\r\n  }\r\n}\r\n\r\nfunction _replaceStrs(str) {\r\n  return _replaceBackslash(str).replace(/_njNl_/g, '\\\\n').replace(/'/g, \"\\\\'\");\r\n}\r\n\r\nfunction _replaceBackslash(str) {\r\n  return str = str.replace(/\\\\/g, '\\\\\\\\');\r\n}\r\n\r\nfunction _buildProps(obj, counter, fns, useStringLocal, level) {\r\n  let str0 = obj.strs[0],\r\n    valueStr = '',\r\n    filterStr = '';\r\n\r\n  if (tools.isString(str0)) { //常规属性\r\n    valueStr = !obj.isAll && str0 !== '' ? ('\\'' + _replaceStrs(str0) + '\\'') : '';\r\n    filterStr = '';\r\n\r\n    tools.each(obj.props, function(o, i) {\r\n      let propData = _buildPropData(o, counter, fns, useStringLocal, level),\r\n        dataValueStr;\r\n      if (tools.isString(propData)) {\r\n        dataValueStr = propData;\r\n      } else {\r\n        dataValueStr = propData.valueStr;\r\n        filterStr += propData.filterStr;\r\n      }\r\n\r\n      if (!obj.isAll) {\r\n        let strI = obj.strs[i + 1],\r\n          prefixStr = (str0 === '' && i == 0 ? '' : ' + ');\r\n\r\n        // if (strI.trim() === '\\\\n') { //如果只包含换行符号则忽略\r\n        //   valueStr += prefixStr + dataValueStr;\r\n        //   return;\r\n        // }\r\n\r\n        dataValueStr = prefixStr +\r\n          '(' + dataValueStr + ')' +\r\n          (strI !== '' ? ' + \\'' + _replaceStrs(strI) + '\\'' : '');\r\n      }\r\n\r\n      valueStr += dataValueStr;\r\n      if (obj.isAll) {\r\n        return false;\r\n      }\r\n    }, false, true);\r\n  } else if (tools.isObject(str0) && str0._njLen != null) { //tmpl标签\r\n    valueStr += '{\\n';\r\n    tools.each(str0, function(v, k, i, l) {\r\n      if (k !== '_njLen') {\r\n        const hasName = k.indexOf('_njT') !== 0,\r\n          fnStr = 'p1.main' + _buildFn(v.node.content, v.node, fns, 'T' + ++fns._noT, null, null, null, hasName ? k : null);\r\n\r\n        valueStr += '  \"' + v.no + '\": ' + fnStr;\r\n        if (hasName) {\r\n          valueStr += ',\\n  \"' + k + '\": ' + fnStr;\r\n        }\r\n      } else {\r\n        valueStr += '  length: ' + v;\r\n      }\r\n\r\n      valueStr += ',\\n';\r\n      if (i === l - 1) { //传递上下文参数\r\n        valueStr += '  _njData: p2.data,\\n  \\\r\n                       _njParent: p2.parent,\\n  \\\r\n                       _njIndex: p2.index,\\n  \\\r\n                       _njLevel: p1.l(' + level + ', p2),\\n  \\\r\n                       _njIcp: p2.icp\\n';\r\n      }\r\n    }, false, false);\r\n    valueStr += '}';\r\n  }\r\n\r\n  if (filterStr === '') {\r\n    return valueStr;\r\n  } else { //包含过滤器\r\n    return {\r\n      valueStr: valueStr,\r\n      filterStr: filterStr\r\n    };\r\n  }\r\n}\r\n\r\nfunction _buildPropsEx(isSub, paramsEC, propsEx, fns, counter, useString, exPropsStr, subExPropsStr) {\r\n  let paramsStr = 'var _paramsE' + paramsEC + ' = {};\\n';\r\n\r\n  const ret = {};\r\n  if (isSub) {\r\n    ret._paramsE = exPropsStr;\r\n    ret._paramsSE = '_paramsE' + paramsEC;\r\n  } else {\r\n    ret._paramsE = '_paramsE' + paramsEC;\r\n    ret._paramsSE = subExPropsStr;\r\n  }\r\n\r\n  //props标签的子节点\r\n  paramsStr += _buildContent(propsEx.content, propsEx, fns, counter, ret, null, useString);\r\n  return paramsStr;\r\n}\r\n\r\nfunction _buildParams(node, fns, counter, useString, level, exPropsStr, subExPropsStr) {\r\n  //节点参数\r\n  const { params, paramsEx, propsExS } = node;\r\n  const useStringF = fns.useString,\r\n    hasPropsEx = paramsEx || propsExS;\r\n  let paramsStr = '',\r\n    _paramsC;\r\n\r\n  if (params || hasPropsEx) {\r\n    _paramsC = counter._params++;\r\n    paramsStr = 'var _params' + _paramsC + ' = ';\r\n\r\n    //props tag\r\n    if (hasPropsEx) {\r\n      let bothPropsEx = paramsEx && propsExS,\r\n        _paramsEC, _paramsSEC;\r\n      paramsStr += (useString ? '\\'\\'' : (bothPropsEx ? '{}' : 'null')) + ';\\n';\r\n\r\n      if (paramsEx) {\r\n        _paramsEC = counter._paramsE++;\r\n        paramsStr += _buildPropsEx(false, _paramsEC, paramsEx, fns, counter, useString, exPropsStr, subExPropsStr);\r\n      }\r\n      if (propsExS) {\r\n        _paramsSEC = counter._paramsE++;\r\n        paramsStr += _buildPropsEx(true, _paramsSEC, propsExS, fns, counter, useString, exPropsStr, subExPropsStr);\r\n      }\r\n\r\n      //合并params块的值\r\n      if (!useString) {\r\n        if (bothPropsEx) {\r\n          paramsStr += '\\np1.an(_params' + _paramsC + ', _paramsE' + _paramsEC + ', _paramsE' + _paramsSEC + ');\\n';\r\n        } else {\r\n          paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + (_paramsEC != null ? _paramsEC : _paramsSEC) + ';\\n';\r\n        }\r\n      } else {\r\n        let keys = '';\r\n        tools.each(params, function(v, k, i, l) {\r\n          if (i == 0) {\r\n            keys += '{ ';\r\n          }\r\n          keys += '\\'' + k + '\\': 1';\r\n\r\n          if (i < l - 1) {\r\n            keys += ', ';\r\n          } else {\r\n            keys += ' }';\r\n          }\r\n        }, false, false);\r\n\r\n        paramsStr += '\\n_params' + _paramsC + ' += p1.ans(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\r\n      }\r\n    }\r\n\r\n    if (params) {\r\n      let paramKeys = Object.keys(params),\r\n        len = paramKeys.length,\r\n        filterStr = '';\r\n\r\n      if (!useString && !hasPropsEx) {\r\n        paramsStr += '{\\n';\r\n      }\r\n\r\n      tools.each(paramKeys, function(k, i) {\r\n        let valueStr = _buildProps(params[k], counter, fns, useString, level);\r\n        if (tools.isObject(valueStr)) {\r\n          filterStr += valueStr.filterStr;\r\n          valueStr = valueStr.valueStr;\r\n        }\r\n\r\n        if (!useStringF && k === 'style') { //将style字符串转换为对象\r\n          valueStr = 'p1.sp(' + valueStr + ')';\r\n        }\r\n\r\n        let key = _replaceStrs(k),\r\n          onlyKey = ('\\'' + key + '\\'') === valueStr;\r\n        if (!useStringF) {\r\n          key = tranData.fixPropName(key);\r\n        }\r\n        if (!hasPropsEx) {\r\n          if (!useString) {\r\n            paramsStr += '  \\'' + key + '\\': ' + (!onlyKey ? valueStr : 'true') + (i < len - 1 ? ',\\n' : '');\r\n          } else {\r\n            paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + (i == len - 1 ? ';' : '') + '\\n';\r\n          }\r\n        } else {\r\n          if (!useString) {\r\n            paramsStr += '_params' + _paramsC + '[\\'' + key + '\\'] = ' + (!onlyKey ? valueStr : 'true') + ';\\n';\r\n          } else {\r\n            paramsStr += '_params' + _paramsC + ' += \\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + ';\\n';\r\n          }\r\n        }\r\n      }, false, false);\r\n\r\n      if (!useString && !hasPropsEx) {\r\n        paramsStr += '\\n};\\n';\r\n      }\r\n\r\n      if (filterStr !== '') {\r\n        paramsStr = filterStr + paramsStr;\r\n      }\r\n    }\r\n  }\r\n\r\n  return [paramsStr, _paramsC];\r\n}\r\n\r\nfunction _buildNode(node, parent, fns, counter, retType, level, useStringLocal, isFirst) {\r\n  let fnStr = '',\r\n    useStringF = fns.useString;\r\n\r\n  if (node.type === 'nj_plaintext') { //文本节点\r\n    let valueStr = _buildProps(node.content[0], counter, fns, useStringLocal, level),\r\n      filterStr;\r\n    if (tools.isObject(valueStr)) {\r\n      filterStr = valueStr.filterStr;\r\n      valueStr = valueStr.valueStr;\r\n    }\r\n    if (valueStr === '') {\r\n      return fnStr;\r\n    }\r\n\r\n    let textStr = _buildRender(node, parent, 1, retType, { text: valueStr }, fns, level, useStringLocal, node.allowNewline, isFirst);\r\n    if (filterStr) {\r\n      textStr = filterStr + textStr;\r\n    }\r\n\r\n    if (useStringF) {\r\n      fnStr += textStr;\r\n    } else { //文本中的特殊字符需转义\r\n      fnStr += unescape(textStr);\r\n    }\r\n  } else if (node.type === 'nj_ex') { //扩展标签节点\r\n    let _exC = counter._ex++,\r\n      _dataReferC = counter._dataRefer++,\r\n      dataReferStr = '',\r\n      filterStr = '',\r\n      configE = extensionConfig[node.ex],\r\n      exVarStr = '_ex' + _exC,\r\n      globalExStr = 'p1.x[\\'' + node.ex + '\\']',\r\n      fnHVarStr;\r\n\r\n    if (configE && configE.onlyGlobal) { //只能从全局获取\r\n      fnStr += '\\nvar ' + exVarStr + ' = ' + globalExStr + ';\\n';\r\n    } else { //优先从p2.data中获取\r\n      fnHVarStr = '_fnH' + counter._fnH++;\r\n      fnStr += '\\nvar ' + exVarStr + ';\\n';\r\n      fnStr += 'var ' + fnHVarStr + ' = p2.d(\\'' + node.ex + '\\', 0, true);\\n';\r\n\r\n      fnStr += 'if (' + fnHVarStr + ') {\\n';\r\n      fnStr += '  ' + exVarStr + ' = ' + fnHVarStr + '.val;\\n';\r\n      fnStr += '} else {\\n';\r\n      fnStr += '  ' + exVarStr + ' = ' + globalExStr + ';\\n';\r\n      fnStr += '}\\n';\r\n    }\r\n\r\n    dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\r\n\r\n    if (node.args) { //构建匿名参数\r\n      tools.each(node.args, function(arg, i) {\r\n        let valueStr = _buildProps(arg, counter, fns, useStringLocal, level);\r\n        if (tools.isObject(valueStr)) {\r\n          filterStr += valueStr.filterStr;\r\n          valueStr = valueStr.valueStr;\r\n        }\r\n\r\n        dataReferStr += '  ' + valueStr + ',';\r\n      }, false, true);\r\n    }\r\n\r\n    //props块\r\n    let exPropsStr = 'p4',\r\n      subExPropsStr = 'p5';\r\n    if (retType) {\r\n      const { _paramsE, _paramsSE } = retType;\r\n      if (_paramsE) {\r\n        exPropsStr = _paramsE;\r\n      }\r\n      if (_paramsSE) {\r\n        subExPropsStr = _paramsSE;\r\n      }\r\n    }\r\n\r\n    //hash参数\r\n    let retP = _buildParams(node, fns, counter, false, level, exPropsStr, subExPropsStr),\r\n      paramsStr = retP[0],\r\n      _paramsC = retP[1];\r\n\r\n    dataReferStr += _buildOptions(configE, useStringLocal, node, fns, exPropsStr, subExPropsStr, level, paramsStr !== '' ? '_params' + _paramsC : null);\r\n    dataReferStr += '\\n];\\n';\r\n\r\n    //添加匿名参数\r\n    if (paramsStr !== '') {\r\n      dataReferStr += 'p1.aa(_params' + _paramsC + ', _dataRefer' + _dataReferC + ');\\n';\r\n    }\r\n\r\n    if (filterStr !== '') {\r\n      dataReferStr = filterStr + dataReferStr;\r\n    }\r\n\r\n    fnStr += paramsStr + dataReferStr;\r\n\r\n    if (process.env.NODE_ENV !== 'production') { //如果扩展标签不存在则打印警告信息\r\n      fnStr += 'p1.tf(_ex' + _exC + ', \\'' + node.ex + '\\', \\'ex\\');\\n';\r\n    }\r\n\r\n    //渲染\r\n    fnStr += _buildRender(node, parent, 2, retType, {\r\n      _ex: _exC,\r\n      _dataRefer: _dataReferC,\r\n      fnH: fnHVarStr\r\n    }, fns, level, useStringLocal, node.allowNewline, isFirst);\r\n  } else { //元素节点\r\n    //节点类型和typeRefer\r\n    let _typeC = counter._type++,\r\n      _type, _typeRefer;\r\n\r\n    if (node.typeRefer) {\r\n      let valueStrT = _buildProps(node.typeRefer, counter, fns, level);\r\n      if (tools.isObject(valueStrT)) {\r\n        fnStr += valueStrT.filterStr;\r\n        valueStrT = valueStrT.valueStr;\r\n      }\r\n\r\n      _typeRefer = valueStrT;\r\n      _type = node.typeRefer.props[0].prop.name;\r\n    } else {\r\n      _type = node.type;\r\n    }\r\n\r\n    let typeStr;\r\n    if (!useStringF) {\r\n      let _typeL = _type.toLowerCase(),\r\n        subName = '';\r\n\r\n      if (!_typeRefer && _typeL.indexOf('.') > -1) {\r\n        const typeS = _type.split('.');\r\n        _typeL = _typeL.split('.')[0];\r\n        _type = typeS[0];\r\n        subName = ', \\'' + typeS[1] + '\\'';\r\n      }\r\n\r\n      typeStr = _typeRefer ? ('p1.er(' + _typeRefer + ', \\'' + _typeL + '\\', p1, \\'' + _type + '\\', p2)') : ('p1.e(\\'' + _typeL + '\\', p1, \\'' + _type + '\\', p2' + subName + ')');\r\n    } else {\r\n      typeStr = _typeRefer ? ('p1.en(' + _typeRefer + ', \\'' + _type + '\\')') : ('\\'' + _type + '\\'');\r\n    }\r\n    fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\r\n\r\n    //节点参数\r\n    let retP = _buildParams(node, fns, counter, useStringF, level),\r\n      paramsStr = retP[0],\r\n      _paramsC = retP[1];\r\n    fnStr += paramsStr;\r\n\r\n    let _compParamC, _childrenC;\r\n    if (!useStringF) { //组件参数\r\n      _compParamC = counter._compParam++;\r\n      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (paramsStr !== '' ? '_params' + _paramsC : 'null') + '];\\n';\r\n    } else { //子节点字符串\r\n      _childrenC = counter._children++;\r\n      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\r\n    }\r\n\r\n    //子节点\r\n    fnStr += _buildContent(node.content, node, fns, counter, !useStringF ? { _compParam: '_compParam' + _compParamC } : { _children: '_children' + _childrenC }, level != null ? level + 1 : level, useStringLocal);\r\n\r\n    //渲染\r\n    fnStr += _buildRender(node, parent, 3, retType, !useStringF ? { _compParam: _compParamC } : { _type: _typeC, _params: paramsStr !== '' ? _paramsC : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns, level, useStringLocal, node.allowNewline, isFirst);\r\n  }\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildContent(content, parent, fns, counter, retType, level, useStringLocal) {\r\n  let fnStr = '';\r\n  if (!content) {\r\n    return fnStr;\r\n  }\r\n\r\n  tools.each(content, node => {\r\n    const { useString } = node;\r\n    fnStr += _buildNode(node, parent, fns, counter, retType, level, useString != null ? useString : useStringLocal, fns._firstNode && level == 0);\r\n\r\n    if (fns._firstNode) { //输出字符串时模板第一个节点前面不加换行符\r\n      fns._firstNode = false;\r\n    }\r\n  }, false, true);\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildRender(node, parent, nodeType, retType, params, fns, level, useStringLocal, allowNewline, isFirst) {\r\n  let retStr,\r\n    useStringF = fns.useString,\r\n    useString = useStringLocal != null ? useStringLocal : useStringF,\r\n    noLevel = level == null;\r\n\r\n  switch (nodeType) {\r\n    case 1: //文本节点\r\n      retStr = (!useStringF || allowNewline || noLevel ? '' : (isFirst ? (parent.type !== 'nj_root' ? 'p1.fl(p2) + ' : '') : '\\'\\\\n\\' + ')) + _buildLevelSpace(level, fns, allowNewline) + _buildLevelSpaceRt(useStringF, isFirst || noLevel) + params.text;\r\n      break;\r\n    case 2: //扩展标签\r\n      retStr = '_ex' + params._ex + '.apply(' + (params.fnH ? params.fnH + ' ? ' + params.fnH + '.ctx : p2' : 'p2') + ', _dataRefer' + params._dataRefer + ')';\r\n      break;\r\n    case 3: //元素节点\r\n      if (!useStringF) {\r\n        retStr = 'p1.H(_compParam' + params._compParam + ')';\r\n      } else {\r\n        let levelSpace = _buildLevelSpace(level, fns, allowNewline);\r\n        const content = node.content;\r\n\r\n        if ((allowNewline && allowNewline !== 'nlElem') || noLevel) {\r\n          retStr = '';\r\n        } else if (isFirst) {\r\n          retStr = parent.type !== 'nj_root' ? 'p1.fl(p2) + ' : '';\r\n        } else {\r\n          retStr = '\\'\\\\n\\' + ';\r\n        }\r\n\r\n        if (node.type !== nj.textTag) {\r\n          retStr += levelSpace + _buildLevelSpaceRt(useStringF, isFirst || noLevel) + '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\r\n          if (!params._selfClose) {\r\n            retStr += '\\'>\\'';\r\n            retStr += ' + _children' + params._children + ' + ';\r\n            retStr += (!content || allowNewline || noLevel ? '' : '\\'\\\\n\\' + ') + (content ? levelSpace : '') + //如果子节点为空则不输出缩进空格和换行符\r\n              _buildLevelSpaceRt(useStringF, noLevel) + '\\'</\\' + _type' + params._type + ' + \\'>\\'';\r\n          } else {\r\n            retStr += '\\' />\\'';\r\n          }\r\n        } else {\r\n          retStr += '_children' + params._children;\r\n        }\r\n      }\r\n      break;\r\n  }\r\n\r\n  //保存方式\r\n  if (retType === '1') {\r\n    return '\\nreturn ' + retStr + ';';\r\n  } else if (retType === '2') {\r\n    if (!useString) {\r\n      return '\\nret.push(' + retStr + ');\\n';\r\n    } else {\r\n      return '\\nret += ' + retStr + ';\\n';\r\n    }\r\n  } else if (retType._paramsE || retType._paramsSE) {\r\n    return '\\n' + retStr + ';\\n';\r\n  } else {\r\n    if (!useStringF) {\r\n      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\r\n    } else {\r\n      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\r\n    }\r\n  }\r\n}\r\n\r\nfunction _buildLevelSpace(level, fns, allowNewline) {\r\n  let ret = '';\r\n  if (allowNewline && allowNewline !== 'nlElem') {\r\n    return ret;\r\n  }\r\n\r\n  if (fns.useString && level != null && level > 0) {\r\n    ret += '\\'';\r\n    for (let i = 0; i < level; i++) {\r\n      ret += '  ';\r\n    }\r\n    ret += '\\' + ';\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction _buildLevelSpaceRt(useString, noSpace) {\r\n  if (useString && !noSpace) {\r\n    return 'p1.ls(p2) + ';\r\n  }\r\n  return '';\r\n}\r\n\r\nexport default (astContent, ast, useString) => {\r\n  const fns = {\r\n    useString,\r\n    _no: 0, //扩展标签函数计数\r\n    _noT: 0, //tmpl块模板函数计数\r\n    _firstNode: true\r\n  };\r\n\r\n  _buildFn(astContent, ast, fns, fns._no, null, 0);\r\n  return fns;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/compiler/buildRuntime.js","import nj from '../core';\r\nimport { assign } from '../utils/tools';\r\nimport compileStringTmpl from '../parser/checkStringElem';\r\nimport createTmplRule from '../utils/createTmplRule';\r\n\r\nexport function createTaggedTmpl(opts = {}) {\r\n  const { outputH, delimiters } = opts;\r\n  const tmplRule = delimiters ? createTmplRule(delimiters) : nj.tmplRule;\r\n\r\n  return function() {\r\n    return compileStringTmpl.apply({ tmplRule, outputH }, arguments);\r\n  };\r\n}\r\n\r\nexport const taggedTmpl = createTaggedTmpl({ outputH: false });\r\nexport const taggedTmplH = createTaggedTmpl({ outputH: true });\r\n\r\nassign(nj, {\r\n  createTaggedTmpl,\r\n  taggedTmpl,\r\n  taggedTmplH\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/utils/taggedTmpl.js"],"sourceRoot":""}