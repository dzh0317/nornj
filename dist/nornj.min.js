/*!
* NornJ template engine v0.4.3
* (c) 2016-2018 Joe_Sky
* Released under the MIT License.
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.NornJ={})}(this,function(e){"use strict";function n(){return n["taggedTmpl"+(n.outputH?"H":"")].apply(null,arguments)}n.createElement=null,n.components={},n.preAsts={},n.asts={},n.templates={},n.errorTitle="[NornJ]",n.tmplRule={},n.outputH=!1,n.global="undefined"!=typeof self?self:global,n.textTag="nj-text",n.textMode=!1,n.noWsTag="nj-noWs",n.noWsMode=!1;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},a=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var r=[],t=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}return r}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Array.prototype.push,o=Array.prototype.slice,i=Object.prototype.hasOwnProperty,u=Object.prototype.toString,s=n.errorTitle,p=Object.defineProperty,c=Object.defineProperties;function f(e,n){return l.apply(e,n),e}function v(e,n,r){return o.call(e,n,r)}function m(e){return Array.isArray(e)}function d(e){var n=void 0===e?"undefined":r(e);return!m(e)&&("function"===n||"object"===n&&!!e)}function _(e){return"[object Number]"===u.call(e)}function g(e){return"[object String]"===u.call(e)}var h,x=(h="length",function(e){return null==e?void 0:e[h]});function y(e){var n=x(e);return"number"==typeof n&&n>=0}function b(e,n,r,t){if(e)if(null==t&&(t=y(e)),r=r||e,t)for(var a=0,l=e.length;l>a;a++){if(!1===n.call(r,e[a],a,l))break}else for(var o=Object.keys(e),i=o.length,u=0;i>u;u++){var s=o[u];if(!1===n.call(r,e[s],s,u,i))break}}var j=/(\n|\r)?[\s\xA0]+$/;function S(){}function P(e,n,r){if(!e)switch(r){case"ex":throw Error(s+'Extension tag "'+n+'" is undefined, please check it has been registered.');default:throw Error(s+(n||e))}}function R(e,n){switch(n){case"f":e='A filter called "'+e+'" is undefined.'}console.warn(s+e)}function w(e){console.error(s+e)}function E(){return Object.create(null)}var T=/["]+/g,C=/[']+/g;function k(e,n){if(null!=e){var r=void 0;if(null==n){var t=e[0];"'"===t?r=C:'"'===t&&(r=T)}else r=n?T:C;return r&&(e=e.replace(r,"")),e}}function O(e){return e.indexOf("-")>-1&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}var N=Object.assign||function(e){for(var n=1,r=arguments;r.length>n;n++){var t=r[n];for(var a in t)i.call(t,a)&&(e[a]=t[a])}return e};function H(e,r){var t=e,a=void 0;return d(e)||((t={})[e]=r),b(t,function(e,r,t){n.components[r.toLowerCase()]=e,0==t&&(a=e)},!1,!1),a}function A(e,n){return RegExp(e,n)}function L(e){return e.replace(/\$/g,"\\$")}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],t=n.tmplRule,a=t.startRule,l=void 0===a?"{{":a,o=t.endRule,i=void 0===o?"}}":o,u=t.extensionRule,s=void 0===u?"#":u,p=t.propRule,c=void 0===p?"@":p,f=t.strPropRule,v=void 0===f?"@":f,m=t.templateRule,d=void 0===m?"template":m,_=t.tagSpRule,g=void 0===_?"#$@":_,h=t.commentRule,x=void 0===h?"#":h,y=e.start,b=e.end,j=e.extension,S=e.prop,P=e.strProp,R=e.template,w=e.tagSp,E=e.comment;y&&(l=y),b&&(i=b),j&&(s=j),S&&(c=S),P&&(v=P),R&&(d=R),w&&(g=w),null!=E&&(x=E);var T=l[0],C=i[i.length-1],k=function(e){for(var n="",r=0,t=e.length,a=void 0;t>r;r++)0>n.indexOf(a=e[r])&&(n+=a);return n}(s+c+v+g).replace(/\-/g,"\\-"),O=L(s),H=L(c),G=L(v),$=T+l,I=i+C,K=$+"[\\s\\S]+?"+I+"|"+l+"[\\s\\S]+?"+i,M={startRule:l,endRule:i,extensionRule:s,propRule:c,strPropRule:v,templateRule:d,tagSpRule:g,commentRule:x,firstChar:T,lastChar:C,braceParamStr:K,xmlOpenTag:A("^<([a-z"+T+k+"][^\\s>]*)[^>]*>$","i"),openTagParams:A("[\\s]+((("+$+"([\\s\\S]+?)"+I+")|("+l+"([\\s\\S]+?)"+i+"))|[^\\s=>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?","g"),braceParam:A(K,"i"),braceParamG:A(K,"ig"),spreadProp:A("[\\s]+("+$+"[\\s]*(\\.\\.\\.[\\s\\S]+?)"+I+")|("+l+"[\\s]*(\\.\\.\\.[\\s\\S]+?)"+i+")","g"),replaceSplit:A(K),replaceParam:A("(("+$+")([\\s\\S]+?)"+I+")|(("+l+")([\\s\\S]+?)"+i+")","g"),checkElem:A("([^<>]+)|(<([a-z/!"+T+k+"][^\\s<>]*)([^<>]*)>|<)([^<]*)","ig"),extension:A("^"+O+"([^\\s]+)","i"),exAll:A("^([/]?)("+O+"|"+G+H+"|"+H+")([^\\s]+)","i"),include:A("<"+O+"include([^>]*)>","ig"),incompleteStart:A(l+"((?!"+i+")[\\s\\S])*$"),incompleteStartR:A($+"((?!"+I+")[\\s\\S])*$"),incompleteEnd:A("^[\\s\\S]*?"+i),incompleteEndR:A("^[\\s\\S]*?"+I)};if(!r)return M;N(n.tmplRule,M)}N(n,{defineProp:p,defineProps:c,arrayPush:f,arraySlice:v,isArray:m,isObject:d,isNumber:_,isString:g,isArrayLike:y,each:b,noop:S,throwIf:P,warn:R,obj:E,toCamelCase:O,assign:N}),G({},!0);var $={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},I=/[&><"']/g;var K={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&",quot:'"',"#x27":"'"},M=RegExp("&("+Object.keys(K).join("|")+");","g");function W(e){return null==e?"":e.replace?e.replace(M,function(e,n){return K[n]}):e}N(n,{escape:function(e){return null==e?"":e.replace?e.replace(I,function(e){return $[e]}):e},unescape:W});var F=/^(-?([0-9]+[\.]?[0-9]+)|[0-9])$/;function z(e){if(d(e)||m(e)||_(e))return e;for(var n=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g,r=void 0,t=void 0;r=n.exec(e);){var a=r[1],l=r[2];t||(t={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),t[a=O(a)]=F.test(l)?+l:l}return t}function B(e,n,r){var t=void 0,a=void 0;n||(n=this.data);for(var l=0,o=n.length;o>l;l++)if((a=n[l])&&void 0!==(t=a[e]))return r?{_njCtx:a,val:t,prop:e}:t}function D(e,n){return null!=e&&null!=n.level&&(e+=n.level),e}function J(e,n,r){return null==e?e:e.val._njTmpl?e.val.call({_njData:n.data,_njParent:n.parent,_njIndex:n.index,_njLevel:D(r,n),_njIcp:n.icp}):e.val.call(e._njCtx,n)}function Z(e,n,r,t,a){var l=void 0;return t.icp&&(l=B(r,t.icp))||(l=n.cp[e]),null!=a&&l&&(l=l[a]),l||e}function q(e,n,r,t,a){return null!=e?g(e)?Z(e.toLowerCase(),r,t,a):e:Z(n,r,t,a)}function U(e,n){return null!=e&&""!==e?e:n}function V(e,n){var r=e.args;if(r)for(var t=r.length;t--;)n.unshift(r[t])}function Q(e,n){return n?{data:n.data?f(n.data,e.data):e.data,parent:n.fallback?e:e.parent,root:e.root||e,index:"index"in n?n.index:e.index,item:"item"in n?n.item:e.item,level:e.level,getData:B,d:B,icp:e.icp}:e}function X(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function Y(e,n){var r="";for(var t in e)if(!n||!n[t]){var a=e[t];r+=" "+t+(t!==a?'="'+a+'"':" ")}return r}function ee(e,n,r,t,a){return function(l){return r(e,n,l,t,a)}}function ne(e,n){return function(r,t){var a=v(arguments);return n(e,{data:this&&this._njData?f(a,this._njData):a,parent:this?this._njParent:null,index:this?this._njIndex:null,item:this?this._njItem:null,level:this?this._njLevel:null,getData:B,d:B,icp:function(e,n){var r=void 0;return e&&e.components&&(m(r=e.components)||(r=[r])),n&&n._njIcp&&(r=r?f(r,n._njIcp):n._njIcp),r}(r&&r._njParam?t:r,this)})}}function re(e){if(null==e.level)return"";for(var n="",r=0;e.level>r;r++)n+="  ";return n}function te(e){return null==e.index?"":0==e.index?"":"\n"}function ae(e){return n.createElement.apply(null,e)}var le={if:function(e,n){"false"===e&&(e=!1);var r=void 0;if(n.useUnless?!e:!!e)r=n.result();else{var t=n.props;if(t){var a=t.else;if(t.elseifs){var l=t.elseifs.length;b(t.elseifs,function(e,n){if(e.value)return r=e.fn(),!1;n===l-1&&a&&(r=a())},!1,!0)}else a&&(r=a())}}return n.useString&&null==r?"":r},else:function(e){return e.subExProps.else=e.result},elseif:function(e,n){var r=n.subExProps;r.elseifs||(r.elseifs=[]),r.elseifs.push({value:e,fn:n.result})},switch:function(e,n){var r=void 0,t=n.props,a=t.elseifs.length;return b(t.elseifs,function(n,l){if(e===n.value)return r=n.fn(),!1;l===a-1&&t.else&&(r=t.else())},!1,!0),r},unless:function(e,n){return n.useUnless=!0,le.if(e,n)},each:function(e,n){var r=n.useString,t=n.props,a=void 0;if(e){a=r?"":[];var l=y(e);b(e,function(e,o,i,u){var s={data:[e],index:l?o:i,item:e,fallback:!0},p=void 0;if(t&&t.moreValues){var c=l?i:u;p={"@first":0===s.index,"@last":s.index===c-1,"@length":c}}l||(p||(p={}),p["@key"]=o),p&&s.data.push(p);var f=n.result(s);r?a+=f:a.push(f)},!1,l),r||a.length||(a=null),a&&a.length||!t||!t.else||(a=t.else())}else t&&t.else&&(a=t.else()),r&&null==a&&(a="");return a},prop:function(e,n){var r=n.result(),t=void 0;t=void 0!==r?r:!n.useString||e,n.exProps[n.outputH?X(e):e]=t},spread:function(e,n){b(e,function(e,r){n.exProps[r]=e},!1,!1)},show:function(e){e.result()||(e.exProps.style=e.useString?"display:none":{display:"none"})},for:function(e,n,r){n._njOpts&&(r=n,n=e,e=0);var t=void 0,a=r.useString,l=r.props,o=l&&l.loopLast;for(t=a?"":[];n>=e&&(o||e!==n);e++){var i=r.result({index:e,fallback:!0});a?t+=i:t.push(i)}return t},obj:function(e){return e.props},list:function(){var e=arguments,n=e.length-1,r=e[n];if(n>0){var t=v(e,0,n);return r.useString&&(t=t.join("")),t}return[r.result()]},fn:function(e){var n=e.props;return function(){var r=arguments,t=void 0;if(n){t={};var a=Object.keys(n);a.forEach(function(e,n){return t[a[n]]=r[n]})}return e.result({data:[t]})}},block:function(e){return e.result()},pre:function(e){return le.block(e)},with:function(e,n){var r=n.props;return n.result({data:[r&&r.as?t({},r.as,e):e]})},arg:function(e){var n=e.exProps;n.args||(n.args=[]),n.args.push(e.result())},once:function(e){var n=e.context.root||e.context,r=e.props,t=r&&r.name?r.name:"_njOnceCache_"+e._njFnsNo,a=n[t];return void 0===a&&(a=n[t]=e.result()),a}};function oe(e){var n={onlyGlobal:!1,useString:!1,newContext:!0,exProps:!1,isProp:!1,subExProps:!1,isSub:!1,addSet:!1};return e&&(n=N(n,e)),n}var ie={onlyGlobal:!0,newContext:!1},ue={if:oe(ie),else:oe({onlyGlobal:!0,newContext:!1,subExProps:!0,isSub:!0}),switch:oe(ie),unless:oe(ie),each:oe({onlyGlobal:!0}),prop:oe({onlyGlobal:!0,newContext:!1,exProps:!0,subExProps:!0,isProp:!0}),spread:oe({onlyGlobal:!0,newContext:!1,exProps:!0,subExProps:!0,isProp:!0}),obj:oe({onlyGlobal:!0,newContext:!1}),list:oe(ie),fn:oe({onlyGlobal:!0}),with:oe({onlyGlobal:!0})};function se(e,n,r){var t=e;d(e)||((t={})[e]={extension:n,options:r}),b(t,function(e,n){if(e){var r=e.extension,t=e.options;le[n]=r||e,ue[n]=oe(t)}},!1,!1)}ue.elseif=oe(ue.else),ue.for=oe(ue.each),ue.block=oe(ue.obj),ue.pre=oe(ue.obj),ue.arg=oe(ue.prop),ue.once=oe(ue.obj),ue.show=oe(ue.prop),le.case=le.elseif,ue.case=ue.elseif,le.empty=le.default=le.else,ue.empty=ue.default=ue.else,le.strProp=le.prop,ue.strProp=N(oe(ue.prop),{useString:!0}),le.strArg=le.arg,ue.strArg=oe(ue.strProp),N(n,{extensions:le,extensionConfig:ue,registerExtension:se});var pe={".":function(e,n){return null==e?e:e._njCtx?{_njCtx:e.val,val:e.val[n],prop:n}:e[n]},_:function(e){if(null==e)return e;var n=arguments;return e.apply(n[n.length-1].lastValue,v(n,1,n.length-1))},"#":function(e,n,r){return null==e?e:J({val:e[n],_njCtx:e},r.context,r.level)},"=":function(e,n){if(null==e)return e;e._njCtx[e.prop]=n},"==":function(e,n){return e==n},"===":function(e,n){return e===n},"!=":function(e,n){return e!=n},"!==":function(e,n){return e!==n},"<":function(e,n){return n>e},"<=":function(e,n){return n>=e},">":function(e,n){return e>n},">=":function(e,n){return e>=n},"+":function(e,n){return e+n},"-":function(e,n){return e-n},"*":function(e,n){return e*n},"/":function(e,n){return e/n},"%":function(e,n){return e%n},"**":function(e,n){return Math.pow(e,n)},"//":function(e,n){return Math.floor(e/n)},"?":function(e,n,r){return e?n:r},"!":function(e){return!e},"&&":function(e,n){return e&&n},or:function(e,n){return e||n},int:function(e){return parseInt(e,10)},float:function(e){return parseFloat(e)},bool:function(e){return"false"!==e&&!!e},obj:function(){var e={};return b(arguments,function(n,r){e[n.key]=n.val},!1,!0),e},":":function(e,n){return{key:e,val:n}},list:function(){var e=arguments;return 0===e.length?[]:v(e,0,e.length)},reg:function(e,n){return RegExp(e,n)},css:function(e){return z(e)},"..":ce(1),rLt:ce(0),"<=>":function(e,n){return e>n?1:e==n?0:-1}};function ce(e){return function(n,r){return Object.keys(Array.apply(null,{length:r-n+e})).map(function(e){return+e+n})}}function fe(e){var n={onlyGlobal:!1,hasOptions:!0};return e&&(n=N(n,e)),n}var ve={onlyGlobal:!0,hasOptions:!1},me={".":fe(ve),_:fe({onlyGlobal:!0}),"#":fe({onlyGlobal:!0}),"==":fe(ve),"===":fe(ve),"!=":fe(ve),"!==":fe(ve),"<":fe(ve),"<=":fe(ve),">":fe(ve),">=":fe(ve),"+":fe(ve),"-":fe(ve),"*":fe(ve),"/":fe(ve),"%":fe(ve),"**":fe(ve),"//":fe(ve),"?":fe(ve),"!":fe(ve),"&&":fe(ve),or:fe(ve),int:fe(ve),float:fe(ve),bool:fe(ve),obj:fe(ve),":":fe(ve),list:fe(ve),reg:fe(ve),css:fe(ve),"..":fe(ve),rLt:fe(ve),"<=>":fe(ve)};function de(e,n,r){var t=e;d(e)||((t={})[e]={filter:n,options:r}),b(t,function(e,n){if(e){var r=e.filter,t=e.options;pe[n]=r||e,me[n]=fe(t)}},!1,!1)}pe.prop=pe["."],me.prop=me["."],N(n,{filters:pe,filterConfig:me,registerFilter:de});var _e=/('[^']*')|("[^"]*")|(-?[0-9][0-9]*(\.\d+)?)|true|false|null|undefined|Object|Array|Math|Date|JSON|(([a-zA-Z_$#@])([a-zA-Z_$\d]*))/,ge=/_njQs(\d+)_/g,he=/bracket_\d+/,xe=/_njSet_/;function ye(e,n){return e.replace(ge,function(e,r){return n[r]})}var be="This may be because the operator must have at least one space before and after";function je(e,n,r){return"Filter or expression syntax error: "+e+" in\n\nexpression: "+n+"\n\nsource: "+r+"\n\nNornJ expression syntax specification please see the document: https://joe-sky.github.io/nornj-guide/templateSyntax/filter.html\n"}var Se=/_nj(L|G)t_/g,Pe={_njLt_:"<",_njGt_:">"},Re=/"[^"]*"|'[^']*'/g,we={"||":"or","..<":"rLt"},Ee=/[\s]+((\|\||\.\.<)[\s]*)/g,Te={")":")_(","]":"]_("},Ce=/(\)|\]|\.([^\s'"._#()|]+))[\s]*\(/g,ke=/([(,|])[\s]+/g,Oe=/\.([a-zA-Z_$#@][a-zA-Z_$\d]*)/g,Ne=/([^\s([,])(\[)/g,He={"[":"list(","]":")","{":"obj(","}":")"},Ae=/\[|\]|\{|\}/g,Le=/([(,][\s]*)([^\s:,'"()|]+):/g,Ge=/^[\s]*set[\s]+|([(,])[\s]*set[\s]+/g;function $e(e,n,r){var t=e[2].trim(),a=[e[0],e[1],null,!0];return r>0&&(a[3]=!1),t=t.replace(Se,function(e){return Pe[e]}).replace(Re,function(e){return n.push(e),"_njQs"+(n.length-1)+"_"}).replace(Oe,function(e,n){var r="#"===n[0];r&&(n=n.substr(1));var t=n.length-1,a=t>0&&"_"===n[t];return(r?"#":".")+"('"+(a?n.substr(0,t):n)+"')"+(a?"_":"")}).replace(Ne,function(e,n,r){return n+".("}).replace(Ae,function(e){return He[e]}).replace(Ge,function(e,n){return(n||"")+"_njSet_"}).replace(Le,function(e,n,r){return n+" '"+r+"' : "}).replace(Ee,function(e,n,r){return" "+we[r]+" "}).replace(ke,function(e,n){return n}).replace(Ce,function(e,n,r){return r?".('"+r+"')_(":Te[n]}),a[2]=t.trim(),a}var Ie=/\(([^()]*)\)/g,Ke=/[\s]+([^\s(),|"']+)[\s]+((-?[0-9][0-9]*(\.\d+)?|[^\s,|']+)('bracket_\d+)?([._#]'bracket_\d+)*)/g,Me=/[(,]/g,We=/(\|)?(((\.+|_|#+)'bracket_)|[\s]+([^\s._#|]+[\s]*'bracket_))/g;function Fe(e,n){return ze(e.replace(Ke,function(){var e=arguments;return n.push(ze(e[2]))," "+e[1]+"'bracket_"+(n.length-1)}))}function ze(e){return(" "+e).replace(Me,function(e){return e+" "}).replace(We,function(e,n,r,t,a,l){return n?e:" | "+(t||l)}).trim()}function Be(e,n,r,t){var a=E(),l=g(e),o=l?r?["",""]:e.split(n.replaceSplit):[e],i=null,u=!1;if(l&&(o=o.map(function(e){return e.replace(/\n/g,"_njNl_").replace(/\r/g,"")})),o.length>1){var s=[],p=function(e,n,r,t){var a=n.replaceParam,l=void 0,o=void 0,i=0;if(t)o=[$e(l=[e,n.startRule,e],r,i)];else for(;l=a.exec(e);){o||(o=[]);var u=l[2];o.push($e([l[0],u||l[5],u?l[3]:l[6]],r,i)),i++}return o}(e,n,s,r);i=[],b(p,function(r){var t=E(),a=[];u=!!r[3]&&r[0]===e;var l=function e(n,r){var t=n.replace(Ie,function(e,n){return r.push(Fe(n,r)),"'bracket_"+(r.length-1)});return t!==n?e(t,r):Fe(t,r)}(r[2],a);t.prop=function e(n,r,t,a){var l=E(),o=n;if(n.indexOf("|")>=0){var i=[],u=void 0;n=(u=n.split("|"))[0].trim(),b(u=u.slice(1),function(n){if(""!==(n=n.trim())){var l=n.split("'bracket_"),u=E(),s=l[0].trim();if(s){var p=l[1];if(null!=p){P(null!=r[p],je(ye(p,t)+". "+be,ye(o,t),a));var c=[];b(r[p].split(","),function(n){""!==n&&(c[c.length]=e(n.trim(),r,t,a))},!1,!0),u.params=c}u.name=s,i.push(u)}}},!1,!0),l.filters=i}if(0===(n=ye(n,t)).indexOf("../")){var s=0;n=n.replace(/\.\.\//g,function(){return s++,""}),l.parentNum=s}if(""!==n){var p=_e.exec(n),c="#"===p[6];l.name=c?p[7]:p[0],p[0]!==n&&(he.test(l.name)?P(0,je("There is an extra bracket",ye(o,t),a)):w(je(be,ye(o,t),a))),p[5]||(l.isBasicType=!0),c&&(l.isComputed=!0),l.name=l.name.replace(xe,function(){return l.hasSet=!0,""})}else l.isEmpty=!0;return l}(l,a,s,e),t.escape=r[1]!==n.firstChar+n.startRule,i.push(t)},!1,!0)}return a.props=i,a.strs=o,a.isAll=u,a.onlyKey=t,a}var De=/^<[^>]+\/>$/i;var Je={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Ze(e,n){for(var r=n.openTagParams,t=void 0,a=void 0;t=r.exec(e);){var l=t[1];if("/"!==l){a||(a=[]);var o=t[8],i=null!=t[4]?t[4]:t[6],u=!1;null!=o?o=k(o):(o=l,i||(u=!0)),t[9]||t[10]||(/\/>$/.test(o)?o=o.substr(0,o.length-2):(/>$/.test(o)||/\/$/.test(o))&&(o=o.substr(0,o.length-1)));var s=void 0;":"===l[0]&&(l=l.substr(1),s=!0),a.push({key:l,value:o,onlyBrace:i,hasColon:s,onlyKey:u})}}return a}function qe(e,n,r){var t=void 0,a=n.extension.exec(e);if(a&&(t=[a[1]],!r)){var l=Ze(e,n);l&&t.push(l)}return t}function Ue(e,n){return e.match(n.exAll)}function Ve(e){return"params"===e||"props"===e}function Qe(e){var n=ue[e];return{isSub:!!n&&n.isSub,isProp:!!n&&n.isProp,useString:!!n&&n.useString,addSet:!!n&&n.addSet}}function Xe(e,n){return 0===e.indexOf(n.propRule)}function Ye(e,n){return 0===e.indexOf(n.strPropRule+n.propRule)}var en=["style","script","textarea","pre","xmp","template","noscript",n.textTag];function nn(e,n,r,t,a){var l={type:"nj_plaintext"};l.content=[Be(e,a)],l.allowNewline=t,n[r].push(l)}var rn=/_njBp(\d+)_/g;function tn(e,n,r,a,l,o){if(m(e)){var i={},u=e[0];if(g(u)){var s,p=e.length,c=e[p-1],v=!1,d=void 0,_=void 0,h=!1,x=void 0,y=void 0,S=void 0,P=void 0,R=void 0;if(s=qe(u,r)){var w=s[0];if(d=s[1],x=function(e){return"tmpl"===e}(w),!(y=Ve(w))){var T=Qe(w);P=T.isSub,R=(S=T.isProp)?!a:P,T.useString&&(i.useString=T.useString)}i.type="nj_ex",i.ex=w,null==d||x||y||(i.args||(i.args=[]),b(d,function(e){var n=e.key,t=e.value;if("useString"!==n){var a=Be(t,r,e.hasColon,e.onlyKey);e.onlyBrace?i.args.push(a):(i.params||(i.params=E()),i.params[n]=a)}else i.useString=!("false"===t)},!1,!0)),v=!0}else{var C=function(e,n){return n.xmlOpenTag.exec(e)}(u,r);C&&(/\/$/.test(_=C[1])&&(_=_.substr(0,_.length-1)),!function(e){return De.test(e)}(u)?h=function(e,n){return g(e)&&e.toLowerCase()==="</"+n+">"}(c,_):i.selfCloseTag=!0,v=!0)}if(v){var k=!0;if(l&&(i.allowNewline=!0),s)x?(k=!1,function(e,n,r){var a=n.params;a||(a=n.params=E());var l=a.tmpls;if(l){var o=l.strs[0],i=o._njLen;o[null!=r?r:"_njT"+i]={node:e,no:i},o._njLen=++i}else{var u,s=(t(u={},null!=r?r:"_njT0",{node:e,no:0}),t(u,"_njLen",1),u);a.tmpls=Be(s)}}(i,n,d?d[0].value:null)):(y||R)&&(k=!1),null==l&&"pre"===i.ex&&(l=!0,i.allowNewline="nlElem");else{i.type=_;var O=function(e,n){return n.braceParam.exec(e)}(_,r);O&&(i.typeRefer=Be(O[0],r));var N=Ze(u,r);N&&(i.params||(i.params=E()),b(N,function(e){i.params[e.onlyBrace?e.onlyBrace.replace(/\.\.\//g,""):e.key]=Be(e.value,r,e.hasColon,e.onlyKey)},!1,!0)),i.selfCloseTag||(i.selfCloseTag=Je[_.toLowerCase()]),null==l&&en.indexOf(_.toLowerCase())>-1&&(l=!0,i.allowNewline="nlElem")}k&&n.content.push(i);var H=e.slice(1,p-(h?1:0));H&&H.length&&an(H,i,r,y||a&&!S,l),(y||R)&&function(e,n,r,t){var a=t?"propsExS":"paramsEx";if(n[a])f(n[a].content,r||t?[e]:e.content);else{var l=void 0;(l=r||t?{type:"nj_ex",ex:"props",content:[e]}:e).parentType=n.type,n[a]=l}}(i,n,S,P)}else an(e,n,r,a,l)}else m(u)&&an(e,n,r,a,l)}else if(g(e))if(l)nn(o&&"nlElem"===n.allowNewline?e.replace(j,function(e,n){return n?"\n":""}):e,n,"content",l,r);else{var A=[];e.replace(r.braceParamG,function(e){return A.push(e),"_njBp"+(A.length-1)+"_"}).split(/\n/g).forEach(function(e,t){""!==(e=e.trim())&&nn(e.replace(rn,function(e,n){return A[n]}),n,"content",l,r)})}else nn(e,n,"content",l,r)}function an(e,n,r,t,a){n.content||(n.content=[]),b(e,function(e,l,o){tn(e,n,r,t,a,l==o-1)},!1,!0)}function ln(e,n,r,t,a,l,o,i){var u="",s=null!=o?o:r.useString,p=g(t),c=p||0===t,f=1===e.length?"1":"2",v={_type:0,_params:0,_paramsE:0,_compParam:0,_dataRefer:0,_ex:0,_value:0,_filter:0,_fnH:0,_tmp:0,newContext:a};s?v._children=0:v._compParam=0,!c&&a&&(u+="p2 = p1.n(p2, p3);\n"),"2"===f&&(u+=s?"var ret = '';\n":"var ret = [];\n"),u+=dn(e,n,r,v,f,l,o),"2"===f&&(u+="return ret;");try{var m=r[c?"main"+(p?t:""):"fn"+t]=Function("p1","p2","p3","p4","p5",u);p&&null!=i&&(m._njName=i)}catch(e){w("Failed to generate template function:\n\n"+e+" in\n\n"+u+"\n")}return t}function on(e,n,r,t,a,l,o,i,u,s){var p=", useString: "+(null==n?"p1.us":n?"true":"false"),c=!e;if(r){var f=!e||e.newContext;if((c||e.exProps)&&(p+=", exProps: "+a),(c||e.subExProps)&&(p+=", subExProps: "+l),s){var v=null!=s.parentType?s.parentType:s.ex?s.ex:s.type;p+=", parentName: "+(null!=v?"'"+v+"'":v)}p+=", name: '"+r.ex+"'",p+=", result: "+(r.content?"p1.r(p1, p2, p1.fn"+ln(r.content,r,t,++t._no,f,o,n)+", "+a+", "+l+")":"p1.np"),null!=i&&(p+=", props: "+i)}return"{ _njOpts: true, _njFnsNo: "+t._no+", global: p1, context: p2, outputH: "+!t.useString+p+(u?", lastValue: "+u:"")+(null!=o?", level: "+o:"")+" }"}var un="nj_custom";function sn(e,n,r,t){return n.useString?r&&t!==un?"p1.es("+e+")":e:W(e)}function pn(e){return cn(e).replace(/_njNl_/g,"\\n").replace(/'/g,"\\'")}function cn(e){return e.replace(/\\/g,"\\\\")}function fn(e,n,r,t,a){var l=e.strs[0],o="",i="";return g(l)?(o=e.isAll||""===l?"":"'"+pn(l)+"'",i="",b(e.props,function(u,s){var p=function e(n,r,t,a,l){var o=void 0,i=n.escape,u=!1,s=!1,p=n.prop,c=p.isComputed,f=p.hasSet;if(n.prop.isBasicType)o=n.prop.name;else if(n.prop.isEmpty)u=!0;else{var v=n.prop,m=v.name,d=v.parentNum,_="",h=!1;switch(m){case"@index":_="index",s=!0;break;case"@item":_="item",s=!0;break;case"this":_="data[0]",s=!0;break;case"@data":_="data",s=!0;break;case"@g":_="p1.g",s=un;break;case"@root":_="(p2.root || p2)",s=un;break;case"@context":_="p2",s=un;break;case"@lt":_="'<'",s=un;break;case"@gt":_="'>'",s=un;break;case"@lb":_="'{'",s=un;break;case"@rb":_="'}'",s=un;break;case"@q":_="'\"'",s=un;break;case"@sq":_='"\'"',s=un}if(d){_||(_="data");for(var x="p2"==_,y=0;d>y;y++)_=x?_+".parent":"parent."+_;s||(h=!0)}if(s||h){var j=s===un?_:"p2."+_;o=s?j:(c?"p1.c(":"")+"p2.d('"+m+"', "+j+(c||f?", true":"")+")"+(c?", p2, "+l+")":"")}else o=(c?"p1.c(":"")+"p2.d('"+m+"'"+(c||f?", 0, true":"")+")"+(c?", p2, "+l+")":"")}o&&(o=cn(o));var S=n.prop.filters;if(S){var P=r._value++,R="_value"+P,w="_valueL"+P,E="var "+R+" = "+(u?"null":o)+", "+w+";\n";return r._tmp||(E+="var _tmp;\n",r._tmp++),b(S,function(n,o){var s=r._filter++,p=me[n.name],c=!p||p.hasOptions,f="_filter"+s,v="p1.f['"+n.name+"']",m="",d=void 0;!u||0!=o||p&&p.hasOptions||(c=!1),p&&p.onlyGlobal?E+="\nvar "+f+" = "+v+";\n":(d="_fnH"+r._fnH++,E+="\nvar "+f+";\n",E+="var "+d+" = p2.d('"+n.name+"', 0, true);\n",E+="if ("+d+") {\n",E+="  "+f+" = "+d+".val;\n",E+="} else {\n",E+="  "+f+" = "+v+";\n",E+="}\n");var _="  _tmp = "+f+".apply("+(d?d+" ? "+d+"._njCtx : p2":"p2")+", ["+(!u||o>0?R+", ":"")+(n.params&&n.params.length?n.params.reduce(function(n,o,u,s){var p=e({prop:o,escape:i},r,t,a,l),f=c||s.length-1>u;return g(p)?n+p+(f?", ":""):(m+=p.filterStr,n+p.valueStr+(f?", ":""))},""):"")+(c?on(p,a,null,t,null,null,l,null,w):"")+"]);\n";_+="  "+w+" = "+R+";\n",""!==m&&(E+=m),E+=_+="  "+R+" = _tmp;\n",E+="\n"},!1,!0),{valueStr:sn(R,t,!c&&i,s),filterStr:E}}return sn(o,t,!c&&i,s)}(u,n,r,t,a),c=void 0;if(g(p)?c=p:(c=p.valueStr,i+=p.filterStr),!e.isAll){var f=e.strs[s+1];c=(""===l&&0==s?"":" + ")+"("+c+")"+(""!==f?" + '"+pn(f)+"'":"")}if(o+=c,e.isAll)return!1},!1,!0)):d(l)&&null!=l._njLen&&(o+="{\n",b(l,function(e,n,t,l){if("_njLen"!==n){var i=0!==n.indexOf("_njT"),u="p1.main"+ln(e.node.content,e.node,r,"T"+ ++r._noT,null,null,null,i?n:null);o+='  "'+e.no+'": '+u,i&&(o+=',\n  "'+n+'": '+u)}else o+="  length: "+e;o+=",\n",t===l-1&&(o+="  _njData: p2.data,\n                         _njParent: p2.parent,\n                         _njIndex: p2.index,\n                         _njItem: p2.item,\n                         _njLevel: p1.l("+a+", p2),\n                         _njIcp: p2.icp\n")},!1,!1),o+="}"),""===i?o:{valueStr:o,filterStr:i}}function vn(e,n,r,t,a,l,o,i){var u="var _paramsE"+n+" = {};\n",s={};return e?(s._paramsE=o,s._paramsSE="_paramsE"+n):(s._paramsE="_paramsE"+n,s._paramsSE=i),u+=dn(r.content,r,t,a,s,null,l)}function mn(e,n,r,t,a,l,o){var i=e.params,u=e.paramsEx,s=e.propsExS,p=n.useString,c=u||s,f="",v=void 0;if(i||c){if(v=r._params++,f="var _params"+v+" = ",c){var m=u&&s,_=void 0,g=void 0;if(f+=(t?"''":m?"{}":"null")+";\n",u&&(_=r._paramsE++,f+=vn(!1,_,u,n,r,t,l,o)),s&&(g=r._paramsE++,f+=vn(!0,g,s,n,r,t,l,o)),t){var h="";b(i,function(e,n,r,t){0==r&&(h+="{ "),h+="'"+n+"': 1",h+=t-1>r?", ":" }"},!1,!1),f+="\n_params"+v+" += p1.ans(_paramsE"+_+", "+(""===h?"null":h)+");\n"}else f+=m?"\np1.an(_params"+v+", _paramsE"+_+", _paramsE"+g+");\n":"\n_params"+v+" = _paramsE"+(null!=_?_:g)+";\n"}if(i){var x=Object.keys(i),y=x.length,j="";t||c||(f+="{\n"),b(x,function(e,l){var o=fn(i[e],r,n,t,a);d(o)&&(j+=o.filterStr,o=o.valueStr),p||"style"!==e||(o="p1.sp("+o+")");var u=pn(e),s=i[e].onlyKey;p||(u=X(u)),f+=c?t?"_params"+v+" += ' "+u+(s?" '":"=\"' + "+o+" + '\"'")+";\n":"_params"+v+"['"+u+"'] = "+(s?"true":o)+";\n":t?(l>0?"  + ":"")+"' "+u+(s?" '":"=\"' + "+o+" + '\"'")+(l==y-1?";":"")+"\n":"  '"+u+"': "+(s?"true":o)+(y-1>l?",\n":"")},!1,!1),t||c||(f+="\n};\n"),""!==j&&(f=j+f)}}return[f,v]}function dn(e,r,t,a,l,o,i){var u="";return e?(b(e,function(e){var s=e.useString;u+=function(e,r,t,a,l,o,i,u){var s="",p=t.useString;if("nj_plaintext"===e.type){var c=fn(e.content[0],a,t,i,o),f=void 0;if(d(c)&&(f=c.filterStr,c=c.valueStr),""===c)return s;var v=_n(e,r,1,l,{text:c},t,o,i,e.allowNewline,u);f&&(v=f+v),s+=p?v:W(v)}else if("nj_ex"===e.type){var m=a._ex++,_=a._dataRefer++,g="",h="",x=ue[e.ex],y="_ex"+m,j="p1.x['"+e.ex+"']",S=void 0;x&&x.onlyGlobal?s+="\nvar "+y+" = "+j+";\n":(s+="\nvar "+y+";\n",s+="var "+(S="_fnH"+a._fnH++)+" = p2.d('"+e.ex+"', 0, true);\n",s+="if ("+S+") {\n",s+="  "+y+" = "+S+".val;\n",s+="} else {\n",s+="  "+y+" = "+j+";\n",s+="}\n"),g+="var _dataRefer"+_+" = [\n",e.args&&b(e.args,function(e,n){var r=fn(e,a,t,i,o);d(r)&&(h+=r.filterStr,r=r.valueStr),g+="  "+r+","},!1,!0);var P="p4",R="p5";if(l){var w=l._paramsE,E=l._paramsSE;w&&(P=w),E&&(R=E)}var T=mn(e,t,a,!1,o,P,R),C=T[0],k=T[1];g+=on(x,i,e,t,P,R,o,""!==C?"_params"+k:null,null,r),g+="\n];\n",""!==C&&(g+="p1.aa(_params"+k+", _dataRefer"+_+");\n"),""!==h&&(g=h+g),s+=C+g,s+=_n(e,r,2,l,{_ex:m,_dataRefer:_,fnH:S},t,o,i,e.allowNewline,u)}else{var O=a._type++,N=void 0,H=void 0;if(e.typeRefer){var A=fn(e.typeRefer,a,t,o);d(A)&&(s+=A.filterStr,A=A.valueStr),H=A,N=e.typeRefer.props[0].prop.name}else N=e.type;var L=void 0;if(p)L=H?"p1.en("+H+", '"+N+"')":"'"+N+"'";else{var G=N.toLowerCase(),$="";if(!H&&G.indexOf(".")>-1){var I=N.split(".");G=G.split(".")[0],N=I[0],$=", '"+I[1]+"'"}L=H?"p1.er("+H+", '"+G+"', p1, '"+N+"', p2)":"p1.e('"+G+"', p1, '"+N+"', p2"+$+")"}s+="\nvar _type"+O+" = "+L+";\n";var K=mn(e,t,a,p,o),M=K[0],F=K[1];s+=M;var z=void 0,B=void 0;s+=p?"var _children"+(B=a._children++)+" = '';\n":"var _compParam"+(z=a._compParam++)+" = [_type"+O+", "+(""!==M?"_params"+F:"null")+"];\n",s+=dn(e.content,e,t,a,p?{_children:"_children"+B}:{_compParam:"_compParam"+z},p&&e.type===n.noWsTag?null:null!=o?o+1:o,i),s+=_n(e,r,3,l,p?{_type:O,_typeS:N,_typeR:H,_params:""!==M?F:null,_children:B,_selfClose:e.selfCloseTag}:{_compParam:z},t,o,i,e.allowNewline,u)}return s}(e,r,t,a,l,o,null!=s?s:i,t._firstNode&&0==o),t._firstNode&&(t._firstNode=!1)},!1,!0),u):u}function _n(e,r,t,a,l,o,i,u,s,p){var c=void 0,f=o.useString,v=null!=u?u:f,m=null==i;switch(t){case 1:c=(!f||s||m?"":p?"nj_root"!==r.type?"p1.fl(p2) + ":"":"'\\n' + ")+gn(i,o,s)+hn(f,p||m)+l.text;break;case 2:c="_ex"+l._ex+".apply("+(l.fnH?l.fnH+" ? "+l.fnH+"._njCtx : p2":"p2")+", _dataRefer"+l._dataRefer+")";break;case 3:if(f)if(c=s&&"nlElem"!==s||m?"":p?"nj_root"!==r.type?"p1.fl(p2) + ":"":"'\\n' + ",e.type!==n.textTag&&e.type!==n.noWsTag){var d=gn(i,o,s),_=e.content,g=l._typeR,h=null!=l._params;c+=d+hn(f,p||m)+"'<"+(g?"' + _type"+l._type:l._typeS)+(h?(g?"":"'")+" + _params"+l._params:"")+(g||h?" + '":""),l._selfClose?c+=" />'":(c+=">'",c+=" + _children"+l._children+" + ",c+=(!_||s||m?"":"'\\n' + ")+(_?d:"")+hn(f,m)+"'</"+(g?"' + _type"+l._type+" + '":l._typeS)+">'")}else c+="_children"+l._children;else c="p1.H(_compParam"+l._compParam+")"}return"1"===a?"\nreturn "+c+";":"2"===a?v?"\nret += "+c+";\n":"\nret.push("+c+");\n":a._paramsE||a._paramsSE?"\n"+c+";\n":f?"\n"+a._children+" += "+c+";\n":"\n"+a._compParam+".push("+c+");\n"}function gn(e,n,r){var t="";if(r&&"nlElem"!==r)return t;if(n.useString&&null!=e&&e>0){t+="'";for(var a=0;e>a;a++)t+="  ";t+="' + "}return t}function hn(e,n){return e&&!n?"p1.ls(p2) + ":""}var xn=function(e,n,r){var t={useString:r,_no:0,_noT:0,_firstNode:!0};return ln(e,n,t,t._no,null,0),t},yn=n.preAsts,bn="_nj_split",jn=["style","script","textarea","xmp",n.textTag],Sn=Je;function Pn(e){var r=""+e,t=yn[r],l=this.outputH,o=this.tmplRule,i=this.onlyParse,u=this.fileName;if(!t){var s=g(e)?[e]:e,v=s.length,m="",d=!1;b(s,function(e,n){var r="";if(v-1>n){var t=e.length-1,a="#"===e[t],l="..."===e.substr(t-2);d&&(d=!o["incompleteEnd"+("isR"===d?"R":"")].test(e)),d||(d=o.incompleteStartR.test(e)?"isR":o.incompleteStart.test(e)),a?e=e.substr(0,t):l&&(e=e.substr(0,t-2)),r=(a?"#":l?"...":"")+bn+n,d||(r=o.startRule+r+o.endRule)}m+=e+r},!1,!0);var _=n.includeParser;_&&(m=_(m,u,o)),m=function(e,n){var r=n.commentRule;return e.replace(RegExp("\x3c!--"+r+"[\\s\\S]*?"+r+"--\x3e","g"),"").replace(RegExp("([\\s]+:[^\\s=>]+=(('[^']+')|(\"[^\"]+\")))|("+n.braceParamStr+")","g"),function(e,n,r,t,a,l){return(n||l).replace(Tn,function(e){return En[e]})})}(m,o),l||(n.textMode&&(m="<"+n.textTag+">"+m+"</"+n.textTag+">"),n.noWsMode&&(m="<"+n.noWsTag+">"+m+"</"+n.noWsTag+">")),t=function(e,n,r){var t=[],l={elem:t,elemName:"root",parent:null},o=n.checkElem,i=void 0,u=void 0,s=null;for(;i=o.exec(e);){var p=i[1],c=i[2],f=i[3],v=i[4],m=i[5];if(s){var d=s,_=a(d,4),g=_[0],h=_[1],x=_[2],y=_[3],b=!!c&&Ue(f,n);b&&!b[1]&&(Xe(f,n)||Ye(f,n)||Ve(b[3])||Qe(b[3]).isProp)?(l=Rn(h,l),kn(g,h,x,l.elem,null,n,r)):On(g,h,x,l.elem,n,r),wn(y,l),s=null}if(p&&""!==p&&Nn(p,l.elem),c)if("<"!==c)if(0===c.indexOf("<!"))Nn(c,l.elem);else{var j=Ue(f,n);if("/"===f[0])if(f.substr(1).toLowerCase()===u&&(u=null),j||!u){var S=l.elemName;(0>S.indexOf(bn)?f==="/"+S:f.indexOf(bn)>-1)&&(l=l.parent)}else Nn(c,l.elem);else if("/"===c[c.length-2])j||!u?On(c,f,v,l.elem,n,r):Nn(c,l.elem);else if(j||!u)if(!u&&Sn[f.toLowerCase()])s=[c,f,v,m];else{var P=f.toLowerCase();jn.indexOf(P)>-1&&(u=P),l=Rn(f,l),kn(c,f,v,l.elem,null,n,r)}else Nn(c,l.elem)}else null==m&&(m=""),m=c+m;!s&&wn(m,l)}if(s){var R=s,w=a(R,4),E=w[0],T=w[1],C=w[2],k=w[3];On(E,T,C,l.elem,n,r),wn(k,l)}return t}(m,o,l),p(t,"_njParamCount",{value:v-1}),yn[r]=t}var h=void 0,x=arguments,y=t._njParamCount;if(y>0){p(h={},"_njParam",{value:!0});for(var j=0;y>j;j++)h[bn+j]=x[j+1]}var S=void 0;if(i)S={_njTmpl:t,_njTmplKey:r};else{c(S=h?function(){return P.apply(this,f([h],arguments))}:function(){return P.apply(this,arguments)},{_njTmpl:{value:t},_njTmplKey:{value:r}});var P=n["compile"+(l?"H":"")](S,r,null,null,o)}return S}function Rn(e,n){var r={elem:[],elemName:e,parent:n};return n.elem.push(r.elem),r}function wn(e,n){e&&""!==e&&Nn(e,n.elem)}var En={"<":"_njLt_",">":"_njGt_"},Tn=/>|</g;function Cn(e,n,r,t){return t.extensionRule+(e?"strProp":"prop")+" "+t.startRule+"'"+n.substr((e?t.strPropRule.length:0)+t.propRule.length)+"'"+t.endRule+r}function kn(e,n,r,t,a,l,o){var i=void 0,u=void 0;if(qe(n,l,!0))i=e.substring(1,e.length-1);else if(Ye(n,l))i=Cn(!0,n,r,l);else if(Xe(n,l))i=Cn(!1,n,r,l);else{var s=function(e,n,r){var t=n.extensionRule,a=n.startRule,l=n.endRule,o=n.firstChar,i=n.lastChar,u=void 0;return{elem:e=(e=e.replace(n.spreadProp,function(e,n,r,s,p){return r&&(p=r),u||(u=[t+"props"]),u.push([t+"spread "+(r?o:"")+a+p.replace(/\.\.\./,"")+l+(r?i:"")+"/"])," "})).replace(RegExp("[\\s]+(:?)"+t+"([^\\s=>]+)=(('[^']+')|(\"[^\"]+\")|([^\"'\\s>]+))"),function(e,n,s,p){return u||(u=[t+"props"]),u.push([t+s,(n?(r?o:"")+a+" ":"")+function(e,n){return(Qe(e).addSet?"set ":"")+n}(s,k(p))+(n?" "+l+(r?i:""):"")])," "}),params:u}}(e,l,o);i=s.elem,u=s.params}if(a){var p=[i];u&&p.push(u),t.push(p)}else t.push(i),u&&t.push(u)}function On(e,n,r,t,a,l){/\/$/.test(n)&&(n=n.substr(0,n.length-1)),kn(e,n,r,t,!0,a,l)}function Nn(e,n){n.push(e)}function Hn(e){return function(r,t,a,l,o){if(r){if(d(t)){var i=t;t=i.tmplKey,a=i.fileName,l=i.delimiters,o=i.tmplRule}var u=void 0;if(t&&(u=n.templates[t]),!u){var s=d(r),p=void 0;if(s&&r.main)p=r;else{var f=void 0;t&&(f=n.asts[t]),f||(s&&"nj_root"===r.type?f=r:(o||(o=l?G(l):n.tmplRule),f=Gn(),g(r)&&(r=Pn.call({tmplRule:o,outputH:e,onlyParse:!0,fileName:a},r)),tn(r._njTmpl,f,o)),t&&(n.asts[t]=f)),p=xn(f.content,f,!e)}u=function(e){var r={us:e.useString,x:n.extensions,f:n.filters,np:S,tf:P,wn:R,n:Q,c:J,sp:z,r:ee,e:Z,er:q,en:U,aa:V,an:N,g:n.global,l:D};return r.us?(r.ans=Y,r.es=n.escape,r.ls=re,r.fl=te):(r.h=n.createElement,r.H=ae,r.cp=n.components),b(e,function(e,n){0===n.indexOf("main")?(r[n]=ne(r,e),c(r[n],{_njTmpl:{value:!0},tmplName:{value:e._njName}}),r["_"+n]=e):0===n.indexOf("fn")&&(r[n]=e)},!1,!1),r}(p),t&&(n.templates[t]=u)}return u.main}}}var An=Hn(),Ln=Hn(!0);function Gn(){var e=E();return e.type="nj_root",e.content=[],e}function $n(e){return function(n,r){return(e?Ln:An)(n,r?{tmplKey:r.tmplKey?r.tmplKey:n._njTmplKey,fileName:r.fileName,delimiters:r.delimiters}:n._njTmplKey).apply(null,v(arguments,1))}}var In=$n(),Kn=$n(!0);function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.outputH,t=e.delimiters,a=e.fileName,l=t?G(t):n.tmplRule;return function(){return Pn.apply({tmplRule:l,outputH:r,fileName:a},arguments)}}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.outputH=!0,Mn(e)}N(n,{compile:An,compileH:Ln,precompile:function(e,n,r){var t=Gn();return g(e)&&(e=Pn.call({tmplRule:r,outputH:n,onlyParse:!0},e)),tn(e._njTmpl,t,r),xn(t.content,t,!n)},render:In,renderH:Kn});var Fn=Mn({outputH:!1}),zn=Wn();function Bn(){return(n.outputH?zn:Fn).apply(null,arguments)()}N(n,{createTaggedTmpl:Mn,createTaggedTmplH:Wn,taggedTmpl:Fn,taggedTmplH:zn,template:Bn}),N(n,{registerComponent:H,createTmplRule:G,config:function(e){var r=e.delimiters,t=e.includeParser,a=e.createElement,l=e.outputH,o=e.textMode,i=e.noWsMode;r&&G(r,!0),t&&(n.includeParser=t),a&&(n.createElement=a),null!=l&&(n.outputH=l),null!=o&&(n.textMode=o),null!=i&&(n.noWsMode=i)}});var Dn=n.global;Dn.NornJ=Dn.nj=n,e.registerComponent=H,e.default=n,e.registerExtension=se,e.registerFilter=de,e.compile=An,e.compileH=Ln,e.render=In,e.renderH=Kn,e.taggedTmpl=Fn,e.taggedTmplH=zn,e.template=Bn,Object.defineProperty(e,"__esModule",{value:!0})});
